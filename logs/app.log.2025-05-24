2025-05-24 11:26:02,692 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 11:26:02,694 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-24 11:26:02,694 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:26:02,695 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-24 11:26:02,696 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:26:02,696 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-24 11:26:02,697 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:26:02,697 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-24 11:26:02,697 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:26:02,698 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-24 11:26:02,698 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:26:02,699 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-24 11:26:02,699 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:26:02,700 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-24 11:26:02,700 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:26:02,701 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-24 11:26:02,701 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:26:02,702 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-24 11:26:02,702 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:26:02,703 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 11:26:02,703 - fastapi_app - INFO - Database models initialized
2025-05-24 11:26:02,704 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-24 11:26:02,730 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 11:26:02,732 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-24 11:26:02,732 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ('1b80567d843749e09b27e4614299ef5a', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-24 11:26:02.731961', '2025-05-24 11:26:02.731965')
2025-05-24 11:26:02,735 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 11:26:02,740 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 11:26:02,742 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-24 11:26:02,742 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('1b80567d843749e09b27e4614299ef5a',)
2025-05-24 11:26:02,745 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-24 11:26:02,745 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('f03ed6bc633d4c9ea8864a441b93af6f', '9A', 2024, '1b80567d843749e09b27e4614299ef5a', '2025-05-24 11:26:02.745027', '2025-05-24 11:26:02.745031')
2025-05-24 11:26:02,746 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 11:26:02,750 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 11:26:02,751 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-24 11:26:02,751 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('f03ed6bc633d4c9ea8864a441b93af6f',)
2025-05-24 11:26:02,754 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-24 11:26:02,754 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s (insertmanyvalues) 1/1 (unordered)] ('43b5769db41e4555aed692b306cc6c36', 'Mathematics', '1b80567d843749e09b27e4614299ef5a', 'f03ed6bc633d4c9ea8864a441b93af6f', '2025-05-24 11:26:02.754240', '2025-05-24 11:26:02.754245', '450bdeab09534dd9a9983bc27f03f5e3', 'Physics', '1b80567d843749e09b27e4614299ef5a', 'f03ed6bc633d4c9ea8864a441b93af6f', '2025-05-24 11:26:02.754252', '2025-05-24 11:26:02.754254', 'c2009a52541b4dc5ae55664a178db5f8', 'Chemistry', '1b80567d843749e09b27e4614299ef5a', 'f03ed6bc633d4c9ea8864a441b93af6f', '2025-05-24 11:26:02.754260', '2025-05-24 11:26:02.754262', 'ec46a6dd02194745ac270f249b638d04', 'Biology', '1b80567d843749e09b27e4614299ef5a', 'f03ed6bc633d4c9ea8864a441b93af6f', '2025-05-24 11:26:02.754268', '2025-05-24 11:26:02.754269', '939763213f104d3ea015580a27117ab1', 'English', '1b80567d843749e09b27e4614299ef5a', 'f03ed6bc633d4c9ea8864a441b93af6f', '2025-05-24 11:26:02.754275', '2025-05-24 11:26:02.754276')
2025-05-24 11:26:02,757 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 11:26:02,760 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 11:26:02,762 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 11:26:02,762 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('43b5769db41e4555aed692b306cc6c36',)
2025-05-24 11:26:02,763 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 11:26:02,764 - sqlalchemy.engine.Engine - INFO - [cached since 0.00206s ago] ('450bdeab09534dd9a9983bc27f03f5e3',)
2025-05-24 11:26:02,765 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 11:26:02,765 - sqlalchemy.engine.Engine - INFO - [cached since 0.003422s ago] ('c2009a52541b4dc5ae55664a178db5f8',)
2025-05-24 11:26:02,766 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 11:26:02,766 - sqlalchemy.engine.Engine - INFO - [cached since 0.004951s ago] ('ec46a6dd02194745ac270f249b638d04',)
2025-05-24 11:26:02,768 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 11:26:02,768 - sqlalchemy.engine.Engine - INFO - [cached since 0.006401s ago] ('939763213f104d3ea015580a27117ab1',)
2025-05-24 11:26:02,771 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-24 11:26:02,771 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s (insertmanyvalues) 1/1 (unordered)] ('1e17d528bfc24387b5db504f718479ad', None, 'John Doe', 'homeroom_teacher', None, '1b80567d843749e09b27e4614299ef5a', '2025-05-24 11:26:02.771223', '2025-05-24 11:26:02.771227', '79957b497caf4948bb6c662d8b68a4c3', None, 'Jane Smith', 'subject_teacher', None, '1b80567d843749e09b27e4614299ef5a', '2025-05-24 11:26:02.771233', '2025-05-24 11:26:02.771234', '3231e1a131ef480fbbbbfd335ad3f731', None, 'Bob Johnson', 'subject_teacher', None, '1b80567d843749e09b27e4614299ef5a', '2025-05-24 11:26:02.771239', '2025-05-24 11:26:02.771240')
2025-05-24 11:26:02,773 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-24 11:26:02,773 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] [('1e17d528bfc24387b5db504f718479ad', '450bdeab09534dd9a9983bc27f03f5e3'), ('79957b497caf4948bb6c662d8b68a4c3', 'c2009a52541b4dc5ae55664a178db5f8'), ('79957b497caf4948bb6c662d8b68a4c3', 'ec46a6dd02194745ac270f249b638d04'), ('1e17d528bfc24387b5db504f718479ad', '43b5769db41e4555aed692b306cc6c36'), ('3231e1a131ef480fbbbbfd335ad3f731', '939763213f104d3ea015580a27117ab1')]
2025-05-24 11:26:02,774 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 11:26:02,778 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 11:26:02,779 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 11:26:02,779 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('1e17d528bfc24387b5db504f718479ad',)
2025-05-24 11:26:02,781 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 11:26:02,782 - sqlalchemy.engine.Engine - INFO - [cached since 0.002438s ago] ('79957b497caf4948bb6c662d8b68a4c3',)
2025-05-24 11:26:02,783 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 11:26:02,783 - sqlalchemy.engine.Engine - INFO - [cached since 0.004204s ago] ('3231e1a131ef480fbbbbfd335ad3f731',)
2025-05-24 11:26:02,786 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-24 11:26:02,786 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ('f03ed6bc633d4c9ea8864a441b93af6f', '2025-05-24 11:26:02.786466', '1e17d528bfc24387b5db504f718479ad')
2025-05-24 11:26:02,788 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 11:26:02,793 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 11:26:02,793 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 11:26:02,794 - sqlalchemy.engine.Engine - INFO - [cached since 0.0145s ago] ('1e17d528bfc24387b5db504f718479ad',)
2025-05-24 11:26:02,795 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-24 11:26:02,795 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-24 11:26:02,915 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-24 11:45:18,488 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 11:45:18,488 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 11:45:18,489 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-24 11:45:18,489 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-24 11:45:18,490 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:45:18,490 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:45:18,491 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-24 11:45:18,491 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-24 11:45:18,492 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:45:18,492 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:45:18,492 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-24 11:45:18,492 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-24 11:45:18,493 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:45:18,493 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:45:18,494 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-24 11:45:18,494 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-24 11:45:18,494 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:45:18,494 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:45:18,495 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-24 11:45:18,495 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-24 11:45:18,495 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:45:18,495 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:45:18,496 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-24 11:45:18,496 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-24 11:45:18,496 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:45:18,496 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:45:18,497 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-24 11:45:18,497 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-24 11:45:18,497 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:45:18,497 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:45:18,498 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-24 11:45:18,498 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-24 11:45:18,498 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:45:18,498 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:45:18,498 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-24 11:45:18,498 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-24 11:45:18,499 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:45:18,499 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 11:45:18,500 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 11:45:18,500 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 11:45:18,501 - fastapi_app - INFO - Database models initialized
2025-05-24 11:45:18,501 - fastapi_app - INFO - Database models initialized
2025-05-24 11:45:18,501 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-24 11:45:18,501 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-24 11:45:18,529 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 11:45:18,529 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 11:45:18,531 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-24 11:45:18,531 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-24 11:45:18,531 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ('f92bf9421c1a42b2b6909eb2f1e6131f', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-24 11:45:18.531307', '2025-05-24 11:45:18.531313')
2025-05-24 11:45:18,531 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ('f92bf9421c1a42b2b6909eb2f1e6131f', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-24 11:45:18.531307', '2025-05-24 11:45:18.531313')
2025-05-24 11:45:18,534 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 11:45:18,534 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 11:45:18,539 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 11:45:18,539 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 11:45:18,542 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-24 11:45:18,542 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-24 11:45:18,543 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ('f92bf9421c1a42b2b6909eb2f1e6131f',)
2025-05-24 11:45:18,543 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ('f92bf9421c1a42b2b6909eb2f1e6131f',)
2025-05-24 11:45:18,546 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-24 11:45:18,546 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-24 11:45:18,546 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('7d5225fe3c12423f8ee5074e41d0b672', '9A', 2024, 'f92bf9421c1a42b2b6909eb2f1e6131f', '2025-05-24 11:45:18.546149', '2025-05-24 11:45:18.546156')
2025-05-24 11:45:18,546 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('7d5225fe3c12423f8ee5074e41d0b672', '9A', 2024, 'f92bf9421c1a42b2b6909eb2f1e6131f', '2025-05-24 11:45:18.546149', '2025-05-24 11:45:18.546156')
2025-05-24 11:45:18,547 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 11:45:18,547 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 11:45:18,553 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 11:45:18,553 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 11:45:18,554 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-24 11:45:18,554 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-24 11:45:18,554 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('7d5225fe3c12423f8ee5074e41d0b672',)
2025-05-24 11:45:18,554 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('7d5225fe3c12423f8ee5074e41d0b672',)
2025-05-24 11:45:18,558 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-24 11:45:18,558 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-24 11:45:18,558 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s (insertmanyvalues) 1/1 (unordered)] ('21bd4203648a41e1a21502dc2db2cfe7', 'Mathematics', 'f92bf9421c1a42b2b6909eb2f1e6131f', '7d5225fe3c12423f8ee5074e41d0b672', '2025-05-24 11:45:18.557930', '2025-05-24 11:45:18.557936', 'c60a1d6c0f1249a4bc5848cb24a99380', 'Physics', 'f92bf9421c1a42b2b6909eb2f1e6131f', '7d5225fe3c12423f8ee5074e41d0b672', '2025-05-24 11:45:18.557945', '2025-05-24 11:45:18.557948', '99a545df11e546f7bdd8d7252f600ca0', 'Chemistry', 'f92bf9421c1a42b2b6909eb2f1e6131f', '7d5225fe3c12423f8ee5074e41d0b672', '2025-05-24 11:45:18.557957', '2025-05-24 11:45:18.557960', 'a23d6d6b74924d69ba83d3b04b8dbec3', 'Biology', 'f92bf9421c1a42b2b6909eb2f1e6131f', '7d5225fe3c12423f8ee5074e41d0b672', '2025-05-24 11:45:18.557967', '2025-05-24 11:45:18.557970', '3fa8671138294e0da1c1387b9261950d', 'English', 'f92bf9421c1a42b2b6909eb2f1e6131f', '7d5225fe3c12423f8ee5074e41d0b672', '2025-05-24 11:45:18.557977', '2025-05-24 11:45:18.557980')
2025-05-24 11:45:18,558 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s (insertmanyvalues) 1/1 (unordered)] ('21bd4203648a41e1a21502dc2db2cfe7', 'Mathematics', 'f92bf9421c1a42b2b6909eb2f1e6131f', '7d5225fe3c12423f8ee5074e41d0b672', '2025-05-24 11:45:18.557930', '2025-05-24 11:45:18.557936', 'c60a1d6c0f1249a4bc5848cb24a99380', 'Physics', 'f92bf9421c1a42b2b6909eb2f1e6131f', '7d5225fe3c12423f8ee5074e41d0b672', '2025-05-24 11:45:18.557945', '2025-05-24 11:45:18.557948', '99a545df11e546f7bdd8d7252f600ca0', 'Chemistry', 'f92bf9421c1a42b2b6909eb2f1e6131f', '7d5225fe3c12423f8ee5074e41d0b672', '2025-05-24 11:45:18.557957', '2025-05-24 11:45:18.557960', 'a23d6d6b74924d69ba83d3b04b8dbec3', 'Biology', 'f92bf9421c1a42b2b6909eb2f1e6131f', '7d5225fe3c12423f8ee5074e41d0b672', '2025-05-24 11:45:18.557967', '2025-05-24 11:45:18.557970', '3fa8671138294e0da1c1387b9261950d', 'English', 'f92bf9421c1a42b2b6909eb2f1e6131f', '7d5225fe3c12423f8ee5074e41d0b672', '2025-05-24 11:45:18.557977', '2025-05-24 11:45:18.557980')
2025-05-24 11:45:18,560 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 11:45:18,560 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 11:45:18,565 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 11:45:18,565 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 11:45:18,566 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 11:45:18,566 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 11:45:18,567 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('21bd4203648a41e1a21502dc2db2cfe7',)
2025-05-24 11:45:18,567 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('21bd4203648a41e1a21502dc2db2cfe7',)
2025-05-24 11:45:18,568 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 11:45:18,568 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 11:45:18,568 - sqlalchemy.engine.Engine - INFO - [cached since 0.002197s ago] ('c60a1d6c0f1249a4bc5848cb24a99380',)
2025-05-24 11:45:18,568 - sqlalchemy.engine.Engine - INFO - [cached since 0.002197s ago] ('c60a1d6c0f1249a4bc5848cb24a99380',)
2025-05-24 11:45:18,570 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 11:45:18,570 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 11:45:18,570 - sqlalchemy.engine.Engine - INFO - [cached since 0.004101s ago] ('99a545df11e546f7bdd8d7252f600ca0',)
2025-05-24 11:45:18,570 - sqlalchemy.engine.Engine - INFO - [cached since 0.004101s ago] ('99a545df11e546f7bdd8d7252f600ca0',)
2025-05-24 11:45:18,572 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 11:45:18,572 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 11:45:18,572 - sqlalchemy.engine.Engine - INFO - [cached since 0.005938s ago] ('a23d6d6b74924d69ba83d3b04b8dbec3',)
2025-05-24 11:45:18,572 - sqlalchemy.engine.Engine - INFO - [cached since 0.005938s ago] ('a23d6d6b74924d69ba83d3b04b8dbec3',)
2025-05-24 11:45:18,573 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 11:45:18,573 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 11:45:18,574 - sqlalchemy.engine.Engine - INFO - [cached since 0.007603s ago] ('3fa8671138294e0da1c1387b9261950d',)
2025-05-24 11:45:18,574 - sqlalchemy.engine.Engine - INFO - [cached since 0.007603s ago] ('3fa8671138294e0da1c1387b9261950d',)
2025-05-24 11:45:18,578 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-24 11:45:18,578 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-24 11:45:18,578 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s (insertmanyvalues) 1/1 (unordered)] ('579a74f583d44b6c834ef0a8a450d88d', None, 'John Doe', 'homeroom_teacher', None, 'f92bf9421c1a42b2b6909eb2f1e6131f', '2025-05-24 11:45:18.577913', '2025-05-24 11:45:18.577920', 'dcc3a91fef1a4254966fc553231e7ad3', None, 'Jane Smith', 'subject_teacher', None, 'f92bf9421c1a42b2b6909eb2f1e6131f', '2025-05-24 11:45:18.577929', '2025-05-24 11:45:18.577933', 'b62ea081b367495da5880c9d54c1085d', None, 'Bob Johnson', 'subject_teacher', None, 'f92bf9421c1a42b2b6909eb2f1e6131f', '2025-05-24 11:45:18.577940', '2025-05-24 11:45:18.577944')
2025-05-24 11:45:18,578 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s (insertmanyvalues) 1/1 (unordered)] ('579a74f583d44b6c834ef0a8a450d88d', None, 'John Doe', 'homeroom_teacher', None, 'f92bf9421c1a42b2b6909eb2f1e6131f', '2025-05-24 11:45:18.577913', '2025-05-24 11:45:18.577920', 'dcc3a91fef1a4254966fc553231e7ad3', None, 'Jane Smith', 'subject_teacher', None, 'f92bf9421c1a42b2b6909eb2f1e6131f', '2025-05-24 11:45:18.577929', '2025-05-24 11:45:18.577933', 'b62ea081b367495da5880c9d54c1085d', None, 'Bob Johnson', 'subject_teacher', None, 'f92bf9421c1a42b2b6909eb2f1e6131f', '2025-05-24 11:45:18.577940', '2025-05-24 11:45:18.577944')
2025-05-24 11:45:18,580 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-24 11:45:18,580 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-24 11:45:18,580 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] [('dcc3a91fef1a4254966fc553231e7ad3', '99a545df11e546f7bdd8d7252f600ca0'), ('dcc3a91fef1a4254966fc553231e7ad3', 'a23d6d6b74924d69ba83d3b04b8dbec3'), ('579a74f583d44b6c834ef0a8a450d88d', '21bd4203648a41e1a21502dc2db2cfe7'), ('b62ea081b367495da5880c9d54c1085d', '3fa8671138294e0da1c1387b9261950d'), ('579a74f583d44b6c834ef0a8a450d88d', 'c60a1d6c0f1249a4bc5848cb24a99380')]
2025-05-24 11:45:18,580 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] [('dcc3a91fef1a4254966fc553231e7ad3', '99a545df11e546f7bdd8d7252f600ca0'), ('dcc3a91fef1a4254966fc553231e7ad3', 'a23d6d6b74924d69ba83d3b04b8dbec3'), ('579a74f583d44b6c834ef0a8a450d88d', '21bd4203648a41e1a21502dc2db2cfe7'), ('b62ea081b367495da5880c9d54c1085d', '3fa8671138294e0da1c1387b9261950d'), ('579a74f583d44b6c834ef0a8a450d88d', 'c60a1d6c0f1249a4bc5848cb24a99380')]
2025-05-24 11:45:18,582 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 11:45:18,582 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 11:45:18,586 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 11:45:18,586 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 11:45:18,587 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 11:45:18,587 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 11:45:18,587 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('579a74f583d44b6c834ef0a8a450d88d',)
2025-05-24 11:45:18,587 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('579a74f583d44b6c834ef0a8a450d88d',)
2025-05-24 11:45:18,589 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 11:45:18,589 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 11:45:18,589 - sqlalchemy.engine.Engine - INFO - [cached since 0.002552s ago] ('dcc3a91fef1a4254966fc553231e7ad3',)
2025-05-24 11:45:18,589 - sqlalchemy.engine.Engine - INFO - [cached since 0.002552s ago] ('dcc3a91fef1a4254966fc553231e7ad3',)
2025-05-24 11:45:18,591 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 11:45:18,591 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 11:45:18,591 - sqlalchemy.engine.Engine - INFO - [cached since 0.004263s ago] ('b62ea081b367495da5880c9d54c1085d',)
2025-05-24 11:45:18,591 - sqlalchemy.engine.Engine - INFO - [cached since 0.004263s ago] ('b62ea081b367495da5880c9d54c1085d',)
2025-05-24 11:45:18,594 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-24 11:45:18,594 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-24 11:45:18,594 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('7d5225fe3c12423f8ee5074e41d0b672', '2025-05-24 11:45:18.594485', '579a74f583d44b6c834ef0a8a450d88d')
2025-05-24 11:45:18,594 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('7d5225fe3c12423f8ee5074e41d0b672', '2025-05-24 11:45:18.594485', '579a74f583d44b6c834ef0a8a450d88d')
2025-05-24 11:45:18,595 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 11:45:18,595 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 11:45:18,599 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 11:45:18,599 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 11:45:18,600 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 11:45:18,600 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 11:45:18,600 - sqlalchemy.engine.Engine - INFO - [cached since 0.01312s ago] ('579a74f583d44b6c834ef0a8a450d88d',)
2025-05-24 11:45:18,600 - sqlalchemy.engine.Engine - INFO - [cached since 0.01312s ago] ('579a74f583d44b6c834ef0a8a450d88d',)
2025-05-24 11:45:18,601 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-24 11:45:18,601 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-24 11:45:18,602 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-24 11:45:18,602 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-24 11:45:18,747 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-24 11:45:18,747 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-24 19:00:11,650 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:00:11,650 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:00:11,651 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-24 19:00:11,651 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-24 19:00:11,651 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:00:11,651 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:00:11,652 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-24 19:00:11,652 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-24 19:00:11,653 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:00:11,653 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:00:11,653 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-24 19:00:11,653 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-24 19:00:11,654 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:00:11,654 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:00:11,654 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-24 19:00:11,654 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-24 19:00:11,654 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:00:11,654 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:00:11,655 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-24 19:00:11,655 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-24 19:00:11,655 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:00:11,655 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:00:11,656 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-24 19:00:11,656 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-24 19:00:11,656 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:00:11,656 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:00:11,657 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-24 19:00:11,657 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-24 19:00:11,657 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:00:11,657 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:00:11,658 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-24 19:00:11,658 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-24 19:00:11,658 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:00:11,658 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:00:11,659 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-24 19:00:11,659 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-24 19:00:11,659 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:00:11,659 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:00:11,660 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:00:11,660 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:00:11,660 - fastapi_app - INFO - Database models initialized
2025-05-24 19:00:11,660 - fastapi_app - INFO - Database models initialized
2025-05-24 19:00:11,661 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-24 19:00:11,661 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-24 19:00:11,691 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:00:11,691 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:00:11,693 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-24 19:00:11,693 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-24 19:00:11,693 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('f984466aeab749328f382ae79ccb379c', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-24 19:00:11.693048', '2025-05-24 19:00:11.693054')
2025-05-24 19:00:11,693 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('f984466aeab749328f382ae79ccb379c', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-24 19:00:11.693048', '2025-05-24 19:00:11.693054')
2025-05-24 19:00:11,696 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:00:11,696 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:00:11,701 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:00:11,701 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:00:11,703 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-24 19:00:11,703 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-24 19:00:11,703 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('f984466aeab749328f382ae79ccb379c',)
2025-05-24 19:00:11,703 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('f984466aeab749328f382ae79ccb379c',)
2025-05-24 19:00:11,706 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-24 19:00:11,706 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-24 19:00:11,706 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('7a40a517b6be417aba21fb2cb8b9d202', '9A', 2024, 'f984466aeab749328f382ae79ccb379c', '2025-05-24 19:00:11.705971', '2025-05-24 19:00:11.705977')
2025-05-24 19:00:11,706 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('7a40a517b6be417aba21fb2cb8b9d202', '9A', 2024, 'f984466aeab749328f382ae79ccb379c', '2025-05-24 19:00:11.705971', '2025-05-24 19:00:11.705977')
2025-05-24 19:00:11,707 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:00:11,707 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:00:11,711 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:00:11,711 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:00:11,713 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-24 19:00:11,713 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-24 19:00:11,713 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('7a40a517b6be417aba21fb2cb8b9d202',)
2025-05-24 19:00:11,713 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('7a40a517b6be417aba21fb2cb8b9d202',)
2025-05-24 19:00:11,716 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-24 19:00:11,716 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-24 19:00:11,716 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s (insertmanyvalues) 1/1 (unordered)] ('d82427cbdf344939ad4b26e0aeaeb7ed', 'Mathematics', 'f984466aeab749328f382ae79ccb379c', '7a40a517b6be417aba21fb2cb8b9d202', '2025-05-24 19:00:11.716392', '2025-05-24 19:00:11.716399', '8fd2b7c6063f48768eb9c95c20821acf', 'Physics', 'f984466aeab749328f382ae79ccb379c', '7a40a517b6be417aba21fb2cb8b9d202', '2025-05-24 19:00:11.716407', '2025-05-24 19:00:11.716410', '7159f2fd07fe4ad5893eb01d82e5a6e1', 'Chemistry', 'f984466aeab749328f382ae79ccb379c', '7a40a517b6be417aba21fb2cb8b9d202', '2025-05-24 19:00:11.716417', '2025-05-24 19:00:11.716420', 'f471c91e2c1c4e88880763bbb398e524', 'Biology', 'f984466aeab749328f382ae79ccb379c', '7a40a517b6be417aba21fb2cb8b9d202', '2025-05-24 19:00:11.716427', '2025-05-24 19:00:11.716430', '90f4b740378c415480eb217f3f43f531', 'English', 'f984466aeab749328f382ae79ccb379c', '7a40a517b6be417aba21fb2cb8b9d202', '2025-05-24 19:00:11.716436', '2025-05-24 19:00:11.716439')
2025-05-24 19:00:11,716 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s (insertmanyvalues) 1/1 (unordered)] ('d82427cbdf344939ad4b26e0aeaeb7ed', 'Mathematics', 'f984466aeab749328f382ae79ccb379c', '7a40a517b6be417aba21fb2cb8b9d202', '2025-05-24 19:00:11.716392', '2025-05-24 19:00:11.716399', '8fd2b7c6063f48768eb9c95c20821acf', 'Physics', 'f984466aeab749328f382ae79ccb379c', '7a40a517b6be417aba21fb2cb8b9d202', '2025-05-24 19:00:11.716407', '2025-05-24 19:00:11.716410', '7159f2fd07fe4ad5893eb01d82e5a6e1', 'Chemistry', 'f984466aeab749328f382ae79ccb379c', '7a40a517b6be417aba21fb2cb8b9d202', '2025-05-24 19:00:11.716417', '2025-05-24 19:00:11.716420', 'f471c91e2c1c4e88880763bbb398e524', 'Biology', 'f984466aeab749328f382ae79ccb379c', '7a40a517b6be417aba21fb2cb8b9d202', '2025-05-24 19:00:11.716427', '2025-05-24 19:00:11.716430', '90f4b740378c415480eb217f3f43f531', 'English', 'f984466aeab749328f382ae79ccb379c', '7a40a517b6be417aba21fb2cb8b9d202', '2025-05-24 19:00:11.716436', '2025-05-24 19:00:11.716439')
2025-05-24 19:00:11,718 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:00:11,718 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:00:11,722 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:00:11,722 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:00:11,723 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 19:00:11,723 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 19:00:11,724 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('d82427cbdf344939ad4b26e0aeaeb7ed',)
2025-05-24 19:00:11,724 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('d82427cbdf344939ad4b26e0aeaeb7ed',)
2025-05-24 19:00:11,725 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 19:00:11,725 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 19:00:11,725 - sqlalchemy.engine.Engine - INFO - [cached since 0.002043s ago] ('8fd2b7c6063f48768eb9c95c20821acf',)
2025-05-24 19:00:11,725 - sqlalchemy.engine.Engine - INFO - [cached since 0.002043s ago] ('8fd2b7c6063f48768eb9c95c20821acf',)
2025-05-24 19:00:11,727 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 19:00:11,727 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 19:00:11,727 - sqlalchemy.engine.Engine - INFO - [cached since 0.003467s ago] ('7159f2fd07fe4ad5893eb01d82e5a6e1',)
2025-05-24 19:00:11,727 - sqlalchemy.engine.Engine - INFO - [cached since 0.003467s ago] ('7159f2fd07fe4ad5893eb01d82e5a6e1',)
2025-05-24 19:00:11,728 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 19:00:11,728 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 19:00:11,728 - sqlalchemy.engine.Engine - INFO - [cached since 0.004907s ago] ('f471c91e2c1c4e88880763bbb398e524',)
2025-05-24 19:00:11,728 - sqlalchemy.engine.Engine - INFO - [cached since 0.004907s ago] ('f471c91e2c1c4e88880763bbb398e524',)
2025-05-24 19:00:11,729 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 19:00:11,729 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 19:00:11,730 - sqlalchemy.engine.Engine - INFO - [cached since 0.006265s ago] ('90f4b740378c415480eb217f3f43f531',)
2025-05-24 19:00:11,730 - sqlalchemy.engine.Engine - INFO - [cached since 0.006265s ago] ('90f4b740378c415480eb217f3f43f531',)
2025-05-24 19:00:11,733 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-24 19:00:11,733 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-24 19:00:11,733 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/1 (unordered)] ('572d3aff9c52459c9dd74a1b8dba522b', None, 'John Doe', 'homeroom_teacher', None, 'f984466aeab749328f382ae79ccb379c', '2025-05-24 19:00:11.732932', '2025-05-24 19:00:11.732938', 'ce8f4d6e5c1e4eeaad5dd0b7244adf6f', None, 'Jane Smith', 'subject_teacher', None, 'f984466aeab749328f382ae79ccb379c', '2025-05-24 19:00:11.732944', '2025-05-24 19:00:11.732947', '67d1ef882d424cc397dea213e1c004b8', None, 'Bob Johnson', 'subject_teacher', None, 'f984466aeab749328f382ae79ccb379c', '2025-05-24 19:00:11.732954', '2025-05-24 19:00:11.732957')
2025-05-24 19:00:11,733 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/1 (unordered)] ('572d3aff9c52459c9dd74a1b8dba522b', None, 'John Doe', 'homeroom_teacher', None, 'f984466aeab749328f382ae79ccb379c', '2025-05-24 19:00:11.732932', '2025-05-24 19:00:11.732938', 'ce8f4d6e5c1e4eeaad5dd0b7244adf6f', None, 'Jane Smith', 'subject_teacher', None, 'f984466aeab749328f382ae79ccb379c', '2025-05-24 19:00:11.732944', '2025-05-24 19:00:11.732947', '67d1ef882d424cc397dea213e1c004b8', None, 'Bob Johnson', 'subject_teacher', None, 'f984466aeab749328f382ae79ccb379c', '2025-05-24 19:00:11.732954', '2025-05-24 19:00:11.732957')
2025-05-24 19:00:11,735 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-24 19:00:11,735 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-24 19:00:11,735 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] [('572d3aff9c52459c9dd74a1b8dba522b', '8fd2b7c6063f48768eb9c95c20821acf'), ('ce8f4d6e5c1e4eeaad5dd0b7244adf6f', '7159f2fd07fe4ad5893eb01d82e5a6e1'), ('ce8f4d6e5c1e4eeaad5dd0b7244adf6f', 'f471c91e2c1c4e88880763bbb398e524'), ('572d3aff9c52459c9dd74a1b8dba522b', 'd82427cbdf344939ad4b26e0aeaeb7ed'), ('67d1ef882d424cc397dea213e1c004b8', '90f4b740378c415480eb217f3f43f531')]
2025-05-24 19:00:11,735 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] [('572d3aff9c52459c9dd74a1b8dba522b', '8fd2b7c6063f48768eb9c95c20821acf'), ('ce8f4d6e5c1e4eeaad5dd0b7244adf6f', '7159f2fd07fe4ad5893eb01d82e5a6e1'), ('ce8f4d6e5c1e4eeaad5dd0b7244adf6f', 'f471c91e2c1c4e88880763bbb398e524'), ('572d3aff9c52459c9dd74a1b8dba522b', 'd82427cbdf344939ad4b26e0aeaeb7ed'), ('67d1ef882d424cc397dea213e1c004b8', '90f4b740378c415480eb217f3f43f531')]
2025-05-24 19:00:11,736 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:00:11,736 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:00:11,741 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:00:11,741 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:00:11,742 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 19:00:11,742 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 19:00:11,742 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('572d3aff9c52459c9dd74a1b8dba522b',)
2025-05-24 19:00:11,742 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('572d3aff9c52459c9dd74a1b8dba522b',)
2025-05-24 19:00:11,744 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 19:00:11,744 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 19:00:11,744 - sqlalchemy.engine.Engine - INFO - [cached since 0.001886s ago] ('ce8f4d6e5c1e4eeaad5dd0b7244adf6f',)
2025-05-24 19:00:11,744 - sqlalchemy.engine.Engine - INFO - [cached since 0.001886s ago] ('ce8f4d6e5c1e4eeaad5dd0b7244adf6f',)
2025-05-24 19:00:11,745 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 19:00:11,745 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 19:00:11,745 - sqlalchemy.engine.Engine - INFO - [cached since 0.003319s ago] ('67d1ef882d424cc397dea213e1c004b8',)
2025-05-24 19:00:11,745 - sqlalchemy.engine.Engine - INFO - [cached since 0.003319s ago] ('67d1ef882d424cc397dea213e1c004b8',)
2025-05-24 19:00:11,748 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-24 19:00:11,748 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-24 19:00:11,748 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('7a40a517b6be417aba21fb2cb8b9d202', '2025-05-24 19:00:11.748143', '572d3aff9c52459c9dd74a1b8dba522b')
2025-05-24 19:00:11,748 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('7a40a517b6be417aba21fb2cb8b9d202', '2025-05-24 19:00:11.748143', '572d3aff9c52459c9dd74a1b8dba522b')
2025-05-24 19:00:11,749 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:00:11,749 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:00:11,752 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:00:11,752 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:00:11,753 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 19:00:11,753 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 19:00:11,753 - sqlalchemy.engine.Engine - INFO - [cached since 0.01102s ago] ('572d3aff9c52459c9dd74a1b8dba522b',)
2025-05-24 19:00:11,753 - sqlalchemy.engine.Engine - INFO - [cached since 0.01102s ago] ('572d3aff9c52459c9dd74a1b8dba522b',)
2025-05-24 19:00:11,754 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-24 19:00:11,754 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-24 19:00:11,754 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-24 19:00:11,754 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-24 19:00:11,864 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-24 19:00:11,864 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-24 19:03:14,914 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:03:14,914 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:03:14,915 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-24 19:03:14,915 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-24 19:03:14,915 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:03:14,915 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:03:14,917 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-24 19:03:14,917 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-24 19:03:14,918 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:03:14,918 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:03:14,919 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-24 19:03:14,919 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-24 19:03:14,919 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:03:14,919 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:03:14,920 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-24 19:03:14,920 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-24 19:03:14,920 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:03:14,920 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:03:14,922 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-24 19:03:14,922 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-24 19:03:14,922 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:03:14,922 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:03:14,923 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-24 19:03:14,923 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-24 19:03:14,923 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:03:14,923 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:03:14,924 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-24 19:03:14,924 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-24 19:03:14,925 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:03:14,925 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:03:14,925 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-24 19:03:14,925 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-24 19:03:14,926 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:03:14,926 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:03:14,927 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-24 19:03:14,927 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-24 19:03:14,927 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:03:14,927 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-24 19:03:14,929 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:03:14,929 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:03:14,930 - fastapi_app - INFO - Database models initialized
2025-05-24 19:03:14,930 - fastapi_app - INFO - Database models initialized
2025-05-24 19:03:14,930 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-24 19:03:14,930 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-24 19:03:14,975 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:03:14,975 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:03:14,977 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-24 19:03:14,977 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-24 19:03:14,978 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('b6369747112640088a88c7e68f93633d', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-24 19:03:14.977761', '2025-05-24 19:03:14.977768')
2025-05-24 19:03:14,978 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('b6369747112640088a88c7e68f93633d', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-24 19:03:14.977761', '2025-05-24 19:03:14.977768')
2025-05-24 19:03:14,981 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:03:14,981 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:03:14,990 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:03:14,990 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:03:14,992 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-24 19:03:14,992 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-24 19:03:14,993 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] ('b6369747112640088a88c7e68f93633d',)
2025-05-24 19:03:14,993 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] ('b6369747112640088a88c7e68f93633d',)
2025-05-24 19:03:14,995 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-24 19:03:14,995 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-24 19:03:14,995 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] ('be257ffd66fe43f5b43fdac13e718e82', '9A', 2024, 'b6369747112640088a88c7e68f93633d', '2025-05-24 19:03:14.995632', '2025-05-24 19:03:14.995639')
2025-05-24 19:03:14,995 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] ('be257ffd66fe43f5b43fdac13e718e82', '9A', 2024, 'b6369747112640088a88c7e68f93633d', '2025-05-24 19:03:14.995632', '2025-05-24 19:03:14.995639')
2025-05-24 19:03:14,997 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:03:14,997 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:03:15,001 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:03:15,001 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:03:15,002 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-24 19:03:15,002 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-24 19:03:15,002 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('be257ffd66fe43f5b43fdac13e718e82',)
2025-05-24 19:03:15,002 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('be257ffd66fe43f5b43fdac13e718e82',)
2025-05-24 19:03:15,005 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-24 19:03:15,005 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-24 19:03:15,006 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s (insertmanyvalues) 1/1 (unordered)] ('6c372a2992d949abb71e16541561a7af', 'Mathematics', 'b6369747112640088a88c7e68f93633d', 'be257ffd66fe43f5b43fdac13e718e82', '2025-05-24 19:03:15.005581', '2025-05-24 19:03:15.005586', 'a2a2bb280396448685ec64c2b31b3445', 'Physics', 'b6369747112640088a88c7e68f93633d', 'be257ffd66fe43f5b43fdac13e718e82', '2025-05-24 19:03:15.005593', '2025-05-24 19:03:15.005596', '9c796e7804cb400e99c2ffc66ee56179', 'Chemistry', 'b6369747112640088a88c7e68f93633d', 'be257ffd66fe43f5b43fdac13e718e82', '2025-05-24 19:03:15.005603', '2025-05-24 19:03:15.005605', '0e1c52334a454812ae288ec5101a3a0a', 'Biology', 'b6369747112640088a88c7e68f93633d', 'be257ffd66fe43f5b43fdac13e718e82', '2025-05-24 19:03:15.005612', '2025-05-24 19:03:15.005616', '9c5155d2898e477b98c711c2dd624123', 'English', 'b6369747112640088a88c7e68f93633d', 'be257ffd66fe43f5b43fdac13e718e82', '2025-05-24 19:03:15.005621', '2025-05-24 19:03:15.005625')
2025-05-24 19:03:15,006 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s (insertmanyvalues) 1/1 (unordered)] ('6c372a2992d949abb71e16541561a7af', 'Mathematics', 'b6369747112640088a88c7e68f93633d', 'be257ffd66fe43f5b43fdac13e718e82', '2025-05-24 19:03:15.005581', '2025-05-24 19:03:15.005586', 'a2a2bb280396448685ec64c2b31b3445', 'Physics', 'b6369747112640088a88c7e68f93633d', 'be257ffd66fe43f5b43fdac13e718e82', '2025-05-24 19:03:15.005593', '2025-05-24 19:03:15.005596', '9c796e7804cb400e99c2ffc66ee56179', 'Chemistry', 'b6369747112640088a88c7e68f93633d', 'be257ffd66fe43f5b43fdac13e718e82', '2025-05-24 19:03:15.005603', '2025-05-24 19:03:15.005605', '0e1c52334a454812ae288ec5101a3a0a', 'Biology', 'b6369747112640088a88c7e68f93633d', 'be257ffd66fe43f5b43fdac13e718e82', '2025-05-24 19:03:15.005612', '2025-05-24 19:03:15.005616', '9c5155d2898e477b98c711c2dd624123', 'English', 'b6369747112640088a88c7e68f93633d', 'be257ffd66fe43f5b43fdac13e718e82', '2025-05-24 19:03:15.005621', '2025-05-24 19:03:15.005625')
2025-05-24 19:03:15,007 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:03:15,007 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:03:15,012 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:03:15,012 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:03:15,013 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 19:03:15,013 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 19:03:15,013 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('6c372a2992d949abb71e16541561a7af',)
2025-05-24 19:03:15,013 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('6c372a2992d949abb71e16541561a7af',)
2025-05-24 19:03:15,014 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 19:03:15,014 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 19:03:15,015 - sqlalchemy.engine.Engine - INFO - [cached since 0.00199s ago] ('a2a2bb280396448685ec64c2b31b3445',)
2025-05-24 19:03:15,015 - sqlalchemy.engine.Engine - INFO - [cached since 0.00199s ago] ('a2a2bb280396448685ec64c2b31b3445',)
2025-05-24 19:03:15,016 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 19:03:15,016 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 19:03:15,016 - sqlalchemy.engine.Engine - INFO - [cached since 0.00367s ago] ('9c796e7804cb400e99c2ffc66ee56179',)
2025-05-24 19:03:15,016 - sqlalchemy.engine.Engine - INFO - [cached since 0.00367s ago] ('9c796e7804cb400e99c2ffc66ee56179',)
2025-05-24 19:03:15,018 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 19:03:15,018 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 19:03:15,018 - sqlalchemy.engine.Engine - INFO - [cached since 0.005271s ago] ('0e1c52334a454812ae288ec5101a3a0a',)
2025-05-24 19:03:15,018 - sqlalchemy.engine.Engine - INFO - [cached since 0.005271s ago] ('0e1c52334a454812ae288ec5101a3a0a',)
2025-05-24 19:03:15,019 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 19:03:15,019 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-24 19:03:15,020 - sqlalchemy.engine.Engine - INFO - [cached since 0.006882s ago] ('9c5155d2898e477b98c711c2dd624123',)
2025-05-24 19:03:15,020 - sqlalchemy.engine.Engine - INFO - [cached since 0.006882s ago] ('9c5155d2898e477b98c711c2dd624123',)
2025-05-24 19:03:15,023 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-24 19:03:15,023 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-24 19:03:15,023 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s (insertmanyvalues) 1/1 (unordered)] ('5172f75c3aab4748a83a93b0dfc292bf', None, 'John Doe', 'homeroom_teacher', None, 'b6369747112640088a88c7e68f93633d', '2025-05-24 19:03:15.023196', '2025-05-24 19:03:15.023201', 'cc8bceffba8345a899cf2c45f8052772', None, 'Jane Smith', 'subject_teacher', None, 'b6369747112640088a88c7e68f93633d', '2025-05-24 19:03:15.023208', '2025-05-24 19:03:15.023211', '38a5bb656cb74424b84862a745e2f4f7', None, 'Bob Johnson', 'subject_teacher', None, 'b6369747112640088a88c7e68f93633d', '2025-05-24 19:03:15.023217', '2025-05-24 19:03:15.023220')
2025-05-24 19:03:15,023 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s (insertmanyvalues) 1/1 (unordered)] ('5172f75c3aab4748a83a93b0dfc292bf', None, 'John Doe', 'homeroom_teacher', None, 'b6369747112640088a88c7e68f93633d', '2025-05-24 19:03:15.023196', '2025-05-24 19:03:15.023201', 'cc8bceffba8345a899cf2c45f8052772', None, 'Jane Smith', 'subject_teacher', None, 'b6369747112640088a88c7e68f93633d', '2025-05-24 19:03:15.023208', '2025-05-24 19:03:15.023211', '38a5bb656cb74424b84862a745e2f4f7', None, 'Bob Johnson', 'subject_teacher', None, 'b6369747112640088a88c7e68f93633d', '2025-05-24 19:03:15.023217', '2025-05-24 19:03:15.023220')
2025-05-24 19:03:15,025 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-24 19:03:15,025 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-24 19:03:15,025 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] [('5172f75c3aab4748a83a93b0dfc292bf', '6c372a2992d949abb71e16541561a7af'), ('38a5bb656cb74424b84862a745e2f4f7', '9c5155d2898e477b98c711c2dd624123'), ('5172f75c3aab4748a83a93b0dfc292bf', 'a2a2bb280396448685ec64c2b31b3445'), ('cc8bceffba8345a899cf2c45f8052772', '9c796e7804cb400e99c2ffc66ee56179'), ('cc8bceffba8345a899cf2c45f8052772', '0e1c52334a454812ae288ec5101a3a0a')]
2025-05-24 19:03:15,025 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] [('5172f75c3aab4748a83a93b0dfc292bf', '6c372a2992d949abb71e16541561a7af'), ('38a5bb656cb74424b84862a745e2f4f7', '9c5155d2898e477b98c711c2dd624123'), ('5172f75c3aab4748a83a93b0dfc292bf', 'a2a2bb280396448685ec64c2b31b3445'), ('cc8bceffba8345a899cf2c45f8052772', '9c796e7804cb400e99c2ffc66ee56179'), ('cc8bceffba8345a899cf2c45f8052772', '0e1c52334a454812ae288ec5101a3a0a')]
2025-05-24 19:03:15,027 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:03:15,027 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:03:15,031 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:03:15,031 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:03:15,032 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 19:03:15,032 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 19:03:15,032 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('5172f75c3aab4748a83a93b0dfc292bf',)
2025-05-24 19:03:15,032 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('5172f75c3aab4748a83a93b0dfc292bf',)
2025-05-24 19:03:15,034 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 19:03:15,034 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 19:03:15,034 - sqlalchemy.engine.Engine - INFO - [cached since 0.002053s ago] ('cc8bceffba8345a899cf2c45f8052772',)
2025-05-24 19:03:15,034 - sqlalchemy.engine.Engine - INFO - [cached since 0.002053s ago] ('cc8bceffba8345a899cf2c45f8052772',)
2025-05-24 19:03:15,035 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 19:03:15,035 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 19:03:15,035 - sqlalchemy.engine.Engine - INFO - [cached since 0.003638s ago] ('38a5bb656cb74424b84862a745e2f4f7',)
2025-05-24 19:03:15,035 - sqlalchemy.engine.Engine - INFO - [cached since 0.003638s ago] ('38a5bb656cb74424b84862a745e2f4f7',)
2025-05-24 19:03:15,038 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-24 19:03:15,038 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-24 19:03:15,038 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('be257ffd66fe43f5b43fdac13e718e82', '2025-05-24 19:03:15.038307', '5172f75c3aab4748a83a93b0dfc292bf')
2025-05-24 19:03:15,038 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('be257ffd66fe43f5b43fdac13e718e82', '2025-05-24 19:03:15.038307', '5172f75c3aab4748a83a93b0dfc292bf')
2025-05-24 19:03:15,039 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:03:15,039 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-24 19:03:15,044 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:03:15,044 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-24 19:03:15,044 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 19:03:15,044 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-24 19:03:15,045 - sqlalchemy.engine.Engine - INFO - [cached since 0.01275s ago] ('5172f75c3aab4748a83a93b0dfc292bf',)
2025-05-24 19:03:15,045 - sqlalchemy.engine.Engine - INFO - [cached since 0.01275s ago] ('5172f75c3aab4748a83a93b0dfc292bf',)
2025-05-24 19:03:15,046 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-24 19:03:15,046 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-24 19:03:15,046 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-24 19:03:15,046 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-24 19:03:15,234 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-24 19:03:15,234 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-25 10:39:22,491 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-25 10:39:22,493 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-25 10:39:22,493 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-25 10:39:22,497 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-25 10:39:22,497 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-25 10:39:22,499 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-25 10:39:22,500 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-25 10:39:22,502 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-25 10:39:22,502 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-25 10:39:22,504 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-25 10:39:22,505 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-25 10:39:22,507 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-25 10:39:22,508 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-25 10:39:22,509 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-25 10:39:22,510 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-25 10:39:22,512 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-25 10:39:22,512 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-25 10:39:22,514 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-25 10:39:22,515 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-25 10:39:22,517 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-25 10:39:22,518 - fastapi_app - INFO - Database models initialized
2025-05-25 10:39:22,519 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-25 10:39:22,596 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-25 10:39:22,600 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-25 10:39:22,601 - sqlalchemy.engine.Engine - INFO - [generated in 0.00112s] ('dc775a92d8de4f9597c93979c16da92f', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-25 10:39:22.600352', '2025-05-25 10:39:22.600378')
2025-05-25 10:39:22,606 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-25 10:39:22,612 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-25 10:39:22,618 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-25 10:39:22,619 - sqlalchemy.engine.Engine - INFO - [generated in 0.00096s] ('dc775a92d8de4f9597c93979c16da92f',)
2025-05-25 10:39:22,625 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-25 10:39:22,625 - sqlalchemy.engine.Engine - INFO - [generated in 0.00114s] ('d3d3e2e9e07b47faaef1a0a51f388315', '9A', 2024, 'dc775a92d8de4f9597c93979c16da92f', '2025-05-25 10:39:22.624987', '2025-05-25 10:39:22.624995')
2025-05-25 10:39:22,628 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-25 10:39:22,634 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-25 10:39:22,637 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-25 10:39:22,638 - sqlalchemy.engine.Engine - INFO - [generated in 0.00097s] ('d3d3e2e9e07b47faaef1a0a51f388315',)
2025-05-25 10:39:22,645 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-25 10:39:22,645 - sqlalchemy.engine.Engine - INFO - [generated in 0.00065s (insertmanyvalues) 1/1 (unordered)] ('8d0c2bf8253442b7b5317d5a0c5d1ea3', 'Mathematics', 'dc775a92d8de4f9597c93979c16da92f', 'd3d3e2e9e07b47faaef1a0a51f388315', '2025-05-25 10:39:22.644601', '2025-05-25 10:39:22.644609', 'b5473309226b43ac9971105e4b4863cc', 'Physics', 'dc775a92d8de4f9597c93979c16da92f', 'd3d3e2e9e07b47faaef1a0a51f388315', '2025-05-25 10:39:22.644627', '2025-05-25 10:39:22.644632', '883757e6d0e1448ea5eaa64cde4141e8', 'Chemistry', 'dc775a92d8de4f9597c93979c16da92f', 'd3d3e2e9e07b47faaef1a0a51f388315', '2025-05-25 10:39:22.644649', '2025-05-25 10:39:22.644653', '9d8b7ba0d36d4ab29d9c3c5ab9490d1a', 'Biology', 'dc775a92d8de4f9597c93979c16da92f', 'd3d3e2e9e07b47faaef1a0a51f388315', '2025-05-25 10:39:22.644669', '2025-05-25 10:39:22.644673', '05d2b82c817b4323a0f62ec915f7b32e', 'English', 'dc775a92d8de4f9597c93979c16da92f', 'd3d3e2e9e07b47faaef1a0a51f388315', '2025-05-25 10:39:22.644686', '2025-05-25 10:39:22.644691')
2025-05-25 10:39:22,648 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-25 10:39:22,654 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-25 10:39:22,656 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-25 10:39:22,657 - sqlalchemy.engine.Engine - INFO - [generated in 0.00077s] ('8d0c2bf8253442b7b5317d5a0c5d1ea3',)
2025-05-25 10:39:22,661 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-25 10:39:22,661 - sqlalchemy.engine.Engine - INFO - [cached since 0.004802s ago] ('b5473309226b43ac9971105e4b4863cc',)
2025-05-25 10:39:22,664 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-25 10:39:22,664 - sqlalchemy.engine.Engine - INFO - [cached since 0.008137s ago] ('883757e6d0e1448ea5eaa64cde4141e8',)
2025-05-25 10:39:22,667 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-25 10:39:22,667 - sqlalchemy.engine.Engine - INFO - [cached since 0.01065s ago] ('9d8b7ba0d36d4ab29d9c3c5ab9490d1a',)
2025-05-25 10:39:22,669 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-25 10:39:22,669 - sqlalchemy.engine.Engine - INFO - [cached since 0.01291s ago] ('05d2b82c817b4323a0f62ec915f7b32e',)
2025-05-25 10:39:22,674 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-25 10:39:22,675 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s (insertmanyvalues) 1/1 (unordered)] ('846c406eda0543d08a8c0b7c8fb53ad8', None, 'John Doe', 'homeroom_teacher', None, 'dc775a92d8de4f9597c93979c16da92f', '2025-05-25 10:39:22.674555', '2025-05-25 10:39:22.674561', '5039afa0be3b4e96bff2a1f72f5336d3', None, 'Jane Smith', 'subject_teacher', None, 'dc775a92d8de4f9597c93979c16da92f', '2025-05-25 10:39:22.674572', '2025-05-25 10:39:22.674575', '3fa2b185ea5142c48f12c991a2398dca', None, 'Bob Johnson', 'subject_teacher', None, 'dc775a92d8de4f9597c93979c16da92f', '2025-05-25 10:39:22.674584', '2025-05-25 10:39:22.674587')
2025-05-25 10:39:22,677 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-25 10:39:22,678 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] [('846c406eda0543d08a8c0b7c8fb53ad8', 'b5473309226b43ac9971105e4b4863cc'), ('5039afa0be3b4e96bff2a1f72f5336d3', '883757e6d0e1448ea5eaa64cde4141e8'), ('5039afa0be3b4e96bff2a1f72f5336d3', '9d8b7ba0d36d4ab29d9c3c5ab9490d1a'), ('846c406eda0543d08a8c0b7c8fb53ad8', '8d0c2bf8253442b7b5317d5a0c5d1ea3'), ('3fa2b185ea5142c48f12c991a2398dca', '05d2b82c817b4323a0f62ec915f7b32e')]
2025-05-25 10:39:22,680 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-25 10:39:22,685 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-25 10:39:22,687 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-25 10:39:22,687 - sqlalchemy.engine.Engine - INFO - [generated in 0.00060s] ('846c406eda0543d08a8c0b7c8fb53ad8',)
2025-05-25 10:39:22,690 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-25 10:39:22,690 - sqlalchemy.engine.Engine - INFO - [cached since 0.003437s ago] ('5039afa0be3b4e96bff2a1f72f5336d3',)
2025-05-25 10:39:22,692 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-25 10:39:22,693 - sqlalchemy.engine.Engine - INFO - [cached since 0.005741s ago] ('3fa2b185ea5142c48f12c991a2398dca',)
2025-05-25 10:39:22,696 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-25 10:39:22,697 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] ('d3d3e2e9e07b47faaef1a0a51f388315', '2025-05-25 10:39:22.696791', '846c406eda0543d08a8c0b7c8fb53ad8')
2025-05-25 10:39:22,698 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-25 10:39:22,703 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-25 10:39:22,704 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-25 10:39:22,704 - sqlalchemy.engine.Engine - INFO - [cached since 0.01758s ago] ('846c406eda0543d08a8c0b7c8fb53ad8',)
2025-05-25 10:39:22,706 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-25 10:39:22,707 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-25 10:39:22,838 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
