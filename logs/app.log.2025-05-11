2025-05-11 06:45:48,379 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:45:48,379 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:45:48,380 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 06:45:48,380 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 06:45:48,380 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:45:48,380 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:45:48,382 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 06:45:48,382 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 06:45:48,382 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:45:48,382 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:45:48,383 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 06:45:48,383 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 06:45:48,383 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:45:48,383 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:45:48,384 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 06:45:48,384 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 06:45:48,384 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:45:48,384 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:45:48,385 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 06:45:48,385 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 06:45:48,386 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:45:48,386 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:45:48,386 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 06:45:48,386 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 06:45:48,386 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:45:48,386 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:45:48,387 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 06:45:48,387 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 06:45:48,387 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:45:48,387 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:45:48,389 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 06:45:48,389 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 06:45:48,389 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:45:48,389 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:45:48,389 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 06:45:48,389 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 06:45:48,390 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:45:48,390 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:45:48,390 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:45:48,390 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:45:48,391 - fastapi_app - INFO - Database models initialized
2025-05-11 06:45:48,391 - fastapi_app - INFO - Database models initialized
2025-05-11 06:45:48,391 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 06:45:48,391 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 06:45:48,412 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:45:48,412 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:45:48,414 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 06:45:48,414 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 06:45:48,414 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 06:45:48.414579', '2025-05-11 06:45:48.414584')
2025-05-11 06:45:48,414 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 06:45:48.414579', '2025-05-11 06:45:48.414584')
2025-05-11 06:45:48,416 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:45:48,416 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:45:48,423 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:45:48,423 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:45:48,426 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 06:45:48,426 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 06:45:48,426 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (145,)
2025-05-11 06:45:48,426 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (145,)
2025-05-11 06:45:48,428 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:45:48,428 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:45:48,429 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 145, '2025-05-11 06:45:48.428749', '2025-05-11 06:45:48.428754')
2025-05-11 06:45:48,429 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 145, '2025-05-11 06:45:48.428749', '2025-05-11 06:45:48.428754')
2025-05-11 06:45:48,430 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:45:48,430 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:45:48,430 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 145, '2025-05-11 06:45:48.428758', '2025-05-11 06:45:48.428760')
2025-05-11 06:45:48,430 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 145, '2025-05-11 06:45:48.428758', '2025-05-11 06:45:48.428760')
2025-05-11 06:45:48,431 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:45:48,431 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:45:48,431 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 145, '2025-05-11 06:45:48.428762', '2025-05-11 06:45:48.428764')
2025-05-11 06:45:48,431 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 145, '2025-05-11 06:45:48.428762', '2025-05-11 06:45:48.428764')
2025-05-11 06:45:48,431 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:45:48,431 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:45:48,431 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 145, '2025-05-11 06:45:48.428767', '2025-05-11 06:45:48.428769')
2025-05-11 06:45:48,431 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 145, '2025-05-11 06:45:48.428767', '2025-05-11 06:45:48.428769')
2025-05-11 06:45:48,432 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:45:48,432 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:45:48,432 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 145, '2025-05-11 06:45:48.428771', '2025-05-11 06:45:48.428773')
2025-05-11 06:45:48,432 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 145, '2025-05-11 06:45:48.428771', '2025-05-11 06:45:48.428773')
2025-05-11 06:45:48,433 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:45:48,433 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:45:48,437 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:45:48,437 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:45:48,438 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:45:48,438 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:45:48,438 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (721,)
2025-05-11 06:45:48,438 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (721,)
2025-05-11 06:45:48,439 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:45:48,439 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:45:48,439 - sqlalchemy.engine.Engine - INFO - [cached since 0.001743s ago] (722,)
2025-05-11 06:45:48,439 - sqlalchemy.engine.Engine - INFO - [cached since 0.001743s ago] (722,)
2025-05-11 06:45:48,441 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:45:48,441 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:45:48,441 - sqlalchemy.engine.Engine - INFO - [cached since 0.003091s ago] (723,)
2025-05-11 06:45:48,441 - sqlalchemy.engine.Engine - INFO - [cached since 0.003091s ago] (723,)
2025-05-11 06:45:48,442 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:45:48,442 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:45:48,442 - sqlalchemy.engine.Engine - INFO - [cached since 0.004492s ago] (724,)
2025-05-11 06:45:48,442 - sqlalchemy.engine.Engine - INFO - [cached since 0.004492s ago] (724,)
2025-05-11 06:45:48,443 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:45:48,443 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:45:48,444 - sqlalchemy.engine.Engine - INFO - [cached since 0.005878s ago] (725,)
2025-05-11 06:45:48,444 - sqlalchemy.engine.Engine - INFO - [cached since 0.005878s ago] (725,)
2025-05-11 06:45:48,446 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:45:48,446 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:45:48,447 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 145, '2025-05-11 06:45:48.446841', '2025-05-11 06:45:48.446847')
2025-05-11 06:45:48,447 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 145, '2025-05-11 06:45:48.446841', '2025-05-11 06:45:48.446847')
2025-05-11 06:45:48,448 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:45:48,448 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:45:48,448 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 145, '2025-05-11 06:45:48.446849', '2025-05-11 06:45:48.446852')
2025-05-11 06:45:48,448 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 145, '2025-05-11 06:45:48.446849', '2025-05-11 06:45:48.446852')
2025-05-11 06:45:48,449 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:45:48,449 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:45:48,449 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 145, '2025-05-11 06:45:48.446855', '2025-05-11 06:45:48.446858')
2025-05-11 06:45:48,449 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 145, '2025-05-11 06:45:48.446855', '2025-05-11 06:45:48.446858')
2025-05-11 06:45:48,450 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 06:45:48,450 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 06:45:48,450 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] [(434, 724), (435, 725), (433, 722), (433, 721), (434, 723)]
2025-05-11 06:45:48,450 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] [(434, 724), (435, 725), (433, 722), (433, 721), (434, 723)]
2025-05-11 06:45:48,451 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:45:48,451 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:45:48,456 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:45:48,456 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:45:48,457 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:45:48,457 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:45:48,457 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (433,)
2025-05-11 06:45:48,457 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (433,)
2025-05-11 06:45:48,459 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:45:48,459 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:45:48,459 - sqlalchemy.engine.Engine - INFO - [cached since 0.001697s ago] (434,)
2025-05-11 06:45:48,459 - sqlalchemy.engine.Engine - INFO - [cached since 0.001697s ago] (434,)
2025-05-11 06:45:48,460 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:45:48,460 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:45:48,460 - sqlalchemy.engine.Engine - INFO - [cached since 0.003116s ago] (435,)
2025-05-11 06:45:48,460 - sqlalchemy.engine.Engine - INFO - [cached since 0.003116s ago] (435,)
2025-05-11 06:45:48,462 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 06:45:48,462 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 06:45:48,463 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('9A', 145, 433, '2025-05-11 06:45:48.462768', '2025-05-11 06:45:48.462773')
2025-05-11 06:45:48,463 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('9A', 145, 433, '2025-05-11 06:45:48.462768', '2025-05-11 06:45:48.462773')
2025-05-11 06:45:48,464 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:45:48,464 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:45:48,469 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:45:48,469 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:45:48,470 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 06:45:48,470 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 06:45:48,470 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (145,)
2025-05-11 06:45:48,470 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (145,)
2025-05-11 06:45:48,471 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 06:45:48,471 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 06:45:48,471 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:45:48,471 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:45:55,143 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:45:55,143 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:45:55,180 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:45:55,180 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:45:55,180 - sqlalchemy.engine.Engine - INFO - [generated in 0.00068s] (896700645,)
2025-05-11 06:45:55,180 - sqlalchemy.engine.Engine - INFO - [generated in 0.00068s] (896700645,)
2025-05-11 06:45:55,184 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:45:55,184 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:45:59,178 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:45:59,178 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:45:59,179 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:45:59,179 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:45:59,179 - sqlalchemy.engine.Engine - INFO - [cached since 4s ago] (896700645,)
2025-05-11 06:45:59,179 - sqlalchemy.engine.Engine - INFO - [cached since 4s ago] (896700645,)
2025-05-11 06:45:59,182 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:45:59,182 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:46:12,939 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:46:12,939 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:46:12,940 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:46:12,940 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:46:12,940 - sqlalchemy.engine.Engine - INFO - [cached since 17.76s ago] (896700645,)
2025-05-11 06:46:12,940 - sqlalchemy.engine.Engine - INFO - [cached since 17.76s ago] (896700645,)
2025-05-11 06:46:12,943 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:46:12,943 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:46:32,320 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:46:32,320 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:46:32,320 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:46:32,320 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:46:32,321 - sqlalchemy.engine.Engine - INFO - [cached since 37.14s ago] (896700645,)
2025-05-11 06:46:32,321 - sqlalchemy.engine.Engine - INFO - [cached since 37.14s ago] (896700645,)
2025-05-11 06:46:32,322 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:46:32,322 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:47:41,931 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:47:41,931 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:47:41,931 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:47:41,931 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:47:41,931 - sqlalchemy.engine.Engine - INFO - [cached since 106.8s ago] (896700645,)
2025-05-11 06:47:41,931 - sqlalchemy.engine.Engine - INFO - [cached since 106.8s ago] (896700645,)
2025-05-11 06:47:41,932 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:47:41,932 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:48:30,207 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:48:30,207 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:48:30,208 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:48:30,208 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:48:30,209 - sqlalchemy.engine.Engine - INFO - [cached since 155s ago] (896700645,)
2025-05-11 06:48:30,209 - sqlalchemy.engine.Engine - INFO - [cached since 155s ago] (896700645,)
2025-05-11 06:48:30,210 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:48:30,210 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:48:38,561 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:48:38,561 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:48:38,561 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:48:38,561 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:48:38,562 - sqlalchemy.engine.Engine - INFO - [cached since 163.4s ago] (896700645,)
2025-05-11 06:48:38,562 - sqlalchemy.engine.Engine - INFO - [cached since 163.4s ago] (896700645,)
2025-05-11 06:48:38,564 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (uuid, chat_id, role, name, teacher_subjects, parent_children, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 06:48:38,564 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (uuid, chat_id, role, name, teacher_subjects, parent_children, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 06:48:38,564 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('6f080a36a47a4e8b92274b83e4272f43', 896700645, 'student', 'влофцлво', 'null', 'null', '2025-05-11 06:48:38.564146', '2025-05-11 06:48:38.564152')
2025-05-11 06:48:38,564 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('6f080a36a47a4e8b92274b83e4272f43', 896700645, 'student', 'влофцлво', 'null', 'null', '2025-05-11 06:48:38.564146', '2025-05-11 06:48:38.564152')
2025-05-11 06:48:38,566 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:48:38,566 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:48:38,571 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:48:38,571 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:48:38,573 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.uuid = ?
2025-05-11 06:48:38,573 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.uuid = ?
2025-05-11 06:48:38,573 - sqlalchemy.engine.Engine - INFO - [generated in 0.00062s] ('6f080a36a47a4e8b92274b83e4272f43',)
2025-05-11 06:48:38,573 - sqlalchemy.engine.Engine - INFO - [generated in 0.00062s] ('6f080a36a47a4e8b92274b83e4272f43',)
2025-05-11 06:48:38,576 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:48:38,576 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:48:42,759 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:48:42,759 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:48:42,760 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:48:42,760 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:48:42,760 - sqlalchemy.engine.Engine - INFO - [cached since 167.6s ago] (896700645,)
2025-05-11 06:48:42,760 - sqlalchemy.engine.Engine - INFO - [cached since 167.6s ago] (896700645,)
2025-05-11 06:48:42,762 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:48:42,762 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:50:37,614 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:37,614 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:37,614 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 06:50:37,614 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 06:50:37,615 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:37,615 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:37,616 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 06:50:37,616 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 06:50:37,617 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:37,617 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:37,618 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 06:50:37,618 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 06:50:37,618 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:37,618 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:37,619 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 06:50:37,619 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 06:50:37,619 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:37,619 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:37,619 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 06:50:37,619 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 06:50:37,620 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:37,620 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:37,621 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 06:50:37,621 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 06:50:37,621 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:37,621 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:37,622 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 06:50:37,622 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 06:50:37,622 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:37,622 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:37,623 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 06:50:37,623 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 06:50:37,624 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:37,624 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:37,625 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 06:50:37,625 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 06:50:37,625 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:37,625 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:37,626 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:50:37,626 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:50:37,627 - fastapi_app - INFO - Database models initialized
2025-05-11 06:50:37,627 - fastapi_app - INFO - Database models initialized
2025-05-11 06:50:37,627 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 06:50:37,627 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 06:50:37,649 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:37,649 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:37,651 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 06:50:37,651 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 06:50:37,651 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 06:50:37.651225', '2025-05-11 06:50:37.651230')
2025-05-11 06:50:37,651 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 06:50:37.651225', '2025-05-11 06:50:37.651230')
2025-05-11 06:50:37,652 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:50:37,652 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:50:37,660 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:37,660 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:37,662 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 06:50:37,662 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 06:50:37,662 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] (146,)
2025-05-11 06:50:37,662 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] (146,)
2025-05-11 06:50:37,665 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:50:37,665 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:50:37,665 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 146, '2025-05-11 06:50:37.665212', '2025-05-11 06:50:37.665357')
2025-05-11 06:50:37,665 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 146, '2025-05-11 06:50:37.665212', '2025-05-11 06:50:37.665357')
2025-05-11 06:50:37,666 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:50:37,666 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:50:37,666 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 146, '2025-05-11 06:50:37.665361', '2025-05-11 06:50:37.665363')
2025-05-11 06:50:37,666 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 146, '2025-05-11 06:50:37.665361', '2025-05-11 06:50:37.665363')
2025-05-11 06:50:37,667 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:50:37,667 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:50:37,667 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 146, '2025-05-11 06:50:37.665365', '2025-05-11 06:50:37.665367')
2025-05-11 06:50:37,667 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 146, '2025-05-11 06:50:37.665365', '2025-05-11 06:50:37.665367')
2025-05-11 06:50:37,668 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:50:37,668 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:50:37,668 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 146, '2025-05-11 06:50:37.665370', '2025-05-11 06:50:37.665373')
2025-05-11 06:50:37,668 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 146, '2025-05-11 06:50:37.665370', '2025-05-11 06:50:37.665373')
2025-05-11 06:50:37,668 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:50:37,668 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:50:37,668 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 146, '2025-05-11 06:50:37.665375', '2025-05-11 06:50:37.665376')
2025-05-11 06:50:37,668 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 146, '2025-05-11 06:50:37.665375', '2025-05-11 06:50:37.665376')
2025-05-11 06:50:37,669 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:50:37,669 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:50:37,674 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:37,674 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:37,675 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:50:37,675 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:50:37,675 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (726,)
2025-05-11 06:50:37,675 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (726,)
2025-05-11 06:50:37,677 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:50:37,677 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:50:37,677 - sqlalchemy.engine.Engine - INFO - [cached since 0.002204s ago] (727,)
2025-05-11 06:50:37,677 - sqlalchemy.engine.Engine - INFO - [cached since 0.002204s ago] (727,)
2025-05-11 06:50:37,678 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:50:37,678 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:50:37,678 - sqlalchemy.engine.Engine - INFO - [cached since 0.003269s ago] (728,)
2025-05-11 06:50:37,678 - sqlalchemy.engine.Engine - INFO - [cached since 0.003269s ago] (728,)
2025-05-11 06:50:37,679 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:50:37,679 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:50:37,679 - sqlalchemy.engine.Engine - INFO - [cached since 0.004328s ago] (729,)
2025-05-11 06:50:37,679 - sqlalchemy.engine.Engine - INFO - [cached since 0.004328s ago] (729,)
2025-05-11 06:50:37,680 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:50:37,680 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:50:37,681 - sqlalchemy.engine.Engine - INFO - [cached since 0.005535s ago] (730,)
2025-05-11 06:50:37,681 - sqlalchemy.engine.Engine - INFO - [cached since 0.005535s ago] (730,)
2025-05-11 06:50:37,683 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:50:37,683 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:50:37,683 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 146, '2025-05-11 06:50:37.683165', '2025-05-11 06:50:37.683171')
2025-05-11 06:50:37,683 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 146, '2025-05-11 06:50:37.683165', '2025-05-11 06:50:37.683171')
2025-05-11 06:50:37,684 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:50:37,684 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:50:37,684 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 146, '2025-05-11 06:50:37.683173', '2025-05-11 06:50:37.683176')
2025-05-11 06:50:37,684 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 146, '2025-05-11 06:50:37.683173', '2025-05-11 06:50:37.683176')
2025-05-11 06:50:37,685 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:50:37,685 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:50:37,685 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 146, '2025-05-11 06:50:37.683178', '2025-05-11 06:50:37.683180')
2025-05-11 06:50:37,685 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 146, '2025-05-11 06:50:37.683178', '2025-05-11 06:50:37.683180')
2025-05-11 06:50:37,687 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 06:50:37,687 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 06:50:37,687 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] [(436, 727), (436, 726), (437, 728), (437, 729), (438, 730)]
2025-05-11 06:50:37,687 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] [(436, 727), (436, 726), (437, 728), (437, 729), (438, 730)]
2025-05-11 06:50:37,688 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:50:37,688 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:50:37,692 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:37,692 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:37,693 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:50:37,693 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:50:37,693 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (436,)
2025-05-11 06:50:37,693 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (436,)
2025-05-11 06:50:37,695 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:50:37,695 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:50:37,695 - sqlalchemy.engine.Engine - INFO - [cached since 0.00171s ago] (437,)
2025-05-11 06:50:37,695 - sqlalchemy.engine.Engine - INFO - [cached since 0.00171s ago] (437,)
2025-05-11 06:50:37,696 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:50:37,696 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:50:37,696 - sqlalchemy.engine.Engine - INFO - [cached since 0.003142s ago] (438,)
2025-05-11 06:50:37,696 - sqlalchemy.engine.Engine - INFO - [cached since 0.003142s ago] (438,)
2025-05-11 06:50:37,699 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 06:50:37,699 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 06:50:37,699 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('9A', 146, 436, '2025-05-11 06:50:37.699225', '2025-05-11 06:50:37.699231')
2025-05-11 06:50:37,699 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('9A', 146, 436, '2025-05-11 06:50:37.699225', '2025-05-11 06:50:37.699231')
2025-05-11 06:50:37,701 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:50:37,701 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:50:37,705 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:37,705 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:37,707 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 06:50:37,707 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 06:50:37,707 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (146,)
2025-05-11 06:50:37,707 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (146,)
2025-05-11 06:50:37,708 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 06:50:37,708 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 06:50:37,708 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:50:37,708 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:50:53,269 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:53,269 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:53,270 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 06:50:53,270 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 06:50:53,270 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:53,270 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:53,271 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 06:50:53,271 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 06:50:53,271 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:53,271 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:53,272 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 06:50:53,272 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 06:50:53,273 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:53,273 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:53,273 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 06:50:53,273 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 06:50:53,273 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:53,273 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:53,274 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 06:50:53,274 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 06:50:53,274 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:53,274 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:53,275 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 06:50:53,275 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 06:50:53,275 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:53,275 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:53,276 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 06:50:53,276 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 06:50:53,276 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:53,276 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:53,277 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 06:50:53,277 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 06:50:53,277 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:53,277 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:53,277 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 06:50:53,277 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 06:50:53,277 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:53,277 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:50:53,278 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:50:53,278 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:50:53,279 - fastapi_app - INFO - Database models initialized
2025-05-11 06:50:53,279 - fastapi_app - INFO - Database models initialized
2025-05-11 06:50:53,279 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 06:50:53,279 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 06:50:53,299 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:53,299 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:53,301 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 06:50:53,301 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 06:50:53,301 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 06:50:53.301415', '2025-05-11 06:50:53.301421')
2025-05-11 06:50:53,301 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 06:50:53.301415', '2025-05-11 06:50:53.301421')
2025-05-11 06:50:53,303 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:50:53,303 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:50:53,310 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:53,310 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:53,313 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 06:50:53,313 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 06:50:53,313 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (147,)
2025-05-11 06:50:53,313 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (147,)
2025-05-11 06:50:53,316 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:50:53,316 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:50:53,316 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 147, '2025-05-11 06:50:53.316088', '2025-05-11 06:50:53.316092')
2025-05-11 06:50:53,316 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 147, '2025-05-11 06:50:53.316088', '2025-05-11 06:50:53.316092')
2025-05-11 06:50:53,318 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:50:53,318 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:50:53,318 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 147, '2025-05-11 06:50:53.316096', '2025-05-11 06:50:53.316099')
2025-05-11 06:50:53,318 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 147, '2025-05-11 06:50:53.316096', '2025-05-11 06:50:53.316099')
2025-05-11 06:50:53,318 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:50:53,318 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:50:53,319 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 147, '2025-05-11 06:50:53.316102', '2025-05-11 06:50:53.316105')
2025-05-11 06:50:53,319 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 147, '2025-05-11 06:50:53.316102', '2025-05-11 06:50:53.316105')
2025-05-11 06:50:53,319 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:50:53,319 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:50:53,319 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 147, '2025-05-11 06:50:53.316108', '2025-05-11 06:50:53.316111')
2025-05-11 06:50:53,319 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 147, '2025-05-11 06:50:53.316108', '2025-05-11 06:50:53.316111')
2025-05-11 06:50:53,320 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:50:53,320 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:50:53,320 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 147, '2025-05-11 06:50:53.316115', '2025-05-11 06:50:53.316118')
2025-05-11 06:50:53,320 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 147, '2025-05-11 06:50:53.316115', '2025-05-11 06:50:53.316118')
2025-05-11 06:50:53,321 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:50:53,321 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:50:53,327 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:53,327 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:53,328 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:50:53,328 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:50:53,328 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (731,)
2025-05-11 06:50:53,328 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (731,)
2025-05-11 06:50:53,329 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:50:53,329 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:50:53,329 - sqlalchemy.engine.Engine - INFO - [cached since 0.001588s ago] (732,)
2025-05-11 06:50:53,329 - sqlalchemy.engine.Engine - INFO - [cached since 0.001588s ago] (732,)
2025-05-11 06:50:53,330 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:50:53,330 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:50:53,330 - sqlalchemy.engine.Engine - INFO - [cached since 0.002786s ago] (733,)
2025-05-11 06:50:53,330 - sqlalchemy.engine.Engine - INFO - [cached since 0.002786s ago] (733,)
2025-05-11 06:50:53,331 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:50:53,331 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:50:53,332 - sqlalchemy.engine.Engine - INFO - [cached since 0.003969s ago] (734,)
2025-05-11 06:50:53,332 - sqlalchemy.engine.Engine - INFO - [cached since 0.003969s ago] (734,)
2025-05-11 06:50:53,333 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:50:53,333 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:50:53,333 - sqlalchemy.engine.Engine - INFO - [cached since 0.005132s ago] (735,)
2025-05-11 06:50:53,333 - sqlalchemy.engine.Engine - INFO - [cached since 0.005132s ago] (735,)
2025-05-11 06:50:53,335 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:50:53,335 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:50:53,335 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 147, '2025-05-11 06:50:53.335506', '2025-05-11 06:50:53.335513')
2025-05-11 06:50:53,335 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 147, '2025-05-11 06:50:53.335506', '2025-05-11 06:50:53.335513')
2025-05-11 06:50:53,336 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:50:53,336 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:50:53,337 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 147, '2025-05-11 06:50:53.335516', '2025-05-11 06:50:53.335519')
2025-05-11 06:50:53,337 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 147, '2025-05-11 06:50:53.335516', '2025-05-11 06:50:53.335519')
2025-05-11 06:50:53,337 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:50:53,337 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:50:53,337 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 147, '2025-05-11 06:50:53.335522', '2025-05-11 06:50:53.335524')
2025-05-11 06:50:53,337 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 147, '2025-05-11 06:50:53.335522', '2025-05-11 06:50:53.335524')
2025-05-11 06:50:53,339 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 06:50:53,339 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 06:50:53,339 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] [(439, 732), (439, 731), (440, 733), (440, 734), (441, 735)]
2025-05-11 06:50:53,339 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] [(439, 732), (439, 731), (440, 733), (440, 734), (441, 735)]
2025-05-11 06:50:53,340 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:50:53,340 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:50:53,346 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:53,346 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:53,347 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:50:53,347 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:50:53,347 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (439,)
2025-05-11 06:50:53,347 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (439,)
2025-05-11 06:50:53,348 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:50:53,348 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:50:53,348 - sqlalchemy.engine.Engine - INFO - [cached since 0.001823s ago] (440,)
2025-05-11 06:50:53,348 - sqlalchemy.engine.Engine - INFO - [cached since 0.001823s ago] (440,)
2025-05-11 06:50:53,349 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:50:53,349 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:50:53,350 - sqlalchemy.engine.Engine - INFO - [cached since 0.003074s ago] (441,)
2025-05-11 06:50:53,350 - sqlalchemy.engine.Engine - INFO - [cached since 0.003074s ago] (441,)
2025-05-11 06:50:53,351 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 06:50:53,351 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 06:50:53,351 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('9A', 147, 439, '2025-05-11 06:50:53.351708', '2025-05-11 06:50:53.351712')
2025-05-11 06:50:53,351 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('9A', 147, 439, '2025-05-11 06:50:53.351708', '2025-05-11 06:50:53.351712')
2025-05-11 06:50:53,353 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:50:53,353 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:50:53,357 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:53,357 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:50:53,359 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 06:50:53,359 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 06:50:53,359 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (147,)
2025-05-11 06:50:53,359 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (147,)
2025-05-11 06:50:53,360 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 06:50:53,360 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 06:50:53,361 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:50:53,361 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:51:04,753 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:04,753 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:04,754 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 06:51:04,754 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 06:51:04,754 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:04,754 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:04,755 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 06:51:04,755 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 06:51:04,756 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:04,756 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:04,757 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 06:51:04,757 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 06:51:04,757 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:04,757 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:04,758 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 06:51:04,758 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 06:51:04,758 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:04,758 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:04,759 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 06:51:04,759 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 06:51:04,759 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:04,759 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:04,760 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 06:51:04,760 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 06:51:04,760 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:04,760 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:04,761 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 06:51:04,761 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 06:51:04,761 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:04,761 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:04,761 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 06:51:04,761 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 06:51:04,761 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:04,761 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:04,762 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 06:51:04,762 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 06:51:04,762 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:04,762 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:04,763 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:04,763 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:04,764 - fastapi_app - INFO - Database models initialized
2025-05-11 06:51:04,764 - fastapi_app - INFO - Database models initialized
2025-05-11 06:51:04,764 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 06:51:04,764 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 06:51:04,784 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:04,784 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:04,785 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 06:51:04,785 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 06:51:04,785 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 06:51:04.785634', '2025-05-11 06:51:04.785640')
2025-05-11 06:51:04,785 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 06:51:04.785634', '2025-05-11 06:51:04.785640')
2025-05-11 06:51:04,787 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:04,787 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:04,794 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:04,794 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:04,796 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 06:51:04,796 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 06:51:04,796 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] (148,)
2025-05-11 06:51:04,796 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] (148,)
2025-05-11 06:51:04,799 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:04,799 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:04,800 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 148, '2025-05-11 06:51:04.799639', '2025-05-11 06:51:04.799644')
2025-05-11 06:51:04,800 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 148, '2025-05-11 06:51:04.799639', '2025-05-11 06:51:04.799644')
2025-05-11 06:51:04,801 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:04,801 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:04,801 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 148, '2025-05-11 06:51:04.799647', '2025-05-11 06:51:04.799650')
2025-05-11 06:51:04,801 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 148, '2025-05-11 06:51:04.799647', '2025-05-11 06:51:04.799650')
2025-05-11 06:51:04,801 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:04,801 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:04,801 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 148, '2025-05-11 06:51:04.799652', '2025-05-11 06:51:04.799655')
2025-05-11 06:51:04,801 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 148, '2025-05-11 06:51:04.799652', '2025-05-11 06:51:04.799655')
2025-05-11 06:51:04,802 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:04,802 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:04,802 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 148, '2025-05-11 06:51:04.799657', '2025-05-11 06:51:04.799659')
2025-05-11 06:51:04,802 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 148, '2025-05-11 06:51:04.799657', '2025-05-11 06:51:04.799659')
2025-05-11 06:51:04,802 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:04,802 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:04,803 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 148, '2025-05-11 06:51:04.799661', '2025-05-11 06:51:04.799664')
2025-05-11 06:51:04,803 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 148, '2025-05-11 06:51:04.799661', '2025-05-11 06:51:04.799664')
2025-05-11 06:51:04,804 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:04,804 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:04,808 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:04,808 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:04,809 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:04,809 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:04,809 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (736,)
2025-05-11 06:51:04,809 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (736,)
2025-05-11 06:51:04,810 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:04,810 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:04,810 - sqlalchemy.engine.Engine - INFO - [cached since 0.001568s ago] (737,)
2025-05-11 06:51:04,810 - sqlalchemy.engine.Engine - INFO - [cached since 0.001568s ago] (737,)
2025-05-11 06:51:04,811 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:04,811 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:04,812 - sqlalchemy.engine.Engine - INFO - [cached since 0.002704s ago] (738,)
2025-05-11 06:51:04,812 - sqlalchemy.engine.Engine - INFO - [cached since 0.002704s ago] (738,)
2025-05-11 06:51:04,813 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:04,813 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:04,813 - sqlalchemy.engine.Engine - INFO - [cached since 0.003896s ago] (739,)
2025-05-11 06:51:04,813 - sqlalchemy.engine.Engine - INFO - [cached since 0.003896s ago] (739,)
2025-05-11 06:51:04,814 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:04,814 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:04,815 - sqlalchemy.engine.Engine - INFO - [cached since 0.005648s ago] (740,)
2025-05-11 06:51:04,815 - sqlalchemy.engine.Engine - INFO - [cached since 0.005648s ago] (740,)
2025-05-11 06:51:04,817 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:04,817 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:04,818 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 148, '2025-05-11 06:51:04.817861', '2025-05-11 06:51:04.817866')
2025-05-11 06:51:04,818 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 148, '2025-05-11 06:51:04.817861', '2025-05-11 06:51:04.817866')
2025-05-11 06:51:04,819 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:04,819 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:04,819 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 148, '2025-05-11 06:51:04.817869', '2025-05-11 06:51:04.817871')
2025-05-11 06:51:04,819 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 148, '2025-05-11 06:51:04.817869', '2025-05-11 06:51:04.817871')
2025-05-11 06:51:04,820 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:04,820 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:04,820 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 148, '2025-05-11 06:51:04.817874', '2025-05-11 06:51:04.817875')
2025-05-11 06:51:04,820 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 148, '2025-05-11 06:51:04.817874', '2025-05-11 06:51:04.817875')
2025-05-11 06:51:04,821 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 06:51:04,821 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 06:51:04,821 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] [(443, 738), (442, 736), (442, 737), (443, 739), (444, 740)]
2025-05-11 06:51:04,821 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] [(443, 738), (442, 736), (442, 737), (443, 739), (444, 740)]
2025-05-11 06:51:04,823 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:04,823 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:04,827 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:04,827 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:04,828 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:04,828 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:04,828 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] (442,)
2025-05-11 06:51:04,828 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] (442,)
2025-05-11 06:51:04,830 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:04,830 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:04,830 - sqlalchemy.engine.Engine - INFO - [cached since 0.002221s ago] (443,)
2025-05-11 06:51:04,830 - sqlalchemy.engine.Engine - INFO - [cached since 0.002221s ago] (443,)
2025-05-11 06:51:04,832 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:04,832 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:04,832 - sqlalchemy.engine.Engine - INFO - [cached since 0.004174s ago] (444,)
2025-05-11 06:51:04,832 - sqlalchemy.engine.Engine - INFO - [cached since 0.004174s ago] (444,)
2025-05-11 06:51:04,834 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 06:51:04,834 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 06:51:04,834 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('9A', 148, 442, '2025-05-11 06:51:04.834481', '2025-05-11 06:51:04.834487')
2025-05-11 06:51:04,834 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('9A', 148, 442, '2025-05-11 06:51:04.834481', '2025-05-11 06:51:04.834487')
2025-05-11 06:51:04,836 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:04,836 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:04,840 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:04,840 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:04,841 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 06:51:04,841 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 06:51:04,842 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] (148,)
2025-05-11 06:51:04,842 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] (148,)
2025-05-11 06:51:04,843 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 06:51:04,843 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 06:51:04,843 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:51:04,843 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:51:14,146 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:14,146 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:14,146 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 06:51:14,146 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 06:51:14,146 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:14,146 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:14,148 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 06:51:14,148 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 06:51:14,148 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:14,148 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:14,149 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 06:51:14,149 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 06:51:14,150 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:14,150 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:14,151 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 06:51:14,151 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 06:51:14,151 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:14,151 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:14,152 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 06:51:14,152 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 06:51:14,152 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:14,152 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:14,152 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 06:51:14,152 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 06:51:14,153 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:14,153 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:14,153 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 06:51:14,153 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 06:51:14,153 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:14,153 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:14,154 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 06:51:14,154 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 06:51:14,154 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:14,154 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:14,155 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 06:51:14,155 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 06:51:14,155 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:14,155 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:14,156 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:14,156 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:14,157 - fastapi_app - INFO - Database models initialized
2025-05-11 06:51:14,157 - fastapi_app - INFO - Database models initialized
2025-05-11 06:51:14,157 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 06:51:14,157 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 06:51:14,173 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:14,173 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:14,175 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 06:51:14,175 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 06:51:14,175 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 06:51:14.175547', '2025-05-11 06:51:14.175552')
2025-05-11 06:51:14,175 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 06:51:14.175547', '2025-05-11 06:51:14.175552')
2025-05-11 06:51:14,176 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:14,176 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:14,183 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:14,183 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:14,185 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 06:51:14,185 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 06:51:14,185 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (149,)
2025-05-11 06:51:14,185 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (149,)
2025-05-11 06:51:14,188 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:14,188 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:14,188 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 149, '2025-05-11 06:51:14.187721', '2025-05-11 06:51:14.187728')
2025-05-11 06:51:14,188 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 149, '2025-05-11 06:51:14.187721', '2025-05-11 06:51:14.187728')
2025-05-11 06:51:14,189 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:14,189 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:14,189 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 149, '2025-05-11 06:51:14.187730', '2025-05-11 06:51:14.187732')
2025-05-11 06:51:14,189 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 149, '2025-05-11 06:51:14.187730', '2025-05-11 06:51:14.187732')
2025-05-11 06:51:14,190 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:14,190 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:14,190 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 149, '2025-05-11 06:51:14.187735', '2025-05-11 06:51:14.187738')
2025-05-11 06:51:14,190 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 149, '2025-05-11 06:51:14.187735', '2025-05-11 06:51:14.187738')
2025-05-11 06:51:14,191 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:14,191 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:14,192 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 149, '2025-05-11 06:51:14.187740', '2025-05-11 06:51:14.187743')
2025-05-11 06:51:14,192 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 149, '2025-05-11 06:51:14.187740', '2025-05-11 06:51:14.187743')
2025-05-11 06:51:14,192 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:14,192 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:14,192 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 149, '2025-05-11 06:51:14.187745', '2025-05-11 06:51:14.187747')
2025-05-11 06:51:14,192 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 149, '2025-05-11 06:51:14.187745', '2025-05-11 06:51:14.187747')
2025-05-11 06:51:14,193 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:14,193 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:14,196 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:14,196 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:14,197 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:14,197 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:14,198 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (741,)
2025-05-11 06:51:14,198 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (741,)
2025-05-11 06:51:14,199 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:14,199 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:14,200 - sqlalchemy.engine.Engine - INFO - [cached since 0.002339s ago] (742,)
2025-05-11 06:51:14,200 - sqlalchemy.engine.Engine - INFO - [cached since 0.002339s ago] (742,)
2025-05-11 06:51:14,201 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:14,201 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:14,201 - sqlalchemy.engine.Engine - INFO - [cached since 0.003644s ago] (743,)
2025-05-11 06:51:14,201 - sqlalchemy.engine.Engine - INFO - [cached since 0.003644s ago] (743,)
2025-05-11 06:51:14,202 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:14,202 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:14,203 - sqlalchemy.engine.Engine - INFO - [cached since 0.005315s ago] (744,)
2025-05-11 06:51:14,203 - sqlalchemy.engine.Engine - INFO - [cached since 0.005315s ago] (744,)
2025-05-11 06:51:14,204 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:14,204 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:14,204 - sqlalchemy.engine.Engine - INFO - [cached since 0.006814s ago] (745,)
2025-05-11 06:51:14,204 - sqlalchemy.engine.Engine - INFO - [cached since 0.006814s ago] (745,)
2025-05-11 06:51:14,207 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:14,207 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:14,208 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 149, '2025-05-11 06:51:14.207653', '2025-05-11 06:51:14.207661')
2025-05-11 06:51:14,208 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 149, '2025-05-11 06:51:14.207653', '2025-05-11 06:51:14.207661')
2025-05-11 06:51:14,210 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:14,210 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:14,210 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 149, '2025-05-11 06:51:14.207665', '2025-05-11 06:51:14.207667')
2025-05-11 06:51:14,210 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 149, '2025-05-11 06:51:14.207665', '2025-05-11 06:51:14.207667')
2025-05-11 06:51:14,211 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:14,211 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:14,211 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 149, '2025-05-11 06:51:14.207670', '2025-05-11 06:51:14.207673')
2025-05-11 06:51:14,211 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 149, '2025-05-11 06:51:14.207670', '2025-05-11 06:51:14.207673')
2025-05-11 06:51:14,212 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 06:51:14,212 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 06:51:14,212 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] [(447, 745), (445, 741), (445, 742), (446, 743), (446, 744)]
2025-05-11 06:51:14,212 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] [(447, 745), (445, 741), (445, 742), (446, 743), (446, 744)]
2025-05-11 06:51:14,213 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:14,213 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:14,217 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:14,217 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:14,218 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:14,218 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:14,218 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (445,)
2025-05-11 06:51:14,218 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (445,)
2025-05-11 06:51:14,219 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:14,219 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:14,219 - sqlalchemy.engine.Engine - INFO - [cached since 0.001599s ago] (446,)
2025-05-11 06:51:14,219 - sqlalchemy.engine.Engine - INFO - [cached since 0.001599s ago] (446,)
2025-05-11 06:51:14,221 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:14,221 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:14,221 - sqlalchemy.engine.Engine - INFO - [cached since 0.002906s ago] (447,)
2025-05-11 06:51:14,221 - sqlalchemy.engine.Engine - INFO - [cached since 0.002906s ago] (447,)
2025-05-11 06:51:14,222 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 06:51:14,222 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 06:51:14,223 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('9A', 149, 445, '2025-05-11 06:51:14.222817', '2025-05-11 06:51:14.222822')
2025-05-11 06:51:14,223 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('9A', 149, 445, '2025-05-11 06:51:14.222817', '2025-05-11 06:51:14.222822')
2025-05-11 06:51:14,224 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:14,224 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:14,228 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:14,228 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:14,229 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 06:51:14,229 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 06:51:14,229 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (149,)
2025-05-11 06:51:14,229 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (149,)
2025-05-11 06:51:14,230 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 06:51:14,230 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 06:51:14,230 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:51:14,230 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:51:20,310 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:20,310 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:20,310 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 06:51:20,310 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 06:51:20,310 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:20,310 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:20,312 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 06:51:20,312 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 06:51:20,312 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:20,312 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:20,313 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 06:51:20,313 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 06:51:20,313 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:20,313 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:20,314 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 06:51:20,314 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 06:51:20,314 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:20,314 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:20,315 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 06:51:20,315 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 06:51:20,315 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:20,315 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:20,316 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 06:51:20,316 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 06:51:20,316 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:20,316 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:20,317 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 06:51:20,317 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 06:51:20,317 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:20,317 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:20,318 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 06:51:20,318 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 06:51:20,318 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:20,318 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:20,319 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 06:51:20,319 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 06:51:20,319 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:20,319 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:20,320 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:20,320 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:20,321 - fastapi_app - INFO - Database models initialized
2025-05-11 06:51:20,321 - fastapi_app - INFO - Database models initialized
2025-05-11 06:51:20,321 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 06:51:20,321 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 06:51:20,342 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:20,342 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:20,344 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 06:51:20,344 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 06:51:20,345 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 06:51:20.344678', '2025-05-11 06:51:20.344684')
2025-05-11 06:51:20,345 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 06:51:20.344678', '2025-05-11 06:51:20.344684')
2025-05-11 06:51:20,346 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:20,346 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:20,354 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:20,354 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:20,357 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 06:51:20,357 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 06:51:20,358 - sqlalchemy.engine.Engine - INFO - [generated in 0.00063s] (150,)
2025-05-11 06:51:20,358 - sqlalchemy.engine.Engine - INFO - [generated in 0.00063s] (150,)
2025-05-11 06:51:20,363 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:20,363 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:20,364 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 150, '2025-05-11 06:51:20.363022', '2025-05-11 06:51:20.363028')
2025-05-11 06:51:20,364 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 150, '2025-05-11 06:51:20.363022', '2025-05-11 06:51:20.363028')
2025-05-11 06:51:20,365 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:20,365 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:20,366 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 150, '2025-05-11 06:51:20.363031', '2025-05-11 06:51:20.363033')
2025-05-11 06:51:20,366 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 150, '2025-05-11 06:51:20.363031', '2025-05-11 06:51:20.363033')
2025-05-11 06:51:20,366 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:20,366 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:20,367 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 150, '2025-05-11 06:51:20.363036', '2025-05-11 06:51:20.363041')
2025-05-11 06:51:20,367 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 150, '2025-05-11 06:51:20.363036', '2025-05-11 06:51:20.363041')
2025-05-11 06:51:20,368 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:20,368 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:20,368 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 150, '2025-05-11 06:51:20.363043', '2025-05-11 06:51:20.363046')
2025-05-11 06:51:20,368 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 150, '2025-05-11 06:51:20.363043', '2025-05-11 06:51:20.363046')
2025-05-11 06:51:20,369 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:20,369 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:20,369 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 150, '2025-05-11 06:51:20.363048', '2025-05-11 06:51:20.363050')
2025-05-11 06:51:20,369 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 150, '2025-05-11 06:51:20.363048', '2025-05-11 06:51:20.363050')
2025-05-11 06:51:20,371 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:20,371 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:20,376 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:20,376 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:20,378 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:20,378 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:20,378 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] (746,)
2025-05-11 06:51:20,378 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] (746,)
2025-05-11 06:51:20,381 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:20,381 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:20,381 - sqlalchemy.engine.Engine - INFO - [cached since 0.003246s ago] (747,)
2025-05-11 06:51:20,381 - sqlalchemy.engine.Engine - INFO - [cached since 0.003246s ago] (747,)
2025-05-11 06:51:20,384 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:20,384 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:20,385 - sqlalchemy.engine.Engine - INFO - [cached since 0.006613s ago] (748,)
2025-05-11 06:51:20,385 - sqlalchemy.engine.Engine - INFO - [cached since 0.006613s ago] (748,)
2025-05-11 06:51:20,387 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:20,387 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:20,388 - sqlalchemy.engine.Engine - INFO - [cached since 0.009736s ago] (749,)
2025-05-11 06:51:20,388 - sqlalchemy.engine.Engine - INFO - [cached since 0.009736s ago] (749,)
2025-05-11 06:51:20,390 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:20,390 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:20,390 - sqlalchemy.engine.Engine - INFO - [cached since 0.0122s ago] (750,)
2025-05-11 06:51:20,390 - sqlalchemy.engine.Engine - INFO - [cached since 0.0122s ago] (750,)
2025-05-11 06:51:20,395 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:20,395 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:20,395 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 150, '2025-05-11 06:51:20.395185', '2025-05-11 06:51:20.395193')
2025-05-11 06:51:20,395 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 150, '2025-05-11 06:51:20.395185', '2025-05-11 06:51:20.395193')
2025-05-11 06:51:20,399 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:20,399 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:20,399 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 150, '2025-05-11 06:51:20.395196', '2025-05-11 06:51:20.395199')
2025-05-11 06:51:20,399 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 150, '2025-05-11 06:51:20.395196', '2025-05-11 06:51:20.395199')
2025-05-11 06:51:20,400 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:20,400 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:20,400 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 150, '2025-05-11 06:51:20.395202', '2025-05-11 06:51:20.395205')
2025-05-11 06:51:20,400 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 150, '2025-05-11 06:51:20.395202', '2025-05-11 06:51:20.395205')
2025-05-11 06:51:20,401 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 06:51:20,401 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 06:51:20,401 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] [(449, 749), (450, 750), (448, 747), (448, 746), (449, 748)]
2025-05-11 06:51:20,401 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] [(449, 749), (450, 750), (448, 747), (448, 746), (449, 748)]
2025-05-11 06:51:20,402 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:20,402 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:20,407 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:20,407 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:20,408 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:20,408 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:20,408 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] (448,)
2025-05-11 06:51:20,408 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] (448,)
2025-05-11 06:51:20,410 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:20,410 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:20,410 - sqlalchemy.engine.Engine - INFO - [cached since 0.002041s ago] (449,)
2025-05-11 06:51:20,410 - sqlalchemy.engine.Engine - INFO - [cached since 0.002041s ago] (449,)
2025-05-11 06:51:20,411 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:20,411 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:20,411 - sqlalchemy.engine.Engine - INFO - [cached since 0.003438s ago] (450,)
2025-05-11 06:51:20,411 - sqlalchemy.engine.Engine - INFO - [cached since 0.003438s ago] (450,)
2025-05-11 06:51:20,413 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 06:51:20,413 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 06:51:20,413 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('9A', 150, 448, '2025-05-11 06:51:20.413500', '2025-05-11 06:51:20.413505')
2025-05-11 06:51:20,413 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('9A', 150, 448, '2025-05-11 06:51:20.413500', '2025-05-11 06:51:20.413505')
2025-05-11 06:51:20,414 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:20,414 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:20,418 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:20,418 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:20,419 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 06:51:20,419 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 06:51:20,419 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (150,)
2025-05-11 06:51:20,419 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (150,)
2025-05-11 06:51:20,420 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 06:51:20,420 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 06:51:20,421 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:51:20,421 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:51:46,642 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:46,642 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:46,643 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 06:51:46,643 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 06:51:46,643 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:46,643 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:46,645 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 06:51:46,645 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 06:51:46,645 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:46,645 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:46,646 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 06:51:46,646 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 06:51:46,646 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:46,646 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:46,647 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 06:51:46,647 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 06:51:46,647 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:46,647 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:46,648 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 06:51:46,648 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 06:51:46,648 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:46,648 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:46,649 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 06:51:46,649 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 06:51:46,649 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:46,649 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:46,650 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 06:51:46,650 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 06:51:46,650 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:46,650 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:46,651 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 06:51:46,651 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 06:51:46,651 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:46,651 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:46,652 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 06:51:46,652 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 06:51:46,652 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:46,652 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:51:46,653 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:46,653 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:46,654 - fastapi_app - INFO - Database models initialized
2025-05-11 06:51:46,654 - fastapi_app - INFO - Database models initialized
2025-05-11 06:51:46,654 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 06:51:46,654 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 06:51:46,676 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:46,676 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:46,678 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 06:51:46,678 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 06:51:46,678 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 06:51:46.678062', '2025-05-11 06:51:46.678068')
2025-05-11 06:51:46,678 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 06:51:46.678062', '2025-05-11 06:51:46.678068')
2025-05-11 06:51:46,679 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:46,679 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:46,685 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:46,685 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:46,688 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 06:51:46,688 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 06:51:46,688 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] (151,)
2025-05-11 06:51:46,688 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] (151,)
2025-05-11 06:51:46,691 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:46,691 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:46,691 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 151, '2025-05-11 06:51:46.691373', '2025-05-11 06:51:46.691379')
2025-05-11 06:51:46,691 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 151, '2025-05-11 06:51:46.691373', '2025-05-11 06:51:46.691379')
2025-05-11 06:51:46,693 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:46,693 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:46,693 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 151, '2025-05-11 06:51:46.691382', '2025-05-11 06:51:46.691385')
2025-05-11 06:51:46,693 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 151, '2025-05-11 06:51:46.691382', '2025-05-11 06:51:46.691385')
2025-05-11 06:51:46,694 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:46,694 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:46,694 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 151, '2025-05-11 06:51:46.691388', '2025-05-11 06:51:46.691391')
2025-05-11 06:51:46,694 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 151, '2025-05-11 06:51:46.691388', '2025-05-11 06:51:46.691391')
2025-05-11 06:51:46,694 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:46,694 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:46,695 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 151, '2025-05-11 06:51:46.691394', '2025-05-11 06:51:46.691397')
2025-05-11 06:51:46,695 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 151, '2025-05-11 06:51:46.691394', '2025-05-11 06:51:46.691397')
2025-05-11 06:51:46,695 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:46,695 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:51:46,696 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 151, '2025-05-11 06:51:46.691400', '2025-05-11 06:51:46.691403')
2025-05-11 06:51:46,696 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 151, '2025-05-11 06:51:46.691400', '2025-05-11 06:51:46.691403')
2025-05-11 06:51:46,697 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:46,697 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:46,701 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:46,701 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:46,702 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:46,702 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:46,702 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (751,)
2025-05-11 06:51:46,702 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (751,)
2025-05-11 06:51:46,703 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:46,703 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:46,704 - sqlalchemy.engine.Engine - INFO - [cached since 0.001986s ago] (752,)
2025-05-11 06:51:46,704 - sqlalchemy.engine.Engine - INFO - [cached since 0.001986s ago] (752,)
2025-05-11 06:51:46,705 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:46,705 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:46,705 - sqlalchemy.engine.Engine - INFO - [cached since 0.003509s ago] (753,)
2025-05-11 06:51:46,705 - sqlalchemy.engine.Engine - INFO - [cached since 0.003509s ago] (753,)
2025-05-11 06:51:46,706 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:46,706 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:46,707 - sqlalchemy.engine.Engine - INFO - [cached since 0.004969s ago] (754,)
2025-05-11 06:51:46,707 - sqlalchemy.engine.Engine - INFO - [cached since 0.004969s ago] (754,)
2025-05-11 06:51:46,708 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:46,708 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:51:46,708 - sqlalchemy.engine.Engine - INFO - [cached since 0.006256s ago] (755,)
2025-05-11 06:51:46,708 - sqlalchemy.engine.Engine - INFO - [cached since 0.006256s ago] (755,)
2025-05-11 06:51:46,710 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:46,710 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:46,711 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 151, '2025-05-11 06:51:46.710879', '2025-05-11 06:51:46.710884')
2025-05-11 06:51:46,711 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 151, '2025-05-11 06:51:46.710879', '2025-05-11 06:51:46.710884')
2025-05-11 06:51:46,712 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:46,712 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:46,712 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 151, '2025-05-11 06:51:46.710887', '2025-05-11 06:51:46.710890')
2025-05-11 06:51:46,712 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 151, '2025-05-11 06:51:46.710887', '2025-05-11 06:51:46.710890')
2025-05-11 06:51:46,713 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:46,713 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:51:46,713 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 151, '2025-05-11 06:51:46.710892', '2025-05-11 06:51:46.710895')
2025-05-11 06:51:46,713 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 151, '2025-05-11 06:51:46.710892', '2025-05-11 06:51:46.710895')
2025-05-11 06:51:46,714 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 06:51:46,714 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 06:51:46,715 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] [(453, 755), (451, 752), (451, 751), (452, 753), (452, 754)]
2025-05-11 06:51:46,715 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] [(453, 755), (451, 752), (451, 751), (452, 753), (452, 754)]
2025-05-11 06:51:46,716 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:46,716 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:46,722 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:46,722 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:46,723 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:46,723 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:46,724 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] (451,)
2025-05-11 06:51:46,724 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] (451,)
2025-05-11 06:51:46,725 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:46,725 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:46,725 - sqlalchemy.engine.Engine - INFO - [cached since 0.002168s ago] (452,)
2025-05-11 06:51:46,725 - sqlalchemy.engine.Engine - INFO - [cached since 0.002168s ago] (452,)
2025-05-11 06:51:46,727 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:46,727 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:51:46,727 - sqlalchemy.engine.Engine - INFO - [cached since 0.003898s ago] (453,)
2025-05-11 06:51:46,727 - sqlalchemy.engine.Engine - INFO - [cached since 0.003898s ago] (453,)
2025-05-11 06:51:46,729 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 06:51:46,729 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 06:51:46,729 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ('9A', 151, 451, '2025-05-11 06:51:46.729656', '2025-05-11 06:51:46.729661')
2025-05-11 06:51:46,729 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ('9A', 151, 451, '2025-05-11 06:51:46.729656', '2025-05-11 06:51:46.729661')
2025-05-11 06:51:46,731 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:46,731 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:51:46,735 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:46,735 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:51:46,736 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 06:51:46,736 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 06:51:46,736 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] (151,)
2025-05-11 06:51:46,736 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] (151,)
2025-05-11 06:51:46,737 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 06:51:46,737 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 06:51:46,737 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:51:46,737 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:52:06,040 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:52:06,040 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:52:06,054 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:52:06,054 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:52:06,055 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (896700645,)
2025-05-11 06:52:06,055 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (896700645,)
2025-05-11 06:52:06,057 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:52:06,057 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:52:07,797 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:52:07,797 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:52:07,798 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:52:07,798 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:52:07,798 - sqlalchemy.engine.Engine - INFO - [cached since 1.743s ago] (896700645,)
2025-05-11 06:52:07,798 - sqlalchemy.engine.Engine - INFO - [cached since 1.743s ago] (896700645,)
2025-05-11 06:52:07,799 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:52:07,799 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:52:28,830 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:52:28,830 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:52:28,831 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:52:28,831 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:52:28,831 - sqlalchemy.engine.Engine - INFO - [cached since 22.78s ago] (896700645,)
2025-05-11 06:52:28,831 - sqlalchemy.engine.Engine - INFO - [cached since 22.78s ago] (896700645,)
2025-05-11 06:52:28,832 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:52:28,832 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:52:46,689 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:52:46,689 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:52:46,690 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:52:46,690 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:52:46,690 - sqlalchemy.engine.Engine - INFO - [cached since 40.64s ago] (896700645,)
2025-05-11 06:52:46,690 - sqlalchemy.engine.Engine - INFO - [cached since 40.64s ago] (896700645,)
2025-05-11 06:52:46,693 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:52:46,693 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:53:16,997 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:53:16,997 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:53:16,997 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 06:53:16,997 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 06:53:16,998 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:53:16,998 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:53:16,999 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 06:53:16,999 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 06:53:16,999 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:53:16,999 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:53:17,000 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 06:53:17,000 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 06:53:17,000 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:53:17,000 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:53:17,001 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 06:53:17,001 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 06:53:17,001 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:53:17,001 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:53:17,002 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 06:53:17,002 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 06:53:17,002 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:53:17,002 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:53:17,003 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 06:53:17,003 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 06:53:17,003 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:53:17,003 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:53:17,004 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 06:53:17,004 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 06:53:17,004 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:53:17,004 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:53:17,005 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 06:53:17,005 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 06:53:17,005 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:53:17,005 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:53:17,006 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 06:53:17,006 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 06:53:17,006 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:53:17,006 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 06:53:17,007 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:53:17,007 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:53:17,008 - fastapi_app - INFO - Database models initialized
2025-05-11 06:53:17,008 - fastapi_app - INFO - Database models initialized
2025-05-11 06:53:17,008 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 06:53:17,008 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 06:53:17,030 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:53:17,030 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:53:17,032 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 06:53:17,032 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 06:53:17,032 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 06:53:17.032541', '2025-05-11 06:53:17.032548')
2025-05-11 06:53:17,032 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 06:53:17.032541', '2025-05-11 06:53:17.032548')
2025-05-11 06:53:17,035 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:53:17,035 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:53:17,043 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:53:17,043 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:53:17,045 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 06:53:17,045 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 06:53:17,045 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (152,)
2025-05-11 06:53:17,045 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (152,)
2025-05-11 06:53:17,048 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:53:17,048 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:53:17,049 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 152, '2025-05-11 06:53:17.048528', '2025-05-11 06:53:17.048533')
2025-05-11 06:53:17,049 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 152, '2025-05-11 06:53:17.048528', '2025-05-11 06:53:17.048533')
2025-05-11 06:53:17,050 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:53:17,050 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:53:17,050 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 152, '2025-05-11 06:53:17.048536', '2025-05-11 06:53:17.048538')
2025-05-11 06:53:17,050 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 152, '2025-05-11 06:53:17.048536', '2025-05-11 06:53:17.048538')
2025-05-11 06:53:17,050 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:53:17,050 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:53:17,051 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 152, '2025-05-11 06:53:17.048541', '2025-05-11 06:53:17.048544')
2025-05-11 06:53:17,051 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 152, '2025-05-11 06:53:17.048541', '2025-05-11 06:53:17.048544')
2025-05-11 06:53:17,051 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:53:17,051 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:53:17,051 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 152, '2025-05-11 06:53:17.048546', '2025-05-11 06:53:17.048548')
2025-05-11 06:53:17,051 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 152, '2025-05-11 06:53:17.048546', '2025-05-11 06:53:17.048548')
2025-05-11 06:53:17,052 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:53:17,052 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 06:53:17,052 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 152, '2025-05-11 06:53:17.048550', '2025-05-11 06:53:17.048553')
2025-05-11 06:53:17,052 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 152, '2025-05-11 06:53:17.048550', '2025-05-11 06:53:17.048553')
2025-05-11 06:53:17,052 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:53:17,052 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:53:17,057 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:53:17,057 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:53:17,058 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:53:17,058 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:53:17,059 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (756,)
2025-05-11 06:53:17,059 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (756,)
2025-05-11 06:53:17,060 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:53:17,060 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:53:17,060 - sqlalchemy.engine.Engine - INFO - [cached since 0.001794s ago] (757,)
2025-05-11 06:53:17,060 - sqlalchemy.engine.Engine - INFO - [cached since 0.001794s ago] (757,)
2025-05-11 06:53:17,062 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:53:17,062 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:53:17,062 - sqlalchemy.engine.Engine - INFO - [cached since 0.003565s ago] (758,)
2025-05-11 06:53:17,062 - sqlalchemy.engine.Engine - INFO - [cached since 0.003565s ago] (758,)
2025-05-11 06:53:17,063 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:53:17,063 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:53:17,063 - sqlalchemy.engine.Engine - INFO - [cached since 0.005128s ago] (759,)
2025-05-11 06:53:17,063 - sqlalchemy.engine.Engine - INFO - [cached since 0.005128s ago] (759,)
2025-05-11 06:53:17,065 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:53:17,065 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 06:53:17,065 - sqlalchemy.engine.Engine - INFO - [cached since 0.006443s ago] (760,)
2025-05-11 06:53:17,065 - sqlalchemy.engine.Engine - INFO - [cached since 0.006443s ago] (760,)
2025-05-11 06:53:17,067 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:53:17,067 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:53:17,067 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 152, '2025-05-11 06:53:17.067629', '2025-05-11 06:53:17.067634')
2025-05-11 06:53:17,067 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 152, '2025-05-11 06:53:17.067629', '2025-05-11 06:53:17.067634')
2025-05-11 06:53:17,069 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:53:17,069 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:53:17,069 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 152, '2025-05-11 06:53:17.067637', '2025-05-11 06:53:17.067640')
2025-05-11 06:53:17,069 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 152, '2025-05-11 06:53:17.067637', '2025-05-11 06:53:17.067640')
2025-05-11 06:53:17,070 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:53:17,070 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 06:53:17,070 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 152, '2025-05-11 06:53:17.067642', '2025-05-11 06:53:17.067644')
2025-05-11 06:53:17,070 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 152, '2025-05-11 06:53:17.067642', '2025-05-11 06:53:17.067644')
2025-05-11 06:53:17,071 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 06:53:17,071 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 06:53:17,072 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] [(455, 758), (455, 759), (456, 760), (454, 756), (454, 757)]
2025-05-11 06:53:17,072 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] [(455, 758), (455, 759), (456, 760), (454, 756), (454, 757)]
2025-05-11 06:53:17,073 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:53:17,073 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:53:17,078 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:53:17,078 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:53:17,079 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:53:17,079 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:53:17,080 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (454,)
2025-05-11 06:53:17,080 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (454,)
2025-05-11 06:53:17,082 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:53:17,082 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:53:17,082 - sqlalchemy.engine.Engine - INFO - [cached since 0.00249s ago] (455,)
2025-05-11 06:53:17,082 - sqlalchemy.engine.Engine - INFO - [cached since 0.00249s ago] (455,)
2025-05-11 06:53:17,084 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:53:17,084 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 06:53:17,084 - sqlalchemy.engine.Engine - INFO - [cached since 0.004511s ago] (456,)
2025-05-11 06:53:17,084 - sqlalchemy.engine.Engine - INFO - [cached since 0.004511s ago] (456,)
2025-05-11 06:53:17,087 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 06:53:17,087 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 06:53:17,087 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('9A', 152, 454, '2025-05-11 06:53:17.087245', '2025-05-11 06:53:17.087252')
2025-05-11 06:53:17,087 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('9A', 152, 454, '2025-05-11 06:53:17.087245', '2025-05-11 06:53:17.087252')
2025-05-11 06:53:17,088 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:53:17,088 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 06:53:17,093 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:53:17,093 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:53:17,094 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 06:53:17,094 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 06:53:17,094 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (152,)
2025-05-11 06:53:17,094 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (152,)
2025-05-11 06:53:17,095 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 06:53:17,095 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 06:53:17,095 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:53:17,095 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:54:48,758 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:54:48,758 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 06:54:48,787 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:54:48,787 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 06:54:48,787 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] (896700645,)
2025-05-11 06:54:48,787 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] (896700645,)
2025-05-11 06:54:48,791 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 06:54:48,791 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:06:43,174 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:43,174 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:43,175 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:06:43,175 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:06:43,175 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:43,175 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:43,176 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:06:43,176 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:06:43,176 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:43,176 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:43,177 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:06:43,177 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:06:43,177 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:43,177 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:43,178 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:06:43,178 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:06:43,178 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:43,178 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:43,179 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:06:43,179 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:06:43,179 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:43,179 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:43,179 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:06:43,179 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:06:43,179 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:43,179 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:43,180 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:06:43,180 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:06:43,180 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:43,180 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:43,181 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:06:43,181 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:06:43,181 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:43,181 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:43,181 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:06:43,181 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:06:43,181 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:43,181 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:43,182 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:06:43,182 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:06:43,183 - fastapi_app - INFO - Database models initialized
2025-05-11 07:06:43,183 - fastapi_app - INFO - Database models initialized
2025-05-11 07:06:43,183 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:06:43,183 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:06:43,200 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:43,200 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:43,202 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:06:43,202 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:06:43,202 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:06:43.202350', '2025-05-11 07:06:43.202355')
2025-05-11 07:06:43,202 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:06:43.202350', '2025-05-11 07:06:43.202355')
2025-05-11 07:06:43,204 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:06:43,204 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:06:43,209 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:43,209 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:43,211 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:06:43,211 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:06:43,211 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (153,)
2025-05-11 07:06:43,211 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (153,)
2025-05-11 07:06:43,214 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:06:43,214 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:06:43,214 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 153, '2025-05-11 07:06:43.214089', '2025-05-11 07:06:43.214095')
2025-05-11 07:06:43,214 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 153, '2025-05-11 07:06:43.214089', '2025-05-11 07:06:43.214095')
2025-05-11 07:06:43,216 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:06:43,216 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:06:43,216 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 153, '2025-05-11 07:06:43.214098', '2025-05-11 07:06:43.214101')
2025-05-11 07:06:43,216 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 153, '2025-05-11 07:06:43.214098', '2025-05-11 07:06:43.214101')
2025-05-11 07:06:43,216 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:06:43,216 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:06:43,217 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 153, '2025-05-11 07:06:43.214104', '2025-05-11 07:06:43.214107')
2025-05-11 07:06:43,217 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 153, '2025-05-11 07:06:43.214104', '2025-05-11 07:06:43.214107')
2025-05-11 07:06:43,217 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:06:43,217 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:06:43,217 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 153, '2025-05-11 07:06:43.214109', '2025-05-11 07:06:43.214112')
2025-05-11 07:06:43,217 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 153, '2025-05-11 07:06:43.214109', '2025-05-11 07:06:43.214112')
2025-05-11 07:06:43,218 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:06:43,218 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:06:43,218 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 153, '2025-05-11 07:06:43.214114', '2025-05-11 07:06:43.214117')
2025-05-11 07:06:43,218 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 153, '2025-05-11 07:06:43.214114', '2025-05-11 07:06:43.214117')
2025-05-11 07:06:43,219 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:06:43,219 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:06:43,223 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:43,223 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:43,224 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:06:43,224 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:06:43,224 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (761,)
2025-05-11 07:06:43,224 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (761,)
2025-05-11 07:06:43,226 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:06:43,226 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:06:43,226 - sqlalchemy.engine.Engine - INFO - [cached since 0.001888s ago] (762,)
2025-05-11 07:06:43,226 - sqlalchemy.engine.Engine - INFO - [cached since 0.001888s ago] (762,)
2025-05-11 07:06:43,227 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:06:43,227 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:06:43,227 - sqlalchemy.engine.Engine - INFO - [cached since 0.003181s ago] (763,)
2025-05-11 07:06:43,227 - sqlalchemy.engine.Engine - INFO - [cached since 0.003181s ago] (763,)
2025-05-11 07:06:43,228 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:06:43,228 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:06:43,228 - sqlalchemy.engine.Engine - INFO - [cached since 0.004298s ago] (764,)
2025-05-11 07:06:43,228 - sqlalchemy.engine.Engine - INFO - [cached since 0.004298s ago] (764,)
2025-05-11 07:06:43,229 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:06:43,229 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:06:43,229 - sqlalchemy.engine.Engine - INFO - [cached since 0.005658s ago] (765,)
2025-05-11 07:06:43,229 - sqlalchemy.engine.Engine - INFO - [cached since 0.005658s ago] (765,)
2025-05-11 07:06:43,232 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:06:43,232 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:06:43,232 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 153, '2025-05-11 07:06:43.232399', '2025-05-11 07:06:43.232405')
2025-05-11 07:06:43,232 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 153, '2025-05-11 07:06:43.232399', '2025-05-11 07:06:43.232405')
2025-05-11 07:06:43,234 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:06:43,234 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:06:43,234 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 153, '2025-05-11 07:06:43.232409', '2025-05-11 07:06:43.232411')
2025-05-11 07:06:43,234 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 153, '2025-05-11 07:06:43.232409', '2025-05-11 07:06:43.232411')
2025-05-11 07:06:43,234 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:06:43,234 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:06:43,235 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 153, '2025-05-11 07:06:43.232415', '2025-05-11 07:06:43.232418')
2025-05-11 07:06:43,235 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 153, '2025-05-11 07:06:43.232415', '2025-05-11 07:06:43.232418')
2025-05-11 07:06:43,236 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:06:43,236 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:06:43,236 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] [(458, 764), (459, 765), (457, 762), (457, 761), (458, 763)]
2025-05-11 07:06:43,236 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] [(458, 764), (459, 765), (457, 762), (457, 761), (458, 763)]
2025-05-11 07:06:43,237 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:06:43,237 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:06:43,241 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:43,241 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:43,242 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:06:43,242 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:06:43,242 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (457,)
2025-05-11 07:06:43,242 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (457,)
2025-05-11 07:06:43,243 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:06:43,243 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:06:43,244 - sqlalchemy.engine.Engine - INFO - [cached since 0.001709s ago] (458,)
2025-05-11 07:06:43,244 - sqlalchemy.engine.Engine - INFO - [cached since 0.001709s ago] (458,)
2025-05-11 07:06:43,245 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:06:43,245 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:06:43,245 - sqlalchemy.engine.Engine - INFO - [cached since 0.002816s ago] (459,)
2025-05-11 07:06:43,245 - sqlalchemy.engine.Engine - INFO - [cached since 0.002816s ago] (459,)
2025-05-11 07:06:43,246 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:06:43,246 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:06:43,247 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('9A', 153, 457, '2025-05-11 07:06:43.246812', '2025-05-11 07:06:43.246816')
2025-05-11 07:06:43,247 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('9A', 153, 457, '2025-05-11 07:06:43.246812', '2025-05-11 07:06:43.246816')
2025-05-11 07:06:43,248 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:06:43,248 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:06:43,252 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:43,252 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:43,253 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:06:43,253 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:06:43,253 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (153,)
2025-05-11 07:06:43,253 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (153,)
2025-05-11 07:06:43,254 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:06:43,254 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:06:43,255 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:06:43,255 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:06:59,734 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:59,734 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:59,735 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:06:59,735 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:06:59,735 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:59,735 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:59,736 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:06:59,736 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:06:59,736 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:59,736 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:59,737 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:06:59,737 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:06:59,737 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:59,737 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:59,738 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:06:59,738 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:06:59,738 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:59,738 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:59,738 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:06:59,738 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:06:59,739 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:59,739 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:59,739 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:06:59,739 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:06:59,739 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:59,739 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:59,740 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:06:59,740 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:06:59,740 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:59,740 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:59,741 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:06:59,741 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:06:59,741 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:59,741 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:59,742 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:06:59,742 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:06:59,742 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:59,742 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:06:59,743 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:06:59,743 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:06:59,744 - fastapi_app - INFO - Database models initialized
2025-05-11 07:06:59,744 - fastapi_app - INFO - Database models initialized
2025-05-11 07:06:59,744 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:06:59,744 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:06:59,762 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:59,762 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:59,764 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:06:59,764 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:06:59,764 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:06:59.764129', '2025-05-11 07:06:59.764134')
2025-05-11 07:06:59,764 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:06:59.764129', '2025-05-11 07:06:59.764134')
2025-05-11 07:06:59,765 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:06:59,765 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:06:59,772 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:59,772 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:59,774 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:06:59,774 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:06:59,774 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (154,)
2025-05-11 07:06:59,774 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (154,)
2025-05-11 07:06:59,777 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:06:59,777 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:06:59,777 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 154, '2025-05-11 07:06:59.777233', '2025-05-11 07:06:59.777240')
2025-05-11 07:06:59,777 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 154, '2025-05-11 07:06:59.777233', '2025-05-11 07:06:59.777240')
2025-05-11 07:06:59,778 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:06:59,778 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:06:59,779 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 154, '2025-05-11 07:06:59.777242', '2025-05-11 07:06:59.777245')
2025-05-11 07:06:59,779 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 154, '2025-05-11 07:06:59.777242', '2025-05-11 07:06:59.777245')
2025-05-11 07:06:59,780 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:06:59,780 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:06:59,780 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 154, '2025-05-11 07:06:59.777247', '2025-05-11 07:06:59.777249')
2025-05-11 07:06:59,780 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 154, '2025-05-11 07:06:59.777247', '2025-05-11 07:06:59.777249')
2025-05-11 07:06:59,780 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:06:59,780 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:06:59,781 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 154, '2025-05-11 07:06:59.777252', '2025-05-11 07:06:59.777254')
2025-05-11 07:06:59,781 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 154, '2025-05-11 07:06:59.777252', '2025-05-11 07:06:59.777254')
2025-05-11 07:06:59,781 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:06:59,781 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:06:59,781 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 154, '2025-05-11 07:06:59.777256', '2025-05-11 07:06:59.777259')
2025-05-11 07:06:59,781 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 154, '2025-05-11 07:06:59.777256', '2025-05-11 07:06:59.777259')
2025-05-11 07:06:59,782 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:06:59,782 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:06:59,786 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:59,786 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:59,787 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:06:59,787 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:06:59,787 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (766,)
2025-05-11 07:06:59,787 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (766,)
2025-05-11 07:06:59,788 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:06:59,788 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:06:59,788 - sqlalchemy.engine.Engine - INFO - [cached since 0.001588s ago] (767,)
2025-05-11 07:06:59,788 - sqlalchemy.engine.Engine - INFO - [cached since 0.001588s ago] (767,)
2025-05-11 07:06:59,789 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:06:59,789 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:06:59,790 - sqlalchemy.engine.Engine - INFO - [cached since 0.002899s ago] (768,)
2025-05-11 07:06:59,790 - sqlalchemy.engine.Engine - INFO - [cached since 0.002899s ago] (768,)
2025-05-11 07:06:59,791 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:06:59,791 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:06:59,791 - sqlalchemy.engine.Engine - INFO - [cached since 0.004107s ago] (769,)
2025-05-11 07:06:59,791 - sqlalchemy.engine.Engine - INFO - [cached since 0.004107s ago] (769,)
2025-05-11 07:06:59,792 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:06:59,792 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:06:59,792 - sqlalchemy.engine.Engine - INFO - [cached since 0.005211s ago] (770,)
2025-05-11 07:06:59,792 - sqlalchemy.engine.Engine - INFO - [cached since 0.005211s ago] (770,)
2025-05-11 07:06:59,794 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:06:59,794 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:06:59,795 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 154, '2025-05-11 07:06:59.794771', '2025-05-11 07:06:59.794776')
2025-05-11 07:06:59,795 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 154, '2025-05-11 07:06:59.794771', '2025-05-11 07:06:59.794776')
2025-05-11 07:06:59,795 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:06:59,795 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:06:59,796 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 154, '2025-05-11 07:06:59.794779', '2025-05-11 07:06:59.794782')
2025-05-11 07:06:59,796 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 154, '2025-05-11 07:06:59.794779', '2025-05-11 07:06:59.794782')
2025-05-11 07:06:59,796 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:06:59,796 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:06:59,796 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 154, '2025-05-11 07:06:59.794785', '2025-05-11 07:06:59.794786')
2025-05-11 07:06:59,796 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 154, '2025-05-11 07:06:59.794785', '2025-05-11 07:06:59.794786')
2025-05-11 07:06:59,798 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:06:59,798 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:06:59,798 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] [(461, 768), (461, 769), (462, 770), (460, 767), (460, 766)]
2025-05-11 07:06:59,798 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] [(461, 768), (461, 769), (462, 770), (460, 767), (460, 766)]
2025-05-11 07:06:59,799 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:06:59,799 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:06:59,803 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:59,803 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:59,804 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:06:59,804 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:06:59,804 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (460,)
2025-05-11 07:06:59,804 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (460,)
2025-05-11 07:06:59,805 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:06:59,805 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:06:59,805 - sqlalchemy.engine.Engine - INFO - [cached since 0.001483s ago] (461,)
2025-05-11 07:06:59,805 - sqlalchemy.engine.Engine - INFO - [cached since 0.001483s ago] (461,)
2025-05-11 07:06:59,806 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:06:59,806 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:06:59,806 - sqlalchemy.engine.Engine - INFO - [cached since 0.002644s ago] (462,)
2025-05-11 07:06:59,806 - sqlalchemy.engine.Engine - INFO - [cached since 0.002644s ago] (462,)
2025-05-11 07:06:59,808 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:06:59,808 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:06:59,808 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('9A', 154, 460, '2025-05-11 07:06:59.808189', '2025-05-11 07:06:59.808194')
2025-05-11 07:06:59,808 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('9A', 154, 460, '2025-05-11 07:06:59.808189', '2025-05-11 07:06:59.808194')
2025-05-11 07:06:59,810 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:06:59,810 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:06:59,813 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:59,813 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:06:59,814 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:06:59,814 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:06:59,814 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (154,)
2025-05-11 07:06:59,814 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (154,)
2025-05-11 07:06:59,815 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:06:59,815 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:06:59,815 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:06:59,815 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:07:23,435 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:07:23,435 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:07:23,436 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:07:23,436 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:07:23,436 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:07:23,436 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:07:23,438 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:07:23,438 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:07:23,438 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:07:23,438 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:07:23,439 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:07:23,439 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:07:23,439 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:07:23,439 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:07:23,440 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:07:23,440 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:07:23,440 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:07:23,440 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:07:23,441 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:07:23,441 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:07:23,441 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:07:23,441 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:07:23,442 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:07:23,442 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:07:23,442 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:07:23,442 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:07:23,443 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:07:23,443 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:07:23,444 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:07:23,444 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:07:23,444 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:07:23,444 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:07:23,445 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:07:23,445 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:07:23,446 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:07:23,446 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:07:23,446 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:07:23,446 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:07:23,447 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:07:23,447 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:07:23,448 - fastapi_app - INFO - Database models initialized
2025-05-11 07:07:23,448 - fastapi_app - INFO - Database models initialized
2025-05-11 07:07:23,448 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:07:23,448 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:07:23,475 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:07:23,475 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:07:23,477 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:07:23,477 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:07:23,477 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:07:23.477300', '2025-05-11 07:07:23.477307')
2025-05-11 07:07:23,477 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:07:23.477300', '2025-05-11 07:07:23.477307')
2025-05-11 07:07:23,479 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:07:23,479 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:07:23,486 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:07:23,486 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:07:23,488 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:07:23,488 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:07:23,489 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] (155,)
2025-05-11 07:07:23,489 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] (155,)
2025-05-11 07:07:23,492 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:07:23,492 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:07:23,492 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 155, '2025-05-11 07:07:23.492303', '2025-05-11 07:07:23.492309')
2025-05-11 07:07:23,492 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 155, '2025-05-11 07:07:23.492303', '2025-05-11 07:07:23.492309')
2025-05-11 07:07:23,494 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:07:23,494 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:07:23,494 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 155, '2025-05-11 07:07:23.492314', '2025-05-11 07:07:23.492316')
2025-05-11 07:07:23,494 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 155, '2025-05-11 07:07:23.492314', '2025-05-11 07:07:23.492316')
2025-05-11 07:07:23,495 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:07:23,495 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:07:23,495 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 155, '2025-05-11 07:07:23.492319', '2025-05-11 07:07:23.492322')
2025-05-11 07:07:23,495 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 155, '2025-05-11 07:07:23.492319', '2025-05-11 07:07:23.492322')
2025-05-11 07:07:23,496 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:07:23,496 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:07:23,496 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 155, '2025-05-11 07:07:23.492325', '2025-05-11 07:07:23.492328')
2025-05-11 07:07:23,496 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 155, '2025-05-11 07:07:23.492325', '2025-05-11 07:07:23.492328')
2025-05-11 07:07:23,497 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:07:23,497 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:07:23,497 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 155, '2025-05-11 07:07:23.492331', '2025-05-11 07:07:23.492334')
2025-05-11 07:07:23,497 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 155, '2025-05-11 07:07:23.492331', '2025-05-11 07:07:23.492334')
2025-05-11 07:07:23,498 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:07:23,498 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:07:23,503 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:07:23,503 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:07:23,504 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:07:23,504 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:07:23,504 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] (771,)
2025-05-11 07:07:23,504 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] (771,)
2025-05-11 07:07:23,506 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:07:23,506 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:07:23,506 - sqlalchemy.engine.Engine - INFO - [cached since 0.002261s ago] (772,)
2025-05-11 07:07:23,506 - sqlalchemy.engine.Engine - INFO - [cached since 0.002261s ago] (772,)
2025-05-11 07:07:23,508 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:07:23,508 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:07:23,508 - sqlalchemy.engine.Engine - INFO - [cached since 0.004109s ago] (773,)
2025-05-11 07:07:23,508 - sqlalchemy.engine.Engine - INFO - [cached since 0.004109s ago] (773,)
2025-05-11 07:07:23,510 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:07:23,510 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:07:23,510 - sqlalchemy.engine.Engine - INFO - [cached since 0.006224s ago] (774,)
2025-05-11 07:07:23,510 - sqlalchemy.engine.Engine - INFO - [cached since 0.006224s ago] (774,)
2025-05-11 07:07:23,512 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:07:23,512 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:07:23,513 - sqlalchemy.engine.Engine - INFO - [cached since 0.00847s ago] (775,)
2025-05-11 07:07:23,513 - sqlalchemy.engine.Engine - INFO - [cached since 0.00847s ago] (775,)
2025-05-11 07:07:23,516 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:07:23,516 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:07:23,516 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 155, '2025-05-11 07:07:23.516511', '2025-05-11 07:07:23.516517')
2025-05-11 07:07:23,516 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 155, '2025-05-11 07:07:23.516511', '2025-05-11 07:07:23.516517')
2025-05-11 07:07:23,518 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:07:23,518 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:07:23,518 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 155, '2025-05-11 07:07:23.516520', '2025-05-11 07:07:23.516523')
2025-05-11 07:07:23,518 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 155, '2025-05-11 07:07:23.516520', '2025-05-11 07:07:23.516523')
2025-05-11 07:07:23,519 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:07:23,519 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:07:23,519 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 155, '2025-05-11 07:07:23.516526', '2025-05-11 07:07:23.516528')
2025-05-11 07:07:23,519 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 155, '2025-05-11 07:07:23.516526', '2025-05-11 07:07:23.516528')
2025-05-11 07:07:23,521 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:07:23,521 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:07:23,521 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] [(463, 772), (463, 771), (464, 773), (464, 774), (465, 775)]
2025-05-11 07:07:23,521 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] [(463, 772), (463, 771), (464, 773), (464, 774), (465, 775)]
2025-05-11 07:07:23,522 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:07:23,522 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:07:23,527 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:07:23,527 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:07:23,528 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:07:23,528 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:07:23,529 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (463,)
2025-05-11 07:07:23,529 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (463,)
2025-05-11 07:07:23,531 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:07:23,531 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:07:23,531 - sqlalchemy.engine.Engine - INFO - [cached since 0.002701s ago] (464,)
2025-05-11 07:07:23,531 - sqlalchemy.engine.Engine - INFO - [cached since 0.002701s ago] (464,)
2025-05-11 07:07:23,532 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:07:23,532 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:07:23,533 - sqlalchemy.engine.Engine - INFO - [cached since 0.004121s ago] (465,)
2025-05-11 07:07:23,533 - sqlalchemy.engine.Engine - INFO - [cached since 0.004121s ago] (465,)
2025-05-11 07:07:23,535 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:07:23,535 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:07:23,535 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('9A', 155, 463, '2025-05-11 07:07:23.535072', '2025-05-11 07:07:23.535077')
2025-05-11 07:07:23,535 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('9A', 155, 463, '2025-05-11 07:07:23.535072', '2025-05-11 07:07:23.535077')
2025-05-11 07:07:23,536 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:07:23,536 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:07:23,540 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:07:23,540 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:07:23,541 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:07:23,541 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:07:23,541 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (155,)
2025-05-11 07:07:23,541 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (155,)
2025-05-11 07:07:23,542 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:07:23,542 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:07:23,543 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:07:23,543 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:07:23,657 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:07:23,657 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:07:36,839 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:07:36,839 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:07:36,875 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 07:07:36,875 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 07:07:36,875 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] (896700645,)
2025-05-11 07:07:36,875 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] (896700645,)
2025-05-11 07:07:36,879 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:07:36,879 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:09:04,755 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:04,755 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:04,755 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:09:04,755 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:09:04,755 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:04,755 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:04,757 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:09:04,757 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:09:04,757 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:04,757 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:04,757 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:09:04,757 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:09:04,758 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:04,758 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:04,758 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:09:04,758 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:09:04,758 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:04,758 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:04,759 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:09:04,759 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:09:04,759 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:04,759 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:04,760 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:09:04,760 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:09:04,760 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:04,760 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:04,761 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:09:04,761 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:09:04,761 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:04,761 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:04,761 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:09:04,761 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:09:04,762 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:04,762 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:04,762 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:09:04,762 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:09:04,762 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:04,762 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:04,763 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:04,763 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:04,764 - fastapi_app - INFO - Database models initialized
2025-05-11 07:09:04,764 - fastapi_app - INFO - Database models initialized
2025-05-11 07:09:04,764 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:09:04,764 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:09:04,784 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:04,784 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:04,785 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:09:04,785 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:09:04,786 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:09:04.785907', '2025-05-11 07:09:04.785912')
2025-05-11 07:09:04,786 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:09:04.785907', '2025-05-11 07:09:04.785912')
2025-05-11 07:09:04,788 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:04,788 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:04,792 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:04,792 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:04,794 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:09:04,794 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:09:04,795 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] (156,)
2025-05-11 07:09:04,795 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] (156,)
2025-05-11 07:09:04,797 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:04,797 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:04,797 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 156, '2025-05-11 07:09:04.797508', '2025-05-11 07:09:04.797513')
2025-05-11 07:09:04,797 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 156, '2025-05-11 07:09:04.797508', '2025-05-11 07:09:04.797513')
2025-05-11 07:09:04,798 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:04,798 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:04,798 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 156, '2025-05-11 07:09:04.797516', '2025-05-11 07:09:04.797518')
2025-05-11 07:09:04,798 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 156, '2025-05-11 07:09:04.797516', '2025-05-11 07:09:04.797518')
2025-05-11 07:09:04,799 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:04,799 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:04,799 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 156, '2025-05-11 07:09:04.797521', '2025-05-11 07:09:04.797523')
2025-05-11 07:09:04,799 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 156, '2025-05-11 07:09:04.797521', '2025-05-11 07:09:04.797523')
2025-05-11 07:09:04,799 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:04,799 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:04,799 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 156, '2025-05-11 07:09:04.797525', '2025-05-11 07:09:04.797528')
2025-05-11 07:09:04,799 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 156, '2025-05-11 07:09:04.797525', '2025-05-11 07:09:04.797528')
2025-05-11 07:09:04,800 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:04,800 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:04,800 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 156, '2025-05-11 07:09:04.797530', '2025-05-11 07:09:04.797533')
2025-05-11 07:09:04,800 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 156, '2025-05-11 07:09:04.797530', '2025-05-11 07:09:04.797533')
2025-05-11 07:09:04,801 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:04,801 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:04,805 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:04,805 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:04,806 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:04,806 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:04,806 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (776,)
2025-05-11 07:09:04,806 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (776,)
2025-05-11 07:09:04,808 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:04,808 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:04,808 - sqlalchemy.engine.Engine - INFO - [cached since 0.001843s ago] (777,)
2025-05-11 07:09:04,808 - sqlalchemy.engine.Engine - INFO - [cached since 0.001843s ago] (777,)
2025-05-11 07:09:04,809 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:04,809 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:04,809 - sqlalchemy.engine.Engine - INFO - [cached since 0.003068s ago] (778,)
2025-05-11 07:09:04,809 - sqlalchemy.engine.Engine - INFO - [cached since 0.003068s ago] (778,)
2025-05-11 07:09:04,810 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:04,810 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:04,810 - sqlalchemy.engine.Engine - INFO - [cached since 0.004141s ago] (779,)
2025-05-11 07:09:04,810 - sqlalchemy.engine.Engine - INFO - [cached since 0.004141s ago] (779,)
2025-05-11 07:09:04,811 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:04,811 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:04,812 - sqlalchemy.engine.Engine - INFO - [cached since 0.005465s ago] (780,)
2025-05-11 07:09:04,812 - sqlalchemy.engine.Engine - INFO - [cached since 0.005465s ago] (780,)
2025-05-11 07:09:04,814 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:09:04,814 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:09:04,814 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 156, '2025-05-11 07:09:04.814558', '2025-05-11 07:09:04.814562')
2025-05-11 07:09:04,814 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 156, '2025-05-11 07:09:04.814558', '2025-05-11 07:09:04.814562')
2025-05-11 07:09:04,815 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:09:04,815 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:09:04,815 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 156, '2025-05-11 07:09:04.814565', '2025-05-11 07:09:04.814568')
2025-05-11 07:09:04,815 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 156, '2025-05-11 07:09:04.814565', '2025-05-11 07:09:04.814568')
2025-05-11 07:09:04,816 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:09:04,816 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:09:04,816 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 156, '2025-05-11 07:09:04.814570', '2025-05-11 07:09:04.814572')
2025-05-11 07:09:04,816 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 156, '2025-05-11 07:09:04.814570', '2025-05-11 07:09:04.814572')
2025-05-11 07:09:04,817 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:09:04,817 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:09:04,817 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] [(466, 776), (466, 777), (467, 778), (467, 779), (468, 780)]
2025-05-11 07:09:04,817 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] [(466, 776), (466, 777), (467, 778), (467, 779), (468, 780)]
2025-05-11 07:09:04,818 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:04,818 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:04,822 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:04,822 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:04,823 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:09:04,823 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:09:04,823 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (466,)
2025-05-11 07:09:04,823 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (466,)
2025-05-11 07:09:04,825 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:09:04,825 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:09:04,825 - sqlalchemy.engine.Engine - INFO - [cached since 0.001582s ago] (467,)
2025-05-11 07:09:04,825 - sqlalchemy.engine.Engine - INFO - [cached since 0.001582s ago] (467,)
2025-05-11 07:09:04,826 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:09:04,826 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:09:04,826 - sqlalchemy.engine.Engine - INFO - [cached since 0.002579s ago] (468,)
2025-05-11 07:09:04,826 - sqlalchemy.engine.Engine - INFO - [cached since 0.002579s ago] (468,)
2025-05-11 07:09:04,827 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:09:04,827 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:09:04,828 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('9A', 156, 466, '2025-05-11 07:09:04.827794', '2025-05-11 07:09:04.827799')
2025-05-11 07:09:04,828 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('9A', 156, 466, '2025-05-11 07:09:04.827794', '2025-05-11 07:09:04.827799')
2025-05-11 07:09:04,829 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:04,829 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:04,833 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:04,833 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:04,833 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:09:04,833 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:09:04,834 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (156,)
2025-05-11 07:09:04,834 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (156,)
2025-05-11 07:09:04,834 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:09:04,834 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:09:04,835 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:09:04,835 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:09:09,207 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:09,207 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:09,208 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:09:09,208 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:09:09,208 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:09,208 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:09,209 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:09:09,209 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:09:09,209 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:09,209 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:09,210 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:09:09,210 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:09:09,210 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:09,210 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:09,211 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:09:09,211 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:09:09,212 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:09,212 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:09,212 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:09:09,212 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:09:09,212 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:09,212 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:09,213 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:09:09,213 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:09:09,213 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:09,213 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:09,214 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:09:09,214 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:09:09,214 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:09,214 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:09,215 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:09:09,215 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:09:09,215 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:09,215 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:09,216 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:09:09,216 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:09:09,216 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:09,216 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:09,218 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:09,218 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:09,218 - fastapi_app - INFO - Database models initialized
2025-05-11 07:09:09,218 - fastapi_app - INFO - Database models initialized
2025-05-11 07:09:09,219 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:09:09,219 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:09:09,241 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:09,241 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:09,243 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:09:09,243 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:09:09,243 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:09:09.243366', '2025-05-11 07:09:09.243375')
2025-05-11 07:09:09,243 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:09:09.243366', '2025-05-11 07:09:09.243375')
2025-05-11 07:09:09,244 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:09,244 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:09,252 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:09,252 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:09,256 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:09:09,256 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:09:09,256 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] (157,)
2025-05-11 07:09:09,256 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] (157,)
2025-05-11 07:09:09,259 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:09,259 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:09,259 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 157, '2025-05-11 07:09:09.259182', '2025-05-11 07:09:09.259188')
2025-05-11 07:09:09,259 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 157, '2025-05-11 07:09:09.259182', '2025-05-11 07:09:09.259188')
2025-05-11 07:09:09,260 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:09,260 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:09,261 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 157, '2025-05-11 07:09:09.259192', '2025-05-11 07:09:09.259195')
2025-05-11 07:09:09,261 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 157, '2025-05-11 07:09:09.259192', '2025-05-11 07:09:09.259195')
2025-05-11 07:09:09,261 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:09,261 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:09,261 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 157, '2025-05-11 07:09:09.259198', '2025-05-11 07:09:09.259200')
2025-05-11 07:09:09,261 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 157, '2025-05-11 07:09:09.259198', '2025-05-11 07:09:09.259200')
2025-05-11 07:09:09,262 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:09,262 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:09,262 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 157, '2025-05-11 07:09:09.259203', '2025-05-11 07:09:09.259206')
2025-05-11 07:09:09,262 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 157, '2025-05-11 07:09:09.259203', '2025-05-11 07:09:09.259206')
2025-05-11 07:09:09,263 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:09,263 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:09,263 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 157, '2025-05-11 07:09:09.259208', '2025-05-11 07:09:09.259211')
2025-05-11 07:09:09,263 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 157, '2025-05-11 07:09:09.259208', '2025-05-11 07:09:09.259211')
2025-05-11 07:09:09,264 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:09,264 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:09,269 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:09,269 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:09,270 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:09,270 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:09,270 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (781,)
2025-05-11 07:09:09,270 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (781,)
2025-05-11 07:09:09,272 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:09,272 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:09,272 - sqlalchemy.engine.Engine - INFO - [cached since 0.001616s ago] (782,)
2025-05-11 07:09:09,272 - sqlalchemy.engine.Engine - INFO - [cached since 0.001616s ago] (782,)
2025-05-11 07:09:09,273 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:09,273 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:09,273 - sqlalchemy.engine.Engine - INFO - [cached since 0.002983s ago] (783,)
2025-05-11 07:09:09,273 - sqlalchemy.engine.Engine - INFO - [cached since 0.002983s ago] (783,)
2025-05-11 07:09:09,274 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:09,274 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:09,275 - sqlalchemy.engine.Engine - INFO - [cached since 0.004463s ago] (784,)
2025-05-11 07:09:09,275 - sqlalchemy.engine.Engine - INFO - [cached since 0.004463s ago] (784,)
2025-05-11 07:09:09,276 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:09,276 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:09,276 - sqlalchemy.engine.Engine - INFO - [cached since 0.005894s ago] (785,)
2025-05-11 07:09:09,276 - sqlalchemy.engine.Engine - INFO - [cached since 0.005894s ago] (785,)
2025-05-11 07:09:09,279 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:09:09,279 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:09:09,279 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 157, '2025-05-11 07:09:09.279139', '2025-05-11 07:09:09.279144')
2025-05-11 07:09:09,279 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 157, '2025-05-11 07:09:09.279139', '2025-05-11 07:09:09.279144')
2025-05-11 07:09:09,280 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:09:09,280 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:09:09,280 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 157, '2025-05-11 07:09:09.279147', '2025-05-11 07:09:09.279149')
2025-05-11 07:09:09,280 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 157, '2025-05-11 07:09:09.279147', '2025-05-11 07:09:09.279149')
2025-05-11 07:09:09,281 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:09:09,281 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:09:09,281 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 157, '2025-05-11 07:09:09.279152', '2025-05-11 07:09:09.279155')
2025-05-11 07:09:09,281 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 157, '2025-05-11 07:09:09.279152', '2025-05-11 07:09:09.279155')
2025-05-11 07:09:09,282 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:09:09,282 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:09:09,282 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] [(470, 783), (469, 781), (470, 784), (471, 785), (469, 782)]
2025-05-11 07:09:09,282 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] [(470, 783), (469, 781), (470, 784), (471, 785), (469, 782)]
2025-05-11 07:09:09,284 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:09,284 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:09,288 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:09,288 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:09,289 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:09:09,289 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:09:09,290 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] (469,)
2025-05-11 07:09:09,290 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] (469,)
2025-05-11 07:09:09,291 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:09:09,291 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:09:09,291 - sqlalchemy.engine.Engine - INFO - [cached since 0.002074s ago] (470,)
2025-05-11 07:09:09,291 - sqlalchemy.engine.Engine - INFO - [cached since 0.002074s ago] (470,)
2025-05-11 07:09:09,293 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:09:09,293 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:09:09,293 - sqlalchemy.engine.Engine - INFO - [cached since 0.003962s ago] (471,)
2025-05-11 07:09:09,293 - sqlalchemy.engine.Engine - INFO - [cached since 0.003962s ago] (471,)
2025-05-11 07:09:09,296 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:09:09,296 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:09:09,296 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('9A', 157, 469, '2025-05-11 07:09:09.296685', '2025-05-11 07:09:09.296690')
2025-05-11 07:09:09,296 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('9A', 157, 469, '2025-05-11 07:09:09.296685', '2025-05-11 07:09:09.296690')
2025-05-11 07:09:09,298 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:09,298 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:09,302 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:09,302 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:09,303 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:09:09,303 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:09:09,303 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (157,)
2025-05-11 07:09:09,303 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (157,)
2025-05-11 07:09:09,304 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:09:09,304 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:09:09,304 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:09:09,304 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:09:09,421 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:09:09,421 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:09:15,878 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:15,878 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:15,911 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 07:09:15,911 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 07:09:15,911 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] (896700645,)
2025-05-11 07:09:15,911 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] (896700645,)
2025-05-11 07:09:15,914 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:09:15,914 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:09:55,584 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:55,584 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:55,584 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:09:55,584 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:09:55,585 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:55,585 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:55,586 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:09:55,586 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:09:55,586 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:55,586 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:55,586 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:09:55,586 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:09:55,586 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:55,586 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:55,587 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:09:55,587 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:09:55,587 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:55,587 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:55,588 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:09:55,588 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:09:55,588 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:55,588 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:55,589 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:09:55,589 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:09:55,589 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:55,589 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:55,590 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:09:55,590 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:09:55,591 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:55,591 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:55,592 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:09:55,592 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:09:55,592 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:55,592 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:55,593 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:09:55,593 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:09:55,593 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:55,593 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:09:55,594 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:55,594 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:55,595 - fastapi_app - INFO - Database models initialized
2025-05-11 07:09:55,595 - fastapi_app - INFO - Database models initialized
2025-05-11 07:09:55,595 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:09:55,595 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:09:55,614 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:55,614 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:55,616 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:09:55,616 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:09:55,616 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:09:55.615996', '2025-05-11 07:09:55.616001')
2025-05-11 07:09:55,616 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:09:55.615996', '2025-05-11 07:09:55.616001')
2025-05-11 07:09:55,617 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:55,617 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:55,623 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:55,623 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:55,625 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:09:55,625 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:09:55,625 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] (158,)
2025-05-11 07:09:55,625 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] (158,)
2025-05-11 07:09:55,629 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:55,629 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:55,629 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 158, '2025-05-11 07:09:55.629018', '2025-05-11 07:09:55.629024')
2025-05-11 07:09:55,629 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 158, '2025-05-11 07:09:55.629018', '2025-05-11 07:09:55.629024')
2025-05-11 07:09:55,630 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:55,630 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:55,631 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 158, '2025-05-11 07:09:55.629028', '2025-05-11 07:09:55.629031')
2025-05-11 07:09:55,631 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 158, '2025-05-11 07:09:55.629028', '2025-05-11 07:09:55.629031')
2025-05-11 07:09:55,631 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:55,631 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:55,631 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 158, '2025-05-11 07:09:55.629033', '2025-05-11 07:09:55.629037')
2025-05-11 07:09:55,631 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 158, '2025-05-11 07:09:55.629033', '2025-05-11 07:09:55.629037')
2025-05-11 07:09:55,632 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:55,632 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:55,632 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 158, '2025-05-11 07:09:55.629040', '2025-05-11 07:09:55.629043')
2025-05-11 07:09:55,632 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 158, '2025-05-11 07:09:55.629040', '2025-05-11 07:09:55.629043')
2025-05-11 07:09:55,633 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:55,633 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:09:55,633 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 158, '2025-05-11 07:09:55.629046', '2025-05-11 07:09:55.629049')
2025-05-11 07:09:55,633 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 158, '2025-05-11 07:09:55.629046', '2025-05-11 07:09:55.629049')
2025-05-11 07:09:55,635 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:55,635 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:55,641 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:55,641 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:55,642 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:55,642 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:55,642 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] (786,)
2025-05-11 07:09:55,642 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] (786,)
2025-05-11 07:09:55,644 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:55,644 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:55,645 - sqlalchemy.engine.Engine - INFO - [cached since 0.002705s ago] (787,)
2025-05-11 07:09:55,645 - sqlalchemy.engine.Engine - INFO - [cached since 0.002705s ago] (787,)
2025-05-11 07:09:55,646 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:55,646 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:55,647 - sqlalchemy.engine.Engine - INFO - [cached since 0.004739s ago] (788,)
2025-05-11 07:09:55,647 - sqlalchemy.engine.Engine - INFO - [cached since 0.004739s ago] (788,)
2025-05-11 07:09:55,648 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:55,648 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:55,648 - sqlalchemy.engine.Engine - INFO - [cached since 0.006485s ago] (789,)
2025-05-11 07:09:55,648 - sqlalchemy.engine.Engine - INFO - [cached since 0.006485s ago] (789,)
2025-05-11 07:09:55,650 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:55,650 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:09:55,650 - sqlalchemy.engine.Engine - INFO - [cached since 0.008187s ago] (790,)
2025-05-11 07:09:55,650 - sqlalchemy.engine.Engine - INFO - [cached since 0.008187s ago] (790,)
2025-05-11 07:09:55,654 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:09:55,654 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:09:55,654 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 158, '2025-05-11 07:09:55.654227', '2025-05-11 07:09:55.654234')
2025-05-11 07:09:55,654 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 158, '2025-05-11 07:09:55.654227', '2025-05-11 07:09:55.654234')
2025-05-11 07:09:55,655 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:09:55,655 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:09:55,656 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 158, '2025-05-11 07:09:55.654237', '2025-05-11 07:09:55.654240')
2025-05-11 07:09:55,656 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 158, '2025-05-11 07:09:55.654237', '2025-05-11 07:09:55.654240')
2025-05-11 07:09:55,656 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:09:55,656 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:09:55,657 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 158, '2025-05-11 07:09:55.654242', '2025-05-11 07:09:55.654245')
2025-05-11 07:09:55,657 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 158, '2025-05-11 07:09:55.654242', '2025-05-11 07:09:55.654245')
2025-05-11 07:09:55,658 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:09:55,658 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:09:55,659 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] [(473, 789), (474, 790), (472, 787), (472, 786), (473, 788)]
2025-05-11 07:09:55,659 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] [(473, 789), (474, 790), (472, 787), (472, 786), (473, 788)]
2025-05-11 07:09:55,661 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:55,661 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:55,665 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:55,665 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:55,666 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:09:55,666 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:09:55,666 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] (472,)
2025-05-11 07:09:55,666 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] (472,)
2025-05-11 07:09:55,668 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:09:55,668 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:09:55,668 - sqlalchemy.engine.Engine - INFO - [cached since 0.002159s ago] (473,)
2025-05-11 07:09:55,668 - sqlalchemy.engine.Engine - INFO - [cached since 0.002159s ago] (473,)
2025-05-11 07:09:55,669 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:09:55,669 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:09:55,669 - sqlalchemy.engine.Engine - INFO - [cached since 0.003553s ago] (474,)
2025-05-11 07:09:55,669 - sqlalchemy.engine.Engine - INFO - [cached since 0.003553s ago] (474,)
2025-05-11 07:09:55,671 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:09:55,671 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:09:55,671 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('9A', 158, 472, '2025-05-11 07:09:55.671642', '2025-05-11 07:09:55.671647')
2025-05-11 07:09:55,671 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('9A', 158, 472, '2025-05-11 07:09:55.671642', '2025-05-11 07:09:55.671647')
2025-05-11 07:09:55,672 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:55,672 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:09:55,676 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:55,676 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:09:55,677 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:09:55,677 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:09:55,678 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (158,)
2025-05-11 07:09:55,678 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (158,)
2025-05-11 07:09:55,678 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:09:55,678 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:09:55,679 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:09:55,679 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:09:55,787 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:09:55,787 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:10:00,138 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:00,138 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:00,139 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:10:00,139 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:10:00,139 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:00,139 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:00,140 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:10:00,140 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:10:00,141 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:00,141 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:00,141 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:10:00,141 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:10:00,141 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:00,141 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:00,142 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:10:00,142 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:10:00,142 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:00,142 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:00,143 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:10:00,143 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:10:00,143 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:00,143 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:00,144 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:10:00,144 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:10:00,144 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:00,144 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:00,145 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:10:00,145 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:10:00,145 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:00,145 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:00,145 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:10:00,145 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:10:00,146 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:00,146 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:00,146 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:10:00,146 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:10:00,146 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:00,146 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:00,147 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:00,147 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:00,148 - fastapi_app - INFO - Database models initialized
2025-05-11 07:10:00,148 - fastapi_app - INFO - Database models initialized
2025-05-11 07:10:00,148 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:10:00,148 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:10:00,165 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:00,165 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:00,166 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:10:00,166 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:10:00,166 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:10:00.166697', '2025-05-11 07:10:00.166704')
2025-05-11 07:10:00,166 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:10:00.166697', '2025-05-11 07:10:00.166704')
2025-05-11 07:10:00,168 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:00,168 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:00,175 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:00,175 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:00,177 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:10:00,177 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:10:00,178 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (159,)
2025-05-11 07:10:00,178 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (159,)
2025-05-11 07:10:00,180 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:00,180 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:00,180 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 159, '2025-05-11 07:10:00.180522', '2025-05-11 07:10:00.180528')
2025-05-11 07:10:00,180 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 159, '2025-05-11 07:10:00.180522', '2025-05-11 07:10:00.180528')
2025-05-11 07:10:00,182 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:00,182 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:00,182 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 159, '2025-05-11 07:10:00.180531', '2025-05-11 07:10:00.180534')
2025-05-11 07:10:00,182 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 159, '2025-05-11 07:10:00.180531', '2025-05-11 07:10:00.180534')
2025-05-11 07:10:00,183 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:00,183 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:00,183 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 159, '2025-05-11 07:10:00.180536', '2025-05-11 07:10:00.180539')
2025-05-11 07:10:00,183 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 159, '2025-05-11 07:10:00.180536', '2025-05-11 07:10:00.180539')
2025-05-11 07:10:00,183 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:00,183 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:00,183 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 159, '2025-05-11 07:10:00.180542', '2025-05-11 07:10:00.180543')
2025-05-11 07:10:00,183 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 159, '2025-05-11 07:10:00.180542', '2025-05-11 07:10:00.180543')
2025-05-11 07:10:00,184 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:00,184 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:00,184 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 159, '2025-05-11 07:10:00.180547', '2025-05-11 07:10:00.180548')
2025-05-11 07:10:00,184 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 159, '2025-05-11 07:10:00.180547', '2025-05-11 07:10:00.180548')
2025-05-11 07:10:00,185 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:00,185 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:00,189 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:00,189 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:00,190 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:00,190 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:00,190 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] (791,)
2025-05-11 07:10:00,190 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] (791,)
2025-05-11 07:10:00,192 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:00,192 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:00,192 - sqlalchemy.engine.Engine - INFO - [cached since 0.001812s ago] (792,)
2025-05-11 07:10:00,192 - sqlalchemy.engine.Engine - INFO - [cached since 0.001812s ago] (792,)
2025-05-11 07:10:00,193 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:00,193 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:00,193 - sqlalchemy.engine.Engine - INFO - [cached since 0.003202s ago] (793,)
2025-05-11 07:10:00,193 - sqlalchemy.engine.Engine - INFO - [cached since 0.003202s ago] (793,)
2025-05-11 07:10:00,194 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:00,194 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:00,194 - sqlalchemy.engine.Engine - INFO - [cached since 0.004357s ago] (794,)
2025-05-11 07:10:00,194 - sqlalchemy.engine.Engine - INFO - [cached since 0.004357s ago] (794,)
2025-05-11 07:10:00,195 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:00,195 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:00,195 - sqlalchemy.engine.Engine - INFO - [cached since 0.005549s ago] (795,)
2025-05-11 07:10:00,195 - sqlalchemy.engine.Engine - INFO - [cached since 0.005549s ago] (795,)
2025-05-11 07:10:00,198 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:00,198 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:00,198 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 159, '2025-05-11 07:10:00.198051', '2025-05-11 07:10:00.198056')
2025-05-11 07:10:00,198 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 159, '2025-05-11 07:10:00.198051', '2025-05-11 07:10:00.198056')
2025-05-11 07:10:00,199 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:00,199 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:00,199 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 159, '2025-05-11 07:10:00.198058', '2025-05-11 07:10:00.198061')
2025-05-11 07:10:00,199 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 159, '2025-05-11 07:10:00.198058', '2025-05-11 07:10:00.198061')
2025-05-11 07:10:00,200 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:00,200 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:00,200 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 159, '2025-05-11 07:10:00.198064', '2025-05-11 07:10:00.198067')
2025-05-11 07:10:00,200 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 159, '2025-05-11 07:10:00.198064', '2025-05-11 07:10:00.198067')
2025-05-11 07:10:00,201 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:10:00,201 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:10:00,201 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] [(476, 793), (476, 794), (475, 792), (477, 795), (475, 791)]
2025-05-11 07:10:00,201 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] [(476, 793), (476, 794), (475, 792), (477, 795), (475, 791)]
2025-05-11 07:10:00,202 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:00,202 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:00,206 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:00,206 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:00,207 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:00,207 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:00,207 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (475,)
2025-05-11 07:10:00,207 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (475,)
2025-05-11 07:10:00,208 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:00,208 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:00,208 - sqlalchemy.engine.Engine - INFO - [cached since 0.001551s ago] (476,)
2025-05-11 07:10:00,208 - sqlalchemy.engine.Engine - INFO - [cached since 0.001551s ago] (476,)
2025-05-11 07:10:00,209 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:00,209 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:00,209 - sqlalchemy.engine.Engine - INFO - [cached since 0.002736s ago] (477,)
2025-05-11 07:10:00,209 - sqlalchemy.engine.Engine - INFO - [cached since 0.002736s ago] (477,)
2025-05-11 07:10:00,211 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:10:00,211 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:10:00,211 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('9A', 159, 475, '2025-05-11 07:10:00.211467', '2025-05-11 07:10:00.211473')
2025-05-11 07:10:00,211 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('9A', 159, 475, '2025-05-11 07:10:00.211467', '2025-05-11 07:10:00.211473')
2025-05-11 07:10:00,212 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:00,212 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:00,216 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:00,216 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:00,217 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:10:00,217 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:10:00,217 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (159,)
2025-05-11 07:10:00,217 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (159,)
2025-05-11 07:10:00,218 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:10:00,218 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:10:00,219 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:10:00,219 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:10:00,321 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:10:00,321 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:10:27,826 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:27,826 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:27,826 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:10:27,826 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:10:27,827 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:27,827 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:27,828 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:10:27,828 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:10:27,828 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:27,828 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:27,829 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:10:27,829 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:10:27,829 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:27,829 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:27,830 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:10:27,830 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:10:27,831 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:27,831 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:27,831 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:10:27,831 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:10:27,832 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:27,832 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:27,833 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:10:27,833 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:10:27,833 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:27,833 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:27,834 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:10:27,834 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:10:27,834 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:27,834 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:27,835 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:10:27,835 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:10:27,835 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:27,835 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:27,836 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:10:27,836 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:10:27,836 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:27,836 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:27,838 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:27,838 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:27,839 - fastapi_app - INFO - Database models initialized
2025-05-11 07:10:27,839 - fastapi_app - INFO - Database models initialized
2025-05-11 07:10:27,840 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:10:27,840 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:10:27,871 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:27,871 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:27,874 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:10:27,874 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:10:27,874 - sqlalchemy.engine.Engine - INFO - [generated in 0.00074s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:10:27.874115', '2025-05-11 07:10:27.874123')
2025-05-11 07:10:27,874 - sqlalchemy.engine.Engine - INFO - [generated in 0.00074s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:10:27.874115', '2025-05-11 07:10:27.874123')
2025-05-11 07:10:27,877 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:27,877 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:27,887 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:27,887 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:27,892 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:10:27,892 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:10:27,893 - sqlalchemy.engine.Engine - INFO - [generated in 0.00161s] (160,)
2025-05-11 07:10:27,893 - sqlalchemy.engine.Engine - INFO - [generated in 0.00161s] (160,)
2025-05-11 07:10:27,906 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:27,906 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:27,906 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 160, '2025-05-11 07:10:27.906279', '2025-05-11 07:10:27.906295')
2025-05-11 07:10:27,906 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 160, '2025-05-11 07:10:27.906279', '2025-05-11 07:10:27.906295')
2025-05-11 07:10:27,909 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:27,909 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:27,909 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 160, '2025-05-11 07:10:27.906297', '2025-05-11 07:10:27.906300')
2025-05-11 07:10:27,909 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 160, '2025-05-11 07:10:27.906297', '2025-05-11 07:10:27.906300')
2025-05-11 07:10:27,911 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:27,911 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:27,911 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 160, '2025-05-11 07:10:27.906303', '2025-05-11 07:10:27.906306')
2025-05-11 07:10:27,911 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 160, '2025-05-11 07:10:27.906303', '2025-05-11 07:10:27.906306')
2025-05-11 07:10:27,912 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:27,912 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:27,913 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 160, '2025-05-11 07:10:27.906309', '2025-05-11 07:10:27.906313')
2025-05-11 07:10:27,913 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 160, '2025-05-11 07:10:27.906309', '2025-05-11 07:10:27.906313')
2025-05-11 07:10:27,913 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:27,913 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:27,914 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 160, '2025-05-11 07:10:27.906316', '2025-05-11 07:10:27.906320')
2025-05-11 07:10:27,914 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 160, '2025-05-11 07:10:27.906316', '2025-05-11 07:10:27.906320')
2025-05-11 07:10:27,915 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:27,915 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:27,921 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:27,921 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:27,923 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:27,923 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:27,923 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] (796,)
2025-05-11 07:10:27,923 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] (796,)
2025-05-11 07:10:27,930 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:27,930 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:27,930 - sqlalchemy.engine.Engine - INFO - [cached since 0.007259s ago] (797,)
2025-05-11 07:10:27,930 - sqlalchemy.engine.Engine - INFO - [cached since 0.007259s ago] (797,)
2025-05-11 07:10:27,933 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:27,933 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:27,934 - sqlalchemy.engine.Engine - INFO - [cached since 0.01105s ago] (798,)
2025-05-11 07:10:27,934 - sqlalchemy.engine.Engine - INFO - [cached since 0.01105s ago] (798,)
2025-05-11 07:10:27,936 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:27,936 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:27,936 - sqlalchemy.engine.Engine - INFO - [cached since 0.01341s ago] (799,)
2025-05-11 07:10:27,936 - sqlalchemy.engine.Engine - INFO - [cached since 0.01341s ago] (799,)
2025-05-11 07:10:27,938 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:27,938 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:27,938 - sqlalchemy.engine.Engine - INFO - [cached since 0.01548s ago] (800,)
2025-05-11 07:10:27,938 - sqlalchemy.engine.Engine - INFO - [cached since 0.01548s ago] (800,)
2025-05-11 07:10:27,942 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:27,942 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:27,943 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 160, '2025-05-11 07:10:27.942381', '2025-05-11 07:10:27.942387')
2025-05-11 07:10:27,943 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 160, '2025-05-11 07:10:27.942381', '2025-05-11 07:10:27.942387')
2025-05-11 07:10:27,944 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:27,944 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:27,944 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 160, '2025-05-11 07:10:27.942390', '2025-05-11 07:10:27.942394')
2025-05-11 07:10:27,944 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 160, '2025-05-11 07:10:27.942390', '2025-05-11 07:10:27.942394')
2025-05-11 07:10:27,945 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:27,945 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:27,946 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 160, '2025-05-11 07:10:27.942397', '2025-05-11 07:10:27.942399')
2025-05-11 07:10:27,946 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 160, '2025-05-11 07:10:27.942397', '2025-05-11 07:10:27.942399')
2025-05-11 07:10:27,948 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:10:27,948 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:10:27,949 - sqlalchemy.engine.Engine - INFO - [generated in 0.00072s] [(479, 798), (479, 799), (480, 800), (478, 797), (478, 796)]
2025-05-11 07:10:27,949 - sqlalchemy.engine.Engine - INFO - [generated in 0.00072s] [(479, 798), (479, 799), (480, 800), (478, 797), (478, 796)]
2025-05-11 07:10:27,951 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:27,951 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:27,970 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:27,970 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:27,972 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:27,972 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:27,972 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (478,)
2025-05-11 07:10:27,972 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (478,)
2025-05-11 07:10:27,978 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:27,978 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:27,978 - sqlalchemy.engine.Engine - INFO - [cached since 0.006306s ago] (479,)
2025-05-11 07:10:27,978 - sqlalchemy.engine.Engine - INFO - [cached since 0.006306s ago] (479,)
2025-05-11 07:10:27,980 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:27,980 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:27,980 - sqlalchemy.engine.Engine - INFO - [cached since 0.008588s ago] (480,)
2025-05-11 07:10:27,980 - sqlalchemy.engine.Engine - INFO - [cached since 0.008588s ago] (480,)
2025-05-11 07:10:27,983 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:10:27,983 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:10:27,984 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] ('9A', 160, 478, '2025-05-11 07:10:27.983691', '2025-05-11 07:10:27.983698')
2025-05-11 07:10:27,984 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] ('9A', 160, 478, '2025-05-11 07:10:27.983691', '2025-05-11 07:10:27.983698')
2025-05-11 07:10:27,985 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:27,985 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:27,991 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:27,991 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:27,993 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:10:27,993 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:10:27,993 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (160,)
2025-05-11 07:10:27,993 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (160,)
2025-05-11 07:10:27,995 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:10:27,995 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:10:27,995 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:10:27,995 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:10:28,150 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:10:28,150 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:10:40,879 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:40,879 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:40,880 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:10:40,880 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:10:40,880 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:40,880 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:40,881 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:10:40,881 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:10:40,882 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:40,882 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:40,883 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:10:40,883 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:10:40,883 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:40,883 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:40,884 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:10:40,884 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:10:40,885 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:40,885 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:40,886 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:10:40,886 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:10:40,886 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:40,886 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:40,887 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:10:40,887 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:10:40,887 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:40,887 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:40,888 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:10:40,888 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:10:40,888 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:40,888 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:40,889 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:10:40,889 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:10:40,889 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:40,889 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:40,889 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:10:40,889 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:10:40,890 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:40,890 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:40,890 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:40,890 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:40,891 - fastapi_app - INFO - Database models initialized
2025-05-11 07:10:40,891 - fastapi_app - INFO - Database models initialized
2025-05-11 07:10:40,891 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:10:40,891 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:10:40,915 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:40,915 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:40,917 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:10:40,917 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:10:40,918 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:10:40.917692', '2025-05-11 07:10:40.917700')
2025-05-11 07:10:40,918 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:10:40.917692', '2025-05-11 07:10:40.917700')
2025-05-11 07:10:40,919 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:40,919 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:40,924 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:40,924 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:40,927 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:10:40,927 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:10:40,927 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] (161,)
2025-05-11 07:10:40,927 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] (161,)
2025-05-11 07:10:40,930 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:40,930 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:40,931 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 161, '2025-05-11 07:10:40.930667', '2025-05-11 07:10:40.930673')
2025-05-11 07:10:40,931 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 161, '2025-05-11 07:10:40.930667', '2025-05-11 07:10:40.930673')
2025-05-11 07:10:40,932 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:40,932 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:40,932 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 161, '2025-05-11 07:10:40.930746', '2025-05-11 07:10:40.930750')
2025-05-11 07:10:40,932 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 161, '2025-05-11 07:10:40.930746', '2025-05-11 07:10:40.930750')
2025-05-11 07:10:40,932 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:40,932 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:40,932 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 161, '2025-05-11 07:10:40.930754', '2025-05-11 07:10:40.930756')
2025-05-11 07:10:40,932 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 161, '2025-05-11 07:10:40.930754', '2025-05-11 07:10:40.930756')
2025-05-11 07:10:40,933 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:40,933 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:40,933 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 161, '2025-05-11 07:10:40.930759', '2025-05-11 07:10:40.930761')
2025-05-11 07:10:40,933 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 161, '2025-05-11 07:10:40.930759', '2025-05-11 07:10:40.930761')
2025-05-11 07:10:40,934 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:40,934 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:40,934 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 161, '2025-05-11 07:10:40.930764', '2025-05-11 07:10:40.930767')
2025-05-11 07:10:40,934 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 161, '2025-05-11 07:10:40.930764', '2025-05-11 07:10:40.930767')
2025-05-11 07:10:40,935 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:40,935 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:40,939 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:40,939 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:40,940 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:40,940 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:40,940 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (801,)
2025-05-11 07:10:40,940 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (801,)
2025-05-11 07:10:40,941 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:40,941 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:40,941 - sqlalchemy.engine.Engine - INFO - [cached since 0.001651s ago] (802,)
2025-05-11 07:10:40,941 - sqlalchemy.engine.Engine - INFO - [cached since 0.001651s ago] (802,)
2025-05-11 07:10:40,943 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:40,943 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:40,943 - sqlalchemy.engine.Engine - INFO - [cached since 0.003054s ago] (803,)
2025-05-11 07:10:40,943 - sqlalchemy.engine.Engine - INFO - [cached since 0.003054s ago] (803,)
2025-05-11 07:10:40,944 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:40,944 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:40,944 - sqlalchemy.engine.Engine - INFO - [cached since 0.004276s ago] (804,)
2025-05-11 07:10:40,944 - sqlalchemy.engine.Engine - INFO - [cached since 0.004276s ago] (804,)
2025-05-11 07:10:40,945 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:40,945 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:40,945 - sqlalchemy.engine.Engine - INFO - [cached since 0.005533s ago] (805,)
2025-05-11 07:10:40,945 - sqlalchemy.engine.Engine - INFO - [cached since 0.005533s ago] (805,)
2025-05-11 07:10:40,948 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:40,948 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:40,948 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 161, '2025-05-11 07:10:40.948240', '2025-05-11 07:10:40.948245')
2025-05-11 07:10:40,948 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 161, '2025-05-11 07:10:40.948240', '2025-05-11 07:10:40.948245')
2025-05-11 07:10:40,949 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:40,949 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:40,949 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 161, '2025-05-11 07:10:40.948248', '2025-05-11 07:10:40.948251')
2025-05-11 07:10:40,949 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 161, '2025-05-11 07:10:40.948248', '2025-05-11 07:10:40.948251')
2025-05-11 07:10:40,949 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:40,949 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:40,950 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 161, '2025-05-11 07:10:40.948254', '2025-05-11 07:10:40.948255')
2025-05-11 07:10:40,950 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 161, '2025-05-11 07:10:40.948254', '2025-05-11 07:10:40.948255')
2025-05-11 07:10:40,951 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:10:40,951 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:10:40,951 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] [(482, 803), (482, 804), (483, 805), (481, 801), (481, 802)]
2025-05-11 07:10:40,951 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] [(482, 803), (482, 804), (483, 805), (481, 801), (481, 802)]
2025-05-11 07:10:40,952 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:40,952 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:40,956 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:40,956 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:40,957 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:40,957 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:40,957 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (481,)
2025-05-11 07:10:40,957 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (481,)
2025-05-11 07:10:40,958 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:40,958 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:40,959 - sqlalchemy.engine.Engine - INFO - [cached since 0.001464s ago] (482,)
2025-05-11 07:10:40,959 - sqlalchemy.engine.Engine - INFO - [cached since 0.001464s ago] (482,)
2025-05-11 07:10:40,960 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:40,960 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:40,960 - sqlalchemy.engine.Engine - INFO - [cached since 0.002489s ago] (483,)
2025-05-11 07:10:40,960 - sqlalchemy.engine.Engine - INFO - [cached since 0.002489s ago] (483,)
2025-05-11 07:10:40,962 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:10:40,962 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:10:40,962 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('9A', 161, 481, '2025-05-11 07:10:40.961974', '2025-05-11 07:10:40.961980')
2025-05-11 07:10:40,962 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('9A', 161, 481, '2025-05-11 07:10:40.961974', '2025-05-11 07:10:40.961980')
2025-05-11 07:10:40,963 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:40,963 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:40,966 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:40,966 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:40,967 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:10:40,967 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:10:40,968 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] (161,)
2025-05-11 07:10:40,968 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] (161,)
2025-05-11 07:10:40,969 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:10:40,969 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:10:40,969 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:10:40,969 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:10:41,087 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:10:41,087 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:10:41,931 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:41,931 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:41,931 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:10:41,931 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:10:41,931 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:41,931 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:41,933 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:10:41,933 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:10:41,933 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:41,933 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:41,933 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:10:41,933 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:10:41,934 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:41,934 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:41,934 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:10:41,934 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:10:41,935 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:41,935 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:41,935 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:10:41,935 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:10:41,935 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:41,935 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:41,936 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:10:41,936 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:10:41,936 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:41,936 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:41,937 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:10:41,937 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:10:41,937 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:41,937 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:41,938 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:10:41,938 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:10:41,938 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:41,938 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:41,939 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:10:41,939 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:10:41,939 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:41,939 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:41,940 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:41,940 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:41,941 - fastapi_app - INFO - Database models initialized
2025-05-11 07:10:41,941 - fastapi_app - INFO - Database models initialized
2025-05-11 07:10:41,941 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:10:41,941 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:10:41,968 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:41,968 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:41,971 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:10:41,971 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:10:41,971 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:10:41.970942', '2025-05-11 07:10:41.970947')
2025-05-11 07:10:41,971 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:10:41.970942', '2025-05-11 07:10:41.970947')
2025-05-11 07:10:41,973 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:41,973 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:41,979 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:41,979 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:41,983 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:10:41,983 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:10:41,983 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] (162,)
2025-05-11 07:10:41,983 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] (162,)
2025-05-11 07:10:41,986 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:41,986 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:41,986 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 162, '2025-05-11 07:10:41.986441', '2025-05-11 07:10:41.986448')
2025-05-11 07:10:41,986 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 162, '2025-05-11 07:10:41.986441', '2025-05-11 07:10:41.986448')
2025-05-11 07:10:41,988 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:41,988 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:41,988 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 162, '2025-05-11 07:10:41.986451', '2025-05-11 07:10:41.986454')
2025-05-11 07:10:41,988 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 162, '2025-05-11 07:10:41.986451', '2025-05-11 07:10:41.986454')
2025-05-11 07:10:41,989 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:41,989 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:41,989 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 162, '2025-05-11 07:10:41.986470', '2025-05-11 07:10:41.986473')
2025-05-11 07:10:41,989 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 162, '2025-05-11 07:10:41.986470', '2025-05-11 07:10:41.986473')
2025-05-11 07:10:41,990 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:41,990 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:41,990 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 162, '2025-05-11 07:10:41.986476', '2025-05-11 07:10:41.986479')
2025-05-11 07:10:41,990 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 162, '2025-05-11 07:10:41.986476', '2025-05-11 07:10:41.986479')
2025-05-11 07:10:41,991 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:41,991 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:41,991 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 162, '2025-05-11 07:10:41.986481', '2025-05-11 07:10:41.986485')
2025-05-11 07:10:41,991 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 162, '2025-05-11 07:10:41.986481', '2025-05-11 07:10:41.986485')
2025-05-11 07:10:41,993 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:41,993 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:41,997 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:41,997 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:41,999 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:41,999 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:41,999 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] (806,)
2025-05-11 07:10:41,999 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] (806,)
2025-05-11 07:10:42,001 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:42,001 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:42,001 - sqlalchemy.engine.Engine - INFO - [cached since 0.002624s ago] (807,)
2025-05-11 07:10:42,001 - sqlalchemy.engine.Engine - INFO - [cached since 0.002624s ago] (807,)
2025-05-11 07:10:42,003 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:42,003 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:42,003 - sqlalchemy.engine.Engine - INFO - [cached since 0.004368s ago] (808,)
2025-05-11 07:10:42,003 - sqlalchemy.engine.Engine - INFO - [cached since 0.004368s ago] (808,)
2025-05-11 07:10:42,004 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:42,004 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:42,005 - sqlalchemy.engine.Engine - INFO - [cached since 0.006187s ago] (809,)
2025-05-11 07:10:42,005 - sqlalchemy.engine.Engine - INFO - [cached since 0.006187s ago] (809,)
2025-05-11 07:10:42,007 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:42,007 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:42,007 - sqlalchemy.engine.Engine - INFO - [cached since 0.00828s ago] (810,)
2025-05-11 07:10:42,007 - sqlalchemy.engine.Engine - INFO - [cached since 0.00828s ago] (810,)
2025-05-11 07:10:42,011 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:42,011 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:42,012 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 162, '2025-05-11 07:10:42.011632', '2025-05-11 07:10:42.011638')
2025-05-11 07:10:42,012 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 162, '2025-05-11 07:10:42.011632', '2025-05-11 07:10:42.011638')
2025-05-11 07:10:42,014 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:42,014 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:42,014 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 162, '2025-05-11 07:10:42.011642', '2025-05-11 07:10:42.011645')
2025-05-11 07:10:42,014 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 162, '2025-05-11 07:10:42.011642', '2025-05-11 07:10:42.011645')
2025-05-11 07:10:42,015 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:42,015 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:42,015 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 162, '2025-05-11 07:10:42.011647', '2025-05-11 07:10:42.011650')
2025-05-11 07:10:42,015 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 162, '2025-05-11 07:10:42.011647', '2025-05-11 07:10:42.011650')
2025-05-11 07:10:42,017 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:10:42,017 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:10:42,018 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] [(485, 808), (484, 806), (485, 809), (484, 807), (486, 810)]
2025-05-11 07:10:42,018 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] [(485, 808), (484, 806), (485, 809), (484, 807), (486, 810)]
2025-05-11 07:10:42,019 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:42,019 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:42,024 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:42,024 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:42,025 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:42,025 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:42,025 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] (484,)
2025-05-11 07:10:42,025 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] (484,)
2025-05-11 07:10:42,027 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:42,027 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:42,027 - sqlalchemy.engine.Engine - INFO - [cached since 0.00225s ago] (485,)
2025-05-11 07:10:42,027 - sqlalchemy.engine.Engine - INFO - [cached since 0.00225s ago] (485,)
2025-05-11 07:10:42,028 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:42,028 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:42,028 - sqlalchemy.engine.Engine - INFO - [cached since 0.00379s ago] (486,)
2025-05-11 07:10:42,028 - sqlalchemy.engine.Engine - INFO - [cached since 0.00379s ago] (486,)
2025-05-11 07:10:42,031 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:10:42,031 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:10:42,031 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('9A', 162, 484, '2025-05-11 07:10:42.031233', '2025-05-11 07:10:42.031240')
2025-05-11 07:10:42,031 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('9A', 162, 484, '2025-05-11 07:10:42.031233', '2025-05-11 07:10:42.031240')
2025-05-11 07:10:42,033 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:42,033 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:42,038 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:42,038 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:42,039 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:10:42,039 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:10:42,040 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] (162,)
2025-05-11 07:10:42,040 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] (162,)
2025-05-11 07:10:42,041 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:10:42,041 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:10:42,042 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:10:42,042 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:10:42,162 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:10:42,162 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:10:46,702 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:46,702 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:46,703 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:10:46,703 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:10:46,703 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:46,703 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:46,705 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:10:46,705 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:10:46,705 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:46,705 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:46,706 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:10:46,706 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:10:46,707 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:46,707 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:46,707 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:10:46,707 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:10:46,708 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:46,708 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:46,709 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:10:46,709 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:10:46,709 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:46,709 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:46,709 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:10:46,709 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:10:46,710 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:46,710 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:46,710 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:10:46,710 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:10:46,710 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:46,710 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:46,711 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:10:46,711 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:10:46,711 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:46,711 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:46,712 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:10:46,712 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:10:46,712 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:46,712 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:10:46,713 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:46,713 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:46,713 - fastapi_app - INFO - Database models initialized
2025-05-11 07:10:46,713 - fastapi_app - INFO - Database models initialized
2025-05-11 07:10:46,713 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:10:46,713 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:10:46,735 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:46,735 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:46,736 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:10:46,736 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:10:46,737 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:10:46.736734', '2025-05-11 07:10:46.736740')
2025-05-11 07:10:46,737 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:10:46.736734', '2025-05-11 07:10:46.736740')
2025-05-11 07:10:46,739 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:46,739 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:46,745 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:46,745 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:46,748 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:10:46,748 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:10:46,749 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] (163,)
2025-05-11 07:10:46,749 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] (163,)
2025-05-11 07:10:46,752 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:46,752 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:46,752 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 163, '2025-05-11 07:10:46.751886', '2025-05-11 07:10:46.751892')
2025-05-11 07:10:46,752 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 163, '2025-05-11 07:10:46.751886', '2025-05-11 07:10:46.751892')
2025-05-11 07:10:46,754 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:46,754 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:46,754 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 163, '2025-05-11 07:10:46.751895', '2025-05-11 07:10:46.751897')
2025-05-11 07:10:46,754 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 163, '2025-05-11 07:10:46.751895', '2025-05-11 07:10:46.751897')
2025-05-11 07:10:46,755 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:46,755 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:46,755 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 163, '2025-05-11 07:10:46.751899', '2025-05-11 07:10:46.751902')
2025-05-11 07:10:46,755 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 163, '2025-05-11 07:10:46.751899', '2025-05-11 07:10:46.751902')
2025-05-11 07:10:46,756 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:46,756 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:46,756 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 163, '2025-05-11 07:10:46.751904', '2025-05-11 07:10:46.751907')
2025-05-11 07:10:46,756 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 163, '2025-05-11 07:10:46.751904', '2025-05-11 07:10:46.751907')
2025-05-11 07:10:46,757 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:46,757 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:10:46,757 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 163, '2025-05-11 07:10:46.751909', '2025-05-11 07:10:46.751912')
2025-05-11 07:10:46,757 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 163, '2025-05-11 07:10:46.751909', '2025-05-11 07:10:46.751912')
2025-05-11 07:10:46,758 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:46,758 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:46,763 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:46,763 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:46,764 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:46,764 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:46,764 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] (811,)
2025-05-11 07:10:46,764 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] (811,)
2025-05-11 07:10:46,766 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:46,766 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:46,766 - sqlalchemy.engine.Engine - INFO - [cached since 0.002574s ago] (812,)
2025-05-11 07:10:46,766 - sqlalchemy.engine.Engine - INFO - [cached since 0.002574s ago] (812,)
2025-05-11 07:10:46,768 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:46,768 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:46,768 - sqlalchemy.engine.Engine - INFO - [cached since 0.004474s ago] (813,)
2025-05-11 07:10:46,768 - sqlalchemy.engine.Engine - INFO - [cached since 0.004474s ago] (813,)
2025-05-11 07:10:46,769 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:46,769 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:46,769 - sqlalchemy.engine.Engine - INFO - [cached since 0.005589s ago] (814,)
2025-05-11 07:10:46,769 - sqlalchemy.engine.Engine - INFO - [cached since 0.005589s ago] (814,)
2025-05-11 07:10:46,770 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:46,770 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:10:46,771 - sqlalchemy.engine.Engine - INFO - [cached since 0.006817s ago] (815,)
2025-05-11 07:10:46,771 - sqlalchemy.engine.Engine - INFO - [cached since 0.006817s ago] (815,)
2025-05-11 07:10:46,774 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:46,774 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:46,775 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 163, '2025-05-11 07:10:46.774676', '2025-05-11 07:10:46.774687')
2025-05-11 07:10:46,775 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 163, '2025-05-11 07:10:46.774676', '2025-05-11 07:10:46.774687')
2025-05-11 07:10:46,776 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:46,776 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:46,776 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 163, '2025-05-11 07:10:46.774690', '2025-05-11 07:10:46.774694')
2025-05-11 07:10:46,776 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 163, '2025-05-11 07:10:46.774690', '2025-05-11 07:10:46.774694')
2025-05-11 07:10:46,777 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:46,777 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:10:46,777 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 163, '2025-05-11 07:10:46.774697', '2025-05-11 07:10:46.774699')
2025-05-11 07:10:46,777 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 163, '2025-05-11 07:10:46.774697', '2025-05-11 07:10:46.774699')
2025-05-11 07:10:46,778 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:10:46,778 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:10:46,779 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] [(488, 814), (489, 815), (487, 811), (487, 812), (488, 813)]
2025-05-11 07:10:46,779 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] [(488, 814), (489, 815), (487, 811), (487, 812), (488, 813)]
2025-05-11 07:10:46,780 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:46,780 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:46,785 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:46,785 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:46,787 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:46,787 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:46,787 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (487,)
2025-05-11 07:10:46,787 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (487,)
2025-05-11 07:10:46,789 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:46,789 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:46,790 - sqlalchemy.engine.Engine - INFO - [cached since 0.003158s ago] (488,)
2025-05-11 07:10:46,790 - sqlalchemy.engine.Engine - INFO - [cached since 0.003158s ago] (488,)
2025-05-11 07:10:46,791 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:46,791 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:10:46,791 - sqlalchemy.engine.Engine - INFO - [cached since 0.004738s ago] (489,)
2025-05-11 07:10:46,791 - sqlalchemy.engine.Engine - INFO - [cached since 0.004738s ago] (489,)
2025-05-11 07:10:46,795 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:10:46,795 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:10:46,795 - sqlalchemy.engine.Engine - INFO - [generated in 0.00079s] ('9A', 163, 487, '2025-05-11 07:10:46.795109', '2025-05-11 07:10:46.795120')
2025-05-11 07:10:46,795 - sqlalchemy.engine.Engine - INFO - [generated in 0.00079s] ('9A', 163, 487, '2025-05-11 07:10:46.795109', '2025-05-11 07:10:46.795120')
2025-05-11 07:10:46,797 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:46,797 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:10:46,803 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:46,803 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:10:46,804 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:10:46,804 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:10:46,804 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (163,)
2025-05-11 07:10:46,804 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (163,)
2025-05-11 07:10:46,805 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:10:46,805 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:10:46,806 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:10:46,806 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:10:46,954 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:10:46,954 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:11:49,600 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:49,600 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:49,600 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:11:49,600 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:11:49,601 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:49,601 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:49,603 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:11:49,603 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:11:49,603 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:49,603 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:49,604 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:11:49,604 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:11:49,605 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:49,605 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:49,606 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:11:49,606 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:11:49,607 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:49,607 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:49,607 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:11:49,607 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:11:49,608 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:49,608 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:49,608 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:11:49,608 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:11:49,609 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:49,609 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:49,610 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:11:49,610 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:11:49,611 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:49,611 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:49,612 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:11:49,612 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:11:49,612 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:49,612 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:49,613 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:11:49,613 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:11:49,614 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:49,614 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:49,615 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:11:49,615 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:11:49,615 - fastapi_app - INFO - Database models initialized
2025-05-11 07:11:49,615 - fastapi_app - INFO - Database models initialized
2025-05-11 07:11:49,616 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:11:49,616 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:11:49,636 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:49,636 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:49,637 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:11:49,637 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:11:49,638 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:11:49.637860', '2025-05-11 07:11:49.637867')
2025-05-11 07:11:49,638 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:11:49.637860', '2025-05-11 07:11:49.637867')
2025-05-11 07:11:49,639 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:11:49,639 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:11:49,643 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:49,643 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:49,646 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:11:49,646 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:11:49,646 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (164,)
2025-05-11 07:11:49,646 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (164,)
2025-05-11 07:11:49,649 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:11:49,649 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:11:49,650 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 164, '2025-05-11 07:11:49.649683', '2025-05-11 07:11:49.649689')
2025-05-11 07:11:49,650 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 164, '2025-05-11 07:11:49.649683', '2025-05-11 07:11:49.649689')
2025-05-11 07:11:49,651 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:11:49,651 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:11:49,651 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 164, '2025-05-11 07:11:49.649692', '2025-05-11 07:11:49.649695')
2025-05-11 07:11:49,651 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 164, '2025-05-11 07:11:49.649692', '2025-05-11 07:11:49.649695')
2025-05-11 07:11:49,652 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:11:49,652 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:11:49,652 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 164, '2025-05-11 07:11:49.649698', '2025-05-11 07:11:49.649700')
2025-05-11 07:11:49,652 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 164, '2025-05-11 07:11:49.649698', '2025-05-11 07:11:49.649700')
2025-05-11 07:11:49,652 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:11:49,652 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:11:49,652 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 164, '2025-05-11 07:11:49.649704', '2025-05-11 07:11:49.649707')
2025-05-11 07:11:49,652 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 164, '2025-05-11 07:11:49.649704', '2025-05-11 07:11:49.649707')
2025-05-11 07:11:49,653 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:11:49,653 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:11:49,653 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 164, '2025-05-11 07:11:49.649710', '2025-05-11 07:11:49.649713')
2025-05-11 07:11:49,653 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 164, '2025-05-11 07:11:49.649710', '2025-05-11 07:11:49.649713')
2025-05-11 07:11:49,654 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:11:49,654 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:11:49,658 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:49,658 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:49,659 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:11:49,659 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:11:49,660 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (816,)
2025-05-11 07:11:49,660 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (816,)
2025-05-11 07:11:49,661 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:11:49,661 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:11:49,661 - sqlalchemy.engine.Engine - INFO - [cached since 0.001711s ago] (817,)
2025-05-11 07:11:49,661 - sqlalchemy.engine.Engine - INFO - [cached since 0.001711s ago] (817,)
2025-05-11 07:11:49,663 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:11:49,663 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:11:49,663 - sqlalchemy.engine.Engine - INFO - [cached since 0.003435s ago] (818,)
2025-05-11 07:11:49,663 - sqlalchemy.engine.Engine - INFO - [cached since 0.003435s ago] (818,)
2025-05-11 07:11:49,664 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:11:49,664 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:11:49,664 - sqlalchemy.engine.Engine - INFO - [cached since 0.004856s ago] (819,)
2025-05-11 07:11:49,664 - sqlalchemy.engine.Engine - INFO - [cached since 0.004856s ago] (819,)
2025-05-11 07:11:49,665 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:11:49,665 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:11:49,665 - sqlalchemy.engine.Engine - INFO - [cached since 0.006128s ago] (820,)
2025-05-11 07:11:49,665 - sqlalchemy.engine.Engine - INFO - [cached since 0.006128s ago] (820,)
2025-05-11 07:11:49,668 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:11:49,668 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:11:49,668 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 164, '2025-05-11 07:11:49.668318', '2025-05-11 07:11:49.668324')
2025-05-11 07:11:49,668 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 164, '2025-05-11 07:11:49.668318', '2025-05-11 07:11:49.668324')
2025-05-11 07:11:49,669 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:11:49,669 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:11:49,669 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 164, '2025-05-11 07:11:49.668326', '2025-05-11 07:11:49.668329')
2025-05-11 07:11:49,669 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 164, '2025-05-11 07:11:49.668326', '2025-05-11 07:11:49.668329')
2025-05-11 07:11:49,670 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:11:49,670 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:11:49,670 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 164, '2025-05-11 07:11:49.668332', '2025-05-11 07:11:49.668333')
2025-05-11 07:11:49,670 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 164, '2025-05-11 07:11:49.668332', '2025-05-11 07:11:49.668333')
2025-05-11 07:11:49,671 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:11:49,671 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:11:49,671 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] [(491, 818), (491, 819), (492, 820), (490, 816), (490, 817)]
2025-05-11 07:11:49,671 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] [(491, 818), (491, 819), (492, 820), (490, 816), (490, 817)]
2025-05-11 07:11:49,673 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:11:49,673 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:11:49,677 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:49,677 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:49,678 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:11:49,678 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:11:49,678 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (490,)
2025-05-11 07:11:49,678 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (490,)
2025-05-11 07:11:49,680 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:11:49,680 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:11:49,680 - sqlalchemy.engine.Engine - INFO - [cached since 0.002223s ago] (491,)
2025-05-11 07:11:49,680 - sqlalchemy.engine.Engine - INFO - [cached since 0.002223s ago] (491,)
2025-05-11 07:11:49,681 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:11:49,681 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:11:49,681 - sqlalchemy.engine.Engine - INFO - [cached since 0.003546s ago] (492,)
2025-05-11 07:11:49,681 - sqlalchemy.engine.Engine - INFO - [cached since 0.003546s ago] (492,)
2025-05-11 07:11:49,684 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:11:49,684 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:11:49,684 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('9A', 164, 490, '2025-05-11 07:11:49.683918', '2025-05-11 07:11:49.683925')
2025-05-11 07:11:49,684 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('9A', 164, 490, '2025-05-11 07:11:49.683918', '2025-05-11 07:11:49.683925')
2025-05-11 07:11:49,685 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:11:49,685 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:11:49,689 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:49,689 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:49,690 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:11:49,690 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:11:49,690 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (164,)
2025-05-11 07:11:49,690 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (164,)
2025-05-11 07:11:49,691 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:11:49,691 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:11:49,692 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:11:49,692 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:11:49,801 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:11:49,801 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:11:54,865 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:54,865 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:54,865 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:11:54,865 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:11:54,865 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:54,865 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:54,867 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:11:54,867 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:11:54,867 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:54,867 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:54,868 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:11:54,868 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:11:54,868 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:54,868 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:54,869 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:11:54,869 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:11:54,869 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:54,869 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:54,870 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:11:54,870 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:11:54,870 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:54,870 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:54,871 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:11:54,871 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:11:54,871 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:54,871 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:54,872 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:11:54,872 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:11:54,872 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:54,872 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:54,872 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:11:54,872 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:11:54,873 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:54,873 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:54,873 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:11:54,873 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:11:54,873 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:54,873 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:11:54,874 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:11:54,874 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:11:54,875 - fastapi_app - INFO - Database models initialized
2025-05-11 07:11:54,875 - fastapi_app - INFO - Database models initialized
2025-05-11 07:11:54,875 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:11:54,875 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:11:54,899 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:54,899 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:54,901 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:11:54,901 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:11:54,901 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:11:54.901087', '2025-05-11 07:11:54.901093')
2025-05-11 07:11:54,901 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:11:54.901087', '2025-05-11 07:11:54.901093')
2025-05-11 07:11:54,902 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:11:54,902 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:11:54,907 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:54,907 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:54,910 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:11:54,910 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:11:54,910 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] (165,)
2025-05-11 07:11:54,910 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] (165,)
2025-05-11 07:11:54,913 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:11:54,913 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:11:54,913 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 165, '2025-05-11 07:11:54.913416', '2025-05-11 07:11:54.913421')
2025-05-11 07:11:54,913 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 165, '2025-05-11 07:11:54.913416', '2025-05-11 07:11:54.913421')
2025-05-11 07:11:54,914 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:11:54,914 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:11:54,914 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 165, '2025-05-11 07:11:54.913425', '2025-05-11 07:11:54.913428')
2025-05-11 07:11:54,914 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 165, '2025-05-11 07:11:54.913425', '2025-05-11 07:11:54.913428')
2025-05-11 07:11:54,915 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:11:54,915 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:11:54,915 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 165, '2025-05-11 07:11:54.913431', '2025-05-11 07:11:54.913434')
2025-05-11 07:11:54,915 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 165, '2025-05-11 07:11:54.913431', '2025-05-11 07:11:54.913434')
2025-05-11 07:11:54,916 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:11:54,916 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:11:54,916 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 165, '2025-05-11 07:11:54.913438', '2025-05-11 07:11:54.913440')
2025-05-11 07:11:54,916 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 165, '2025-05-11 07:11:54.913438', '2025-05-11 07:11:54.913440')
2025-05-11 07:11:54,916 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:11:54,916 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:11:54,916 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 165, '2025-05-11 07:11:54.913443', '2025-05-11 07:11:54.913446')
2025-05-11 07:11:54,916 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 165, '2025-05-11 07:11:54.913443', '2025-05-11 07:11:54.913446')
2025-05-11 07:11:54,917 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:11:54,917 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:11:54,921 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:54,921 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:54,922 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:11:54,922 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:11:54,922 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (821,)
2025-05-11 07:11:54,922 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (821,)
2025-05-11 07:11:54,924 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:11:54,924 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:11:54,924 - sqlalchemy.engine.Engine - INFO - [cached since 0.001556s ago] (822,)
2025-05-11 07:11:54,924 - sqlalchemy.engine.Engine - INFO - [cached since 0.001556s ago] (822,)
2025-05-11 07:11:54,925 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:11:54,925 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:11:54,925 - sqlalchemy.engine.Engine - INFO - [cached since 0.002737s ago] (823,)
2025-05-11 07:11:54,925 - sqlalchemy.engine.Engine - INFO - [cached since 0.002737s ago] (823,)
2025-05-11 07:11:54,926 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:11:54,926 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:11:54,926 - sqlalchemy.engine.Engine - INFO - [cached since 0.003825s ago] (824,)
2025-05-11 07:11:54,926 - sqlalchemy.engine.Engine - INFO - [cached since 0.003825s ago] (824,)
2025-05-11 07:11:54,927 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:11:54,927 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:11:54,927 - sqlalchemy.engine.Engine - INFO - [cached since 0.004912s ago] (825,)
2025-05-11 07:11:54,927 - sqlalchemy.engine.Engine - INFO - [cached since 0.004912s ago] (825,)
2025-05-11 07:11:54,930 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:11:54,930 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:11:54,930 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 165, '2025-05-11 07:11:54.930227', '2025-05-11 07:11:54.930231')
2025-05-11 07:11:54,930 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 165, '2025-05-11 07:11:54.930227', '2025-05-11 07:11:54.930231')
2025-05-11 07:11:54,931 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:11:54,931 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:11:54,931 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 165, '2025-05-11 07:11:54.930233', '2025-05-11 07:11:54.930235')
2025-05-11 07:11:54,931 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 165, '2025-05-11 07:11:54.930233', '2025-05-11 07:11:54.930235')
2025-05-11 07:11:54,932 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:11:54,932 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:11:54,932 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 165, '2025-05-11 07:11:54.930238', '2025-05-11 07:11:54.930240')
2025-05-11 07:11:54,932 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 165, '2025-05-11 07:11:54.930238', '2025-05-11 07:11:54.930240')
2025-05-11 07:11:54,933 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:11:54,933 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:11:54,933 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] [(493, 821), (494, 823), (494, 824), (495, 825), (493, 822)]
2025-05-11 07:11:54,933 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] [(493, 821), (494, 823), (494, 824), (495, 825), (493, 822)]
2025-05-11 07:11:54,934 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:11:54,934 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:11:54,939 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:54,939 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:54,940 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:11:54,940 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:11:54,940 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (493,)
2025-05-11 07:11:54,940 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (493,)
2025-05-11 07:11:54,942 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:11:54,942 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:11:54,942 - sqlalchemy.engine.Engine - INFO - [cached since 0.002s ago] (494,)
2025-05-11 07:11:54,942 - sqlalchemy.engine.Engine - INFO - [cached since 0.002s ago] (494,)
2025-05-11 07:11:54,943 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:11:54,943 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:11:54,943 - sqlalchemy.engine.Engine - INFO - [cached since 0.003454s ago] (495,)
2025-05-11 07:11:54,943 - sqlalchemy.engine.Engine - INFO - [cached since 0.003454s ago] (495,)
2025-05-11 07:11:54,945 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:11:54,945 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:11:54,945 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('9A', 165, 493, '2025-05-11 07:11:54.945371', '2025-05-11 07:11:54.945376')
2025-05-11 07:11:54,945 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('9A', 165, 493, '2025-05-11 07:11:54.945371', '2025-05-11 07:11:54.945376')
2025-05-11 07:11:54,946 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:11:54,946 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:11:54,951 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:54,951 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:11:54,952 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:11:54,952 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:11:54,952 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] (165,)
2025-05-11 07:11:54,952 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] (165,)
2025-05-11 07:11:54,953 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:11:54,953 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:11:54,953 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:11:54,953 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:11:55,068 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:11:55,068 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:12:30,679 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:12:30,679 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:12:30,679 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:12:30,679 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:12:30,680 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:12:30,680 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:12:30,681 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:12:30,681 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:12:30,682 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:12:30,682 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:12:30,682 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:12:30,682 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:12:30,683 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:12:30,683 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:12:30,684 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:12:30,684 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:12:30,684 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:12:30,684 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:12:30,684 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:12:30,684 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:12:30,685 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:12:30,685 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:12:30,686 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:12:30,686 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:12:30,686 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:12:30,686 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:12:30,686 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:12:30,686 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:12:30,686 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:12:30,686 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:12:30,687 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:12:30,687 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:12:30,688 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:12:30,688 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:12:30,688 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:12:30,688 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:12:30,688 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:12:30,688 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:12:30,690 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:12:30,690 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:12:30,690 - fastapi_app - INFO - Database models initialized
2025-05-11 07:12:30,690 - fastapi_app - INFO - Database models initialized
2025-05-11 07:12:30,690 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:12:30,690 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:12:30,708 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:12:30,708 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:12:30,709 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:12:30,709 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:12:30,709 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:12:30.709496', '2025-05-11 07:12:30.709501')
2025-05-11 07:12:30,709 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:12:30.709496', '2025-05-11 07:12:30.709501')
2025-05-11 07:12:30,711 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:12:30,711 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:12:30,717 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:12:30,717 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:12:30,720 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:12:30,720 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:12:30,720 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] (166,)
2025-05-11 07:12:30,720 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] (166,)
2025-05-11 07:12:30,723 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:12:30,723 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:12:30,723 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 166, '2025-05-11 07:12:30.723166', '2025-05-11 07:12:30.723171')
2025-05-11 07:12:30,723 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 166, '2025-05-11 07:12:30.723166', '2025-05-11 07:12:30.723171')
2025-05-11 07:12:30,724 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:12:30,724 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:12:30,724 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 166, '2025-05-11 07:12:30.723174', '2025-05-11 07:12:30.723176')
2025-05-11 07:12:30,724 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 166, '2025-05-11 07:12:30.723174', '2025-05-11 07:12:30.723176')
2025-05-11 07:12:30,725 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:12:30,725 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:12:30,725 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 166, '2025-05-11 07:12:30.723179', '2025-05-11 07:12:30.723181')
2025-05-11 07:12:30,725 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 166, '2025-05-11 07:12:30.723179', '2025-05-11 07:12:30.723181')
2025-05-11 07:12:30,725 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:12:30,725 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:12:30,725 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 166, '2025-05-11 07:12:30.723184', '2025-05-11 07:12:30.723186')
2025-05-11 07:12:30,725 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 166, '2025-05-11 07:12:30.723184', '2025-05-11 07:12:30.723186')
2025-05-11 07:12:30,726 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:12:30,726 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:12:30,726 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 166, '2025-05-11 07:12:30.723188', '2025-05-11 07:12:30.723189')
2025-05-11 07:12:30,726 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 166, '2025-05-11 07:12:30.723188', '2025-05-11 07:12:30.723189')
2025-05-11 07:12:30,727 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:12:30,727 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:12:30,731 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:12:30,731 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:12:30,732 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:12:30,732 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:12:30,733 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (826,)
2025-05-11 07:12:30,733 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (826,)
2025-05-11 07:12:30,734 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:12:30,734 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:12:30,734 - sqlalchemy.engine.Engine - INFO - [cached since 0.00204s ago] (827,)
2025-05-11 07:12:30,734 - sqlalchemy.engine.Engine - INFO - [cached since 0.00204s ago] (827,)
2025-05-11 07:12:30,735 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:12:30,735 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:12:30,736 - sqlalchemy.engine.Engine - INFO - [cached since 0.003364s ago] (828,)
2025-05-11 07:12:30,736 - sqlalchemy.engine.Engine - INFO - [cached since 0.003364s ago] (828,)
2025-05-11 07:12:30,737 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:12:30,737 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:12:30,737 - sqlalchemy.engine.Engine - INFO - [cached since 0.004549s ago] (829,)
2025-05-11 07:12:30,737 - sqlalchemy.engine.Engine - INFO - [cached since 0.004549s ago] (829,)
2025-05-11 07:12:30,738 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:12:30,738 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:12:30,738 - sqlalchemy.engine.Engine - INFO - [cached since 0.005759s ago] (830,)
2025-05-11 07:12:30,738 - sqlalchemy.engine.Engine - INFO - [cached since 0.005759s ago] (830,)
2025-05-11 07:12:30,740 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:12:30,740 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:12:30,740 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 166, '2025-05-11 07:12:30.740630', '2025-05-11 07:12:30.740634')
2025-05-11 07:12:30,740 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 166, '2025-05-11 07:12:30.740630', '2025-05-11 07:12:30.740634')
2025-05-11 07:12:30,741 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:12:30,741 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:12:30,742 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 166, '2025-05-11 07:12:30.740637', '2025-05-11 07:12:30.740639')
2025-05-11 07:12:30,742 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 166, '2025-05-11 07:12:30.740637', '2025-05-11 07:12:30.740639')
2025-05-11 07:12:30,742 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:12:30,742 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:12:30,742 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 166, '2025-05-11 07:12:30.740642', '2025-05-11 07:12:30.740645')
2025-05-11 07:12:30,742 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 166, '2025-05-11 07:12:30.740642', '2025-05-11 07:12:30.740645')
2025-05-11 07:12:30,743 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:12:30,743 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:12:30,743 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] [(498, 830), (497, 828), (496, 827), (496, 826), (497, 829)]
2025-05-11 07:12:30,743 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] [(498, 830), (497, 828), (496, 827), (496, 826), (497, 829)]
2025-05-11 07:12:30,744 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:12:30,744 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:12:30,749 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:12:30,749 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:12:30,749 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:12:30,749 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:12:30,750 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (496,)
2025-05-11 07:12:30,750 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (496,)
2025-05-11 07:12:30,751 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:12:30,751 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:12:30,751 - sqlalchemy.engine.Engine - INFO - [cached since 0.001733s ago] (497,)
2025-05-11 07:12:30,751 - sqlalchemy.engine.Engine - INFO - [cached since 0.001733s ago] (497,)
2025-05-11 07:12:30,752 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:12:30,752 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:12:30,752 - sqlalchemy.engine.Engine - INFO - [cached since 0.003037s ago] (498,)
2025-05-11 07:12:30,752 - sqlalchemy.engine.Engine - INFO - [cached since 0.003037s ago] (498,)
2025-05-11 07:12:30,754 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:12:30,754 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:12:30,755 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('9A', 166, 496, '2025-05-11 07:12:30.754841', '2025-05-11 07:12:30.754846')
2025-05-11 07:12:30,755 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('9A', 166, 496, '2025-05-11 07:12:30.754841', '2025-05-11 07:12:30.754846')
2025-05-11 07:12:30,756 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:12:30,756 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:12:30,760 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:12:30,760 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:12:30,761 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:12:30,761 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:12:30,762 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (166,)
2025-05-11 07:12:30,762 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (166,)
2025-05-11 07:12:30,762 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:12:30,762 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:12:30,763 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:12:30,763 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:12:30,867 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:12:30,867 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:13:01,581 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:01,581 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:01,582 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:13:01,582 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:13:01,582 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:01,582 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:01,583 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:13:01,583 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:13:01,584 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:01,584 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:01,585 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:13:01,585 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:13:01,585 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:01,585 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:01,586 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:13:01,586 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:13:01,586 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:01,586 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:01,587 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:13:01,587 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:13:01,587 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:01,587 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:01,587 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:13:01,587 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:13:01,588 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:01,588 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:01,588 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:13:01,588 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:13:01,589 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:01,589 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:01,589 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:13:01,589 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:13:01,590 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:01,590 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:01,590 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:13:01,590 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:13:01,590 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:01,590 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:01,591 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:01,591 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:01,592 - fastapi_app - INFO - Database models initialized
2025-05-11 07:13:01,592 - fastapi_app - INFO - Database models initialized
2025-05-11 07:13:01,592 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:13:01,592 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:13:01,614 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:01,614 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:01,615 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:13:01,615 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:13:01,616 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:13:01.615824', '2025-05-11 07:13:01.615831')
2025-05-11 07:13:01,616 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:13:01.615824', '2025-05-11 07:13:01.615831')
2025-05-11 07:13:01,617 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:01,617 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:01,624 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:01,624 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:01,626 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:13:01,626 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:13:01,627 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] (167,)
2025-05-11 07:13:01,627 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] (167,)
2025-05-11 07:13:01,630 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:01,630 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:01,630 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 167, '2025-05-11 07:13:01.629937', '2025-05-11 07:13:01.629943')
2025-05-11 07:13:01,630 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 167, '2025-05-11 07:13:01.629937', '2025-05-11 07:13:01.629943')
2025-05-11 07:13:01,631 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:01,631 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:01,632 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 167, '2025-05-11 07:13:01.629946', '2025-05-11 07:13:01.629950')
2025-05-11 07:13:01,632 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 167, '2025-05-11 07:13:01.629946', '2025-05-11 07:13:01.629950')
2025-05-11 07:13:01,632 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:01,632 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:01,633 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 167, '2025-05-11 07:13:01.629953', '2025-05-11 07:13:01.629955')
2025-05-11 07:13:01,633 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 167, '2025-05-11 07:13:01.629953', '2025-05-11 07:13:01.629955')
2025-05-11 07:13:01,633 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:01,633 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:01,633 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 167, '2025-05-11 07:13:01.629959', '2025-05-11 07:13:01.629961')
2025-05-11 07:13:01,633 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 167, '2025-05-11 07:13:01.629959', '2025-05-11 07:13:01.629961')
2025-05-11 07:13:01,634 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:01,634 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:01,634 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 167, '2025-05-11 07:13:01.629963', '2025-05-11 07:13:01.629966')
2025-05-11 07:13:01,634 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 167, '2025-05-11 07:13:01.629963', '2025-05-11 07:13:01.629966')
2025-05-11 07:13:01,635 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:01,635 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:01,639 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:01,639 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:01,640 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:01,640 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:01,640 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (831,)
2025-05-11 07:13:01,640 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (831,)
2025-05-11 07:13:01,641 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:01,641 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:01,641 - sqlalchemy.engine.Engine - INFO - [cached since 0.001634s ago] (832,)
2025-05-11 07:13:01,641 - sqlalchemy.engine.Engine - INFO - [cached since 0.001634s ago] (832,)
2025-05-11 07:13:01,643 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:01,643 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:01,643 - sqlalchemy.engine.Engine - INFO - [cached since 0.002992s ago] (833,)
2025-05-11 07:13:01,643 - sqlalchemy.engine.Engine - INFO - [cached since 0.002992s ago] (833,)
2025-05-11 07:13:01,644 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:01,644 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:01,644 - sqlalchemy.engine.Engine - INFO - [cached since 0.004735s ago] (834,)
2025-05-11 07:13:01,644 - sqlalchemy.engine.Engine - INFO - [cached since 0.004735s ago] (834,)
2025-05-11 07:13:01,646 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:01,646 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:01,646 - sqlalchemy.engine.Engine - INFO - [cached since 0.006585s ago] (835,)
2025-05-11 07:13:01,646 - sqlalchemy.engine.Engine - INFO - [cached since 0.006585s ago] (835,)
2025-05-11 07:13:01,649 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:13:01,649 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:13:01,649 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 167, '2025-05-11 07:13:01.649102', '2025-05-11 07:13:01.649107')
2025-05-11 07:13:01,649 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 167, '2025-05-11 07:13:01.649102', '2025-05-11 07:13:01.649107')
2025-05-11 07:13:01,650 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:13:01,650 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:13:01,650 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 167, '2025-05-11 07:13:01.649109', '2025-05-11 07:13:01.649112')
2025-05-11 07:13:01,650 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 167, '2025-05-11 07:13:01.649109', '2025-05-11 07:13:01.649112')
2025-05-11 07:13:01,651 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:13:01,651 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:13:01,651 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 167, '2025-05-11 07:13:01.649114', '2025-05-11 07:13:01.649116')
2025-05-11 07:13:01,651 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 167, '2025-05-11 07:13:01.649114', '2025-05-11 07:13:01.649116')
2025-05-11 07:13:01,652 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:13:01,652 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:13:01,652 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] [(500, 834), (501, 835), (499, 831), (499, 832), (500, 833)]
2025-05-11 07:13:01,652 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] [(500, 834), (501, 835), (499, 831), (499, 832), (500, 833)]
2025-05-11 07:13:01,653 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:01,653 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:01,657 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:01,657 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:01,658 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:13:01,658 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:13:01,659 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] (499,)
2025-05-11 07:13:01,659 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] (499,)
2025-05-11 07:13:01,660 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:13:01,660 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:13:01,661 - sqlalchemy.engine.Engine - INFO - [cached since 0.00235s ago] (500,)
2025-05-11 07:13:01,661 - sqlalchemy.engine.Engine - INFO - [cached since 0.00235s ago] (500,)
2025-05-11 07:13:01,662 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:13:01,662 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:13:01,662 - sqlalchemy.engine.Engine - INFO - [cached since 0.003788s ago] (501,)
2025-05-11 07:13:01,662 - sqlalchemy.engine.Engine - INFO - [cached since 0.003788s ago] (501,)
2025-05-11 07:13:01,664 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:13:01,664 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:13:01,664 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('9A', 167, 499, '2025-05-11 07:13:01.664601', '2025-05-11 07:13:01.664607')
2025-05-11 07:13:01,664 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('9A', 167, 499, '2025-05-11 07:13:01.664601', '2025-05-11 07:13:01.664607')
2025-05-11 07:13:01,666 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:01,666 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:01,670 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:01,670 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:01,671 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:13:01,671 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:13:01,671 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (167,)
2025-05-11 07:13:01,671 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (167,)
2025-05-11 07:13:01,672 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:13:01,672 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:13:01,672 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:13:01,672 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:13:01,788 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:13:01,788 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:13:03,812 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:03,812 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:03,813 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:13:03,813 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:13:03,813 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:03,813 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:03,814 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:13:03,814 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:13:03,814 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:03,814 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:03,815 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:13:03,815 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:13:03,815 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:03,815 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:03,816 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:13:03,816 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:13:03,817 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:03,817 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:03,818 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:13:03,818 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:13:03,819 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:03,819 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:03,820 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:13:03,820 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:13:03,820 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:03,820 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:03,821 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:13:03,821 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:13:03,821 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:03,821 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:03,822 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:13:03,822 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:13:03,823 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:03,823 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:03,823 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:13:03,823 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:13:03,824 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:03,824 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:03,825 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:03,825 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:03,826 - fastapi_app - INFO - Database models initialized
2025-05-11 07:13:03,826 - fastapi_app - INFO - Database models initialized
2025-05-11 07:13:03,826 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:13:03,826 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:13:03,860 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:03,860 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:03,862 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:13:03,862 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:13:03,863 - sqlalchemy.engine.Engine - INFO - [generated in 0.00068s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:13:03.862806', '2025-05-11 07:13:03.862813')
2025-05-11 07:13:03,863 - sqlalchemy.engine.Engine - INFO - [generated in 0.00068s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:13:03.862806', '2025-05-11 07:13:03.862813')
2025-05-11 07:13:03,865 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:03,865 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:03,872 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:03,872 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:03,876 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:13:03,876 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:13:03,876 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] (168,)
2025-05-11 07:13:03,876 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] (168,)
2025-05-11 07:13:03,881 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:03,881 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:03,881 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 168, '2025-05-11 07:13:03.881328', '2025-05-11 07:13:03.881334')
2025-05-11 07:13:03,881 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 168, '2025-05-11 07:13:03.881328', '2025-05-11 07:13:03.881334')
2025-05-11 07:13:03,883 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:03,883 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:03,883 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 168, '2025-05-11 07:13:03.881337', '2025-05-11 07:13:03.881340')
2025-05-11 07:13:03,883 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 168, '2025-05-11 07:13:03.881337', '2025-05-11 07:13:03.881340')
2025-05-11 07:13:03,884 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:03,884 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:03,884 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 168, '2025-05-11 07:13:03.881342', '2025-05-11 07:13:03.881345')
2025-05-11 07:13:03,884 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 168, '2025-05-11 07:13:03.881342', '2025-05-11 07:13:03.881345')
2025-05-11 07:13:03,885 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:03,885 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:03,885 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 168, '2025-05-11 07:13:03.881348', '2025-05-11 07:13:03.881350')
2025-05-11 07:13:03,885 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 168, '2025-05-11 07:13:03.881348', '2025-05-11 07:13:03.881350')
2025-05-11 07:13:03,886 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:03,886 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:03,886 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 168, '2025-05-11 07:13:03.881353', '2025-05-11 07:13:03.881356')
2025-05-11 07:13:03,886 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 168, '2025-05-11 07:13:03.881353', '2025-05-11 07:13:03.881356')
2025-05-11 07:13:03,888 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:03,888 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:03,893 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:03,893 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:03,894 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:03,894 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:03,894 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (836,)
2025-05-11 07:13:03,894 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (836,)
2025-05-11 07:13:03,896 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:03,896 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:03,897 - sqlalchemy.engine.Engine - INFO - [cached since 0.002592s ago] (837,)
2025-05-11 07:13:03,897 - sqlalchemy.engine.Engine - INFO - [cached since 0.002592s ago] (837,)
2025-05-11 07:13:03,899 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:03,899 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:03,899 - sqlalchemy.engine.Engine - INFO - [cached since 0.004828s ago] (838,)
2025-05-11 07:13:03,899 - sqlalchemy.engine.Engine - INFO - [cached since 0.004828s ago] (838,)
2025-05-11 07:13:03,901 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:03,901 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:03,901 - sqlalchemy.engine.Engine - INFO - [cached since 0.006712s ago] (839,)
2025-05-11 07:13:03,901 - sqlalchemy.engine.Engine - INFO - [cached since 0.006712s ago] (839,)
2025-05-11 07:13:03,904 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:03,904 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:03,904 - sqlalchemy.engine.Engine - INFO - [cached since 0.009728s ago] (840,)
2025-05-11 07:13:03,904 - sqlalchemy.engine.Engine - INFO - [cached since 0.009728s ago] (840,)
2025-05-11 07:13:03,907 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:13:03,907 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:13:03,907 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 168, '2025-05-11 07:13:03.907552', '2025-05-11 07:13:03.907558')
2025-05-11 07:13:03,907 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 168, '2025-05-11 07:13:03.907552', '2025-05-11 07:13:03.907558')
2025-05-11 07:13:03,908 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:13:03,908 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:13:03,909 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 168, '2025-05-11 07:13:03.907560', '2025-05-11 07:13:03.907563')
2025-05-11 07:13:03,909 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 168, '2025-05-11 07:13:03.907560', '2025-05-11 07:13:03.907563')
2025-05-11 07:13:03,909 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:13:03,909 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:13:03,909 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 168, '2025-05-11 07:13:03.907565', '2025-05-11 07:13:03.907567')
2025-05-11 07:13:03,909 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 168, '2025-05-11 07:13:03.907565', '2025-05-11 07:13:03.907567')
2025-05-11 07:13:03,911 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:13:03,911 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:13:03,911 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] [(503, 838), (503, 839), (502, 836), (504, 840), (502, 837)]
2025-05-11 07:13:03,911 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] [(503, 838), (503, 839), (502, 836), (504, 840), (502, 837)]
2025-05-11 07:13:03,912 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:03,912 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:03,918 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:03,918 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:03,919 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:13:03,919 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:13:03,919 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (502,)
2025-05-11 07:13:03,919 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (502,)
2025-05-11 07:13:03,920 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:13:03,920 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:13:03,920 - sqlalchemy.engine.Engine - INFO - [cached since 0.00163s ago] (503,)
2025-05-11 07:13:03,920 - sqlalchemy.engine.Engine - INFO - [cached since 0.00163s ago] (503,)
2025-05-11 07:13:03,921 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:13:03,921 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:13:03,921 - sqlalchemy.engine.Engine - INFO - [cached since 0.002822s ago] (504,)
2025-05-11 07:13:03,921 - sqlalchemy.engine.Engine - INFO - [cached since 0.002822s ago] (504,)
2025-05-11 07:13:03,923 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:13:03,923 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:13:03,923 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('9A', 168, 502, '2025-05-11 07:13:03.923446', '2025-05-11 07:13:03.923451')
2025-05-11 07:13:03,923 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('9A', 168, 502, '2025-05-11 07:13:03.923446', '2025-05-11 07:13:03.923451')
2025-05-11 07:13:03,924 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:03,924 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:03,928 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:03,928 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:03,929 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:13:03,929 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:13:03,929 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (168,)
2025-05-11 07:13:03,929 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (168,)
2025-05-11 07:13:03,930 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:13:03,930 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:13:03,930 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:13:03,930 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:13:04,032 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:13:04,032 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:13:14,952 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:14,952 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:14,952 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:13:14,952 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:13:14,952 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:14,952 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:14,953 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:13:14,953 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:13:14,953 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:14,953 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:14,954 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:13:14,954 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:13:14,955 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:14,955 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:14,955 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:13:14,955 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:13:14,956 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:14,956 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:14,956 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:13:14,956 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:13:14,956 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:14,956 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:14,957 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:13:14,957 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:13:14,957 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:14,957 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:14,957 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:13:14,957 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:13:14,958 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:14,958 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:14,958 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:13:14,958 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:13:14,958 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:14,958 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:14,959 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:13:14,959 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:13:14,959 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:14,959 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:13:14,960 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:14,960 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:14,960 - fastapi_app - INFO - Database models initialized
2025-05-11 07:13:14,960 - fastapi_app - INFO - Database models initialized
2025-05-11 07:13:14,960 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:13:14,960 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:13:14,980 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:14,980 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:14,982 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:13:14,982 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:13:14,982 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:13:14.981928', '2025-05-11 07:13:14.981935')
2025-05-11 07:13:14,982 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:13:14.981928', '2025-05-11 07:13:14.981935')
2025-05-11 07:13:14,983 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:14,983 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:14,989 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:14,989 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:14,991 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:13:14,991 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:13:14,992 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] (169,)
2025-05-11 07:13:14,992 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] (169,)
2025-05-11 07:13:14,994 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:14,994 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:14,994 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 169, '2025-05-11 07:13:14.994267', '2025-05-11 07:13:14.994271')
2025-05-11 07:13:14,994 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 169, '2025-05-11 07:13:14.994267', '2025-05-11 07:13:14.994271')
2025-05-11 07:13:14,995 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:14,995 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:14,995 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 169, '2025-05-11 07:13:14.994273', '2025-05-11 07:13:14.994276')
2025-05-11 07:13:14,995 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 169, '2025-05-11 07:13:14.994273', '2025-05-11 07:13:14.994276')
2025-05-11 07:13:14,996 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:14,996 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:14,996 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 169, '2025-05-11 07:13:14.994279', '2025-05-11 07:13:14.994281')
2025-05-11 07:13:14,996 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 169, '2025-05-11 07:13:14.994279', '2025-05-11 07:13:14.994281')
2025-05-11 07:13:14,997 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:14,997 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:14,997 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 169, '2025-05-11 07:13:14.994283', '2025-05-11 07:13:14.994286')
2025-05-11 07:13:14,997 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 169, '2025-05-11 07:13:14.994283', '2025-05-11 07:13:14.994286')
2025-05-11 07:13:14,997 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:14,997 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:13:14,998 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 169, '2025-05-11 07:13:14.994288', '2025-05-11 07:13:14.994291')
2025-05-11 07:13:14,998 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 169, '2025-05-11 07:13:14.994288', '2025-05-11 07:13:14.994291')
2025-05-11 07:13:14,999 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:14,999 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:15,003 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:15,003 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:15,004 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:15,004 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:15,004 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (841,)
2025-05-11 07:13:15,004 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (841,)
2025-05-11 07:13:15,005 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:15,005 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:15,005 - sqlalchemy.engine.Engine - INFO - [cached since 0.001666s ago] (842,)
2025-05-11 07:13:15,005 - sqlalchemy.engine.Engine - INFO - [cached since 0.001666s ago] (842,)
2025-05-11 07:13:15,007 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:15,007 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:15,007 - sqlalchemy.engine.Engine - INFO - [cached since 0.002984s ago] (843,)
2025-05-11 07:13:15,007 - sqlalchemy.engine.Engine - INFO - [cached since 0.002984s ago] (843,)
2025-05-11 07:13:15,008 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:15,008 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:15,008 - sqlalchemy.engine.Engine - INFO - [cached since 0.004105s ago] (844,)
2025-05-11 07:13:15,008 - sqlalchemy.engine.Engine - INFO - [cached since 0.004105s ago] (844,)
2025-05-11 07:13:15,009 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:15,009 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:13:15,009 - sqlalchemy.engine.Engine - INFO - [cached since 0.005184s ago] (845,)
2025-05-11 07:13:15,009 - sqlalchemy.engine.Engine - INFO - [cached since 0.005184s ago] (845,)
2025-05-11 07:13:15,011 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:13:15,011 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:13:15,011 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 169, '2025-05-11 07:13:15.011524', '2025-05-11 07:13:15.011529')
2025-05-11 07:13:15,011 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 169, '2025-05-11 07:13:15.011524', '2025-05-11 07:13:15.011529')
2025-05-11 07:13:15,012 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:13:15,012 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:13:15,013 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 169, '2025-05-11 07:13:15.011532', '2025-05-11 07:13:15.011533')
2025-05-11 07:13:15,013 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 169, '2025-05-11 07:13:15.011532', '2025-05-11 07:13:15.011533')
2025-05-11 07:13:15,014 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:13:15,014 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:13:15,014 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 169, '2025-05-11 07:13:15.011536', '2025-05-11 07:13:15.011538')
2025-05-11 07:13:15,014 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 169, '2025-05-11 07:13:15.011536', '2025-05-11 07:13:15.011538')
2025-05-11 07:13:15,015 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:13:15,015 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:13:15,015 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] [(505, 842), (506, 843), (506, 844), (505, 841), (507, 845)]
2025-05-11 07:13:15,015 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] [(505, 842), (506, 843), (506, 844), (505, 841), (507, 845)]
2025-05-11 07:13:15,016 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:15,016 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:15,020 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:15,020 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:15,020 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:13:15,020 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:13:15,021 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (505,)
2025-05-11 07:13:15,021 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (505,)
2025-05-11 07:13:15,022 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:13:15,022 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:13:15,022 - sqlalchemy.engine.Engine - INFO - [cached since 0.001802s ago] (506,)
2025-05-11 07:13:15,022 - sqlalchemy.engine.Engine - INFO - [cached since 0.001802s ago] (506,)
2025-05-11 07:13:15,024 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:13:15,024 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:13:15,024 - sqlalchemy.engine.Engine - INFO - [cached since 0.003612s ago] (507,)
2025-05-11 07:13:15,024 - sqlalchemy.engine.Engine - INFO - [cached since 0.003612s ago] (507,)
2025-05-11 07:13:15,026 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:13:15,026 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:13:15,026 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('9A', 169, 505, '2025-05-11 07:13:15.026192', '2025-05-11 07:13:15.026196')
2025-05-11 07:13:15,026 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('9A', 169, 505, '2025-05-11 07:13:15.026192', '2025-05-11 07:13:15.026196')
2025-05-11 07:13:15,027 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:15,027 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:13:15,031 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:15,031 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:15,032 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:13:15,032 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:13:15,032 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (169,)
2025-05-11 07:13:15,032 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (169,)
2025-05-11 07:13:15,033 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:13:15,033 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:13:15,033 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:13:15,033 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:13:15,149 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:13:15,149 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:13:21,742 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:21,742 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:21,756 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 07:13:21,756 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 07:13:21,756 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] (896700645,)
2025-05-11 07:13:21,756 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] (896700645,)
2025-05-11 07:13:21,758 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:13:21,758 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:13:23,784 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:23,784 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:13:23,785 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 07:13:23,785 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 07:13:23,785 - sqlalchemy.engine.Engine - INFO - [cached since 2.03s ago] (896700645,)
2025-05-11 07:13:23,785 - sqlalchemy.engine.Engine - INFO - [cached since 2.03s ago] (896700645,)
2025-05-11 07:13:23,788 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:13:23,788 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:14:26,898 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:26,898 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:26,899 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:14:26,899 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:14:26,899 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:26,899 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:26,900 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:14:26,900 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:14:26,900 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:26,900 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:26,901 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:14:26,901 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:14:26,901 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:26,901 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:26,902 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:14:26,902 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:14:26,902 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:26,902 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:26,902 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:14:26,902 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:14:26,903 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:26,903 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:26,903 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:14:26,903 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:14:26,903 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:26,903 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:26,904 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:14:26,904 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:14:26,904 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:26,904 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:26,905 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:14:26,905 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:14:26,905 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:26,905 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:26,905 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:14:26,905 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:14:26,906 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:26,906 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:26,907 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:26,907 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:26,907 - fastapi_app - INFO - Database models initialized
2025-05-11 07:14:26,907 - fastapi_app - INFO - Database models initialized
2025-05-11 07:14:26,907 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:14:26,907 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:14:26,930 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:26,930 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:26,932 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:14:26,932 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:14:26,932 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:14:26.932585', '2025-05-11 07:14:26.932590')
2025-05-11 07:14:26,932 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:14:26.932585', '2025-05-11 07:14:26.932590')
2025-05-11 07:14:26,934 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:26,934 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:26,938 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:26,938 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:26,940 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:14:26,940 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:14:26,940 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (170,)
2025-05-11 07:14:26,940 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (170,)
2025-05-11 07:14:26,943 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:26,943 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:26,943 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 170, '2025-05-11 07:14:26.943190', '2025-05-11 07:14:26.943196')
2025-05-11 07:14:26,943 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 170, '2025-05-11 07:14:26.943190', '2025-05-11 07:14:26.943196')
2025-05-11 07:14:26,944 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:26,944 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:26,944 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 170, '2025-05-11 07:14:26.943199', '2025-05-11 07:14:26.943201')
2025-05-11 07:14:26,944 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 170, '2025-05-11 07:14:26.943199', '2025-05-11 07:14:26.943201')
2025-05-11 07:14:26,945 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:26,945 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:26,945 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 170, '2025-05-11 07:14:26.943204', '2025-05-11 07:14:26.943206')
2025-05-11 07:14:26,945 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 170, '2025-05-11 07:14:26.943204', '2025-05-11 07:14:26.943206')
2025-05-11 07:14:26,945 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:26,945 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:26,945 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 170, '2025-05-11 07:14:26.943208', '2025-05-11 07:14:26.943211')
2025-05-11 07:14:26,945 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 170, '2025-05-11 07:14:26.943208', '2025-05-11 07:14:26.943211')
2025-05-11 07:14:26,946 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:26,946 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:26,946 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 170, '2025-05-11 07:14:26.943213', '2025-05-11 07:14:26.943216')
2025-05-11 07:14:26,946 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 170, '2025-05-11 07:14:26.943213', '2025-05-11 07:14:26.943216')
2025-05-11 07:14:26,947 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:26,947 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:26,951 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:26,951 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:26,952 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:26,952 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:26,952 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (846,)
2025-05-11 07:14:26,952 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (846,)
2025-05-11 07:14:26,953 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:26,953 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:26,953 - sqlalchemy.engine.Engine - INFO - [cached since 0.001595s ago] (847,)
2025-05-11 07:14:26,953 - sqlalchemy.engine.Engine - INFO - [cached since 0.001595s ago] (847,)
2025-05-11 07:14:26,954 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:26,954 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:26,954 - sqlalchemy.engine.Engine - INFO - [cached since 0.002898s ago] (848,)
2025-05-11 07:14:26,954 - sqlalchemy.engine.Engine - INFO - [cached since 0.002898s ago] (848,)
2025-05-11 07:14:26,955 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:26,955 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:26,956 - sqlalchemy.engine.Engine - INFO - [cached since 0.004045s ago] (849,)
2025-05-11 07:14:26,956 - sqlalchemy.engine.Engine - INFO - [cached since 0.004045s ago] (849,)
2025-05-11 07:14:26,957 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:26,957 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:26,957 - sqlalchemy.engine.Engine - INFO - [cached since 0.005184s ago] (850,)
2025-05-11 07:14:26,957 - sqlalchemy.engine.Engine - INFO - [cached since 0.005184s ago] (850,)
2025-05-11 07:14:26,959 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:26,959 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:26,959 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 170, '2025-05-11 07:14:26.959318', '2025-05-11 07:14:26.959323')
2025-05-11 07:14:26,959 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 170, '2025-05-11 07:14:26.959318', '2025-05-11 07:14:26.959323')
2025-05-11 07:14:26,960 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:26,960 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:26,960 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 170, '2025-05-11 07:14:26.959326', '2025-05-11 07:14:26.959329')
2025-05-11 07:14:26,960 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 170, '2025-05-11 07:14:26.959326', '2025-05-11 07:14:26.959329')
2025-05-11 07:14:26,961 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:26,961 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:26,961 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 170, '2025-05-11 07:14:26.959330', '2025-05-11 07:14:26.959333')
2025-05-11 07:14:26,961 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 170, '2025-05-11 07:14:26.959330', '2025-05-11 07:14:26.959333')
2025-05-11 07:14:26,962 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:14:26,962 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:14:26,962 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] [(510, 850), (508, 847), (508, 846), (509, 848), (509, 849)]
2025-05-11 07:14:26,962 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] [(510, 850), (508, 847), (508, 846), (509, 848), (509, 849)]
2025-05-11 07:14:26,963 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:26,963 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:26,967 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:26,967 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:26,968 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:26,968 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:26,968 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] (508,)
2025-05-11 07:14:26,968 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] (508,)
2025-05-11 07:14:26,970 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:26,970 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:26,970 - sqlalchemy.engine.Engine - INFO - [cached since 0.002083s ago] (509,)
2025-05-11 07:14:26,970 - sqlalchemy.engine.Engine - INFO - [cached since 0.002083s ago] (509,)
2025-05-11 07:14:26,971 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:26,971 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:26,971 - sqlalchemy.engine.Engine - INFO - [cached since 0.003672s ago] (510,)
2025-05-11 07:14:26,971 - sqlalchemy.engine.Engine - INFO - [cached since 0.003672s ago] (510,)
2025-05-11 07:14:26,974 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:14:26,974 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:14:26,974 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('9A', 170, 508, '2025-05-11 07:14:26.974041', '2025-05-11 07:14:26.974048')
2025-05-11 07:14:26,974 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('9A', 170, 508, '2025-05-11 07:14:26.974041', '2025-05-11 07:14:26.974048')
2025-05-11 07:14:26,975 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:26,975 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:26,979 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:26,979 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:26,980 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:14:26,980 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:14:26,980 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (170,)
2025-05-11 07:14:26,980 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (170,)
2025-05-11 07:14:26,981 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:14:26,981 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:14:26,982 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:14:26,982 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:14:27,083 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:14:27,083 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:14:38,237 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:38,237 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:38,238 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:14:38,238 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:14:38,238 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:38,238 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:38,240 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:14:38,240 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:14:38,241 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:38,241 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:38,242 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:14:38,242 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:14:38,242 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:38,242 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:38,243 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:14:38,243 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:14:38,243 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:38,243 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:38,244 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:14:38,244 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:14:38,244 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:38,244 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:38,245 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:14:38,245 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:14:38,245 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:38,245 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:38,246 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:14:38,246 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:14:38,246 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:38,246 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:38,247 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:14:38,247 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:14:38,247 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:38,247 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:38,248 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:14:38,248 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:14:38,248 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:38,248 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:38,249 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:38,249 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:38,250 - fastapi_app - INFO - Database models initialized
2025-05-11 07:14:38,250 - fastapi_app - INFO - Database models initialized
2025-05-11 07:14:38,251 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:14:38,251 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:14:38,278 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:38,278 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:38,280 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:14:38,280 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:14:38,281 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:14:38.280878', '2025-05-11 07:14:38.280886')
2025-05-11 07:14:38,281 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:14:38.280878', '2025-05-11 07:14:38.280886')
2025-05-11 07:14:38,283 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:38,283 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:38,290 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:38,290 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:38,294 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:14:38,294 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:14:38,294 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] (171,)
2025-05-11 07:14:38,294 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] (171,)
2025-05-11 07:14:38,299 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:38,299 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:38,299 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 171, '2025-05-11 07:14:38.298932', '2025-05-11 07:14:38.298941')
2025-05-11 07:14:38,299 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 171, '2025-05-11 07:14:38.298932', '2025-05-11 07:14:38.298941')
2025-05-11 07:14:38,300 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:38,300 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:38,300 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 171, '2025-05-11 07:14:38.298944', '2025-05-11 07:14:38.298948')
2025-05-11 07:14:38,300 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 171, '2025-05-11 07:14:38.298944', '2025-05-11 07:14:38.298948')
2025-05-11 07:14:38,300 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:38,300 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:38,301 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 171, '2025-05-11 07:14:38.298950', '2025-05-11 07:14:38.298952')
2025-05-11 07:14:38,301 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 171, '2025-05-11 07:14:38.298950', '2025-05-11 07:14:38.298952')
2025-05-11 07:14:38,301 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:38,301 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:38,301 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 171, '2025-05-11 07:14:38.298955', '2025-05-11 07:14:38.298958')
2025-05-11 07:14:38,301 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 171, '2025-05-11 07:14:38.298955', '2025-05-11 07:14:38.298958')
2025-05-11 07:14:38,302 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:38,302 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:38,302 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 171, '2025-05-11 07:14:38.298960', '2025-05-11 07:14:38.298962')
2025-05-11 07:14:38,302 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 171, '2025-05-11 07:14:38.298960', '2025-05-11 07:14:38.298962')
2025-05-11 07:14:38,303 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:38,303 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:38,307 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:38,307 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:38,308 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:38,308 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:38,308 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (851,)
2025-05-11 07:14:38,308 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (851,)
2025-05-11 07:14:38,309 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:38,309 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:38,309 - sqlalchemy.engine.Engine - INFO - [cached since 0.001602s ago] (852,)
2025-05-11 07:14:38,309 - sqlalchemy.engine.Engine - INFO - [cached since 0.001602s ago] (852,)
2025-05-11 07:14:38,311 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:38,311 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:38,311 - sqlalchemy.engine.Engine - INFO - [cached since 0.003034s ago] (853,)
2025-05-11 07:14:38,311 - sqlalchemy.engine.Engine - INFO - [cached since 0.003034s ago] (853,)
2025-05-11 07:14:38,312 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:38,312 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:38,312 - sqlalchemy.engine.Engine - INFO - [cached since 0.00429s ago] (854,)
2025-05-11 07:14:38,312 - sqlalchemy.engine.Engine - INFO - [cached since 0.00429s ago] (854,)
2025-05-11 07:14:38,313 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:38,313 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:38,313 - sqlalchemy.engine.Engine - INFO - [cached since 0.005446s ago] (855,)
2025-05-11 07:14:38,313 - sqlalchemy.engine.Engine - INFO - [cached since 0.005446s ago] (855,)
2025-05-11 07:14:38,316 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:38,316 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:38,316 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 171, '2025-05-11 07:14:38.316568', '2025-05-11 07:14:38.316573')
2025-05-11 07:14:38,316 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 171, '2025-05-11 07:14:38.316568', '2025-05-11 07:14:38.316573')
2025-05-11 07:14:38,317 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:38,317 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:38,318 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 171, '2025-05-11 07:14:38.316576', '2025-05-11 07:14:38.316579')
2025-05-11 07:14:38,318 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 171, '2025-05-11 07:14:38.316576', '2025-05-11 07:14:38.316579')
2025-05-11 07:14:38,318 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:38,318 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:38,318 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 171, '2025-05-11 07:14:38.316583', '2025-05-11 07:14:38.316585')
2025-05-11 07:14:38,318 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 171, '2025-05-11 07:14:38.316583', '2025-05-11 07:14:38.316585')
2025-05-11 07:14:38,319 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:14:38,319 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:14:38,320 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] [(512, 853), (511, 851), (512, 854), (513, 855), (511, 852)]
2025-05-11 07:14:38,320 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] [(512, 853), (511, 851), (512, 854), (513, 855), (511, 852)]
2025-05-11 07:14:38,321 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:38,321 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:38,325 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:38,325 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:38,325 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:38,325 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:38,325 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (511,)
2025-05-11 07:14:38,325 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (511,)
2025-05-11 07:14:38,327 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:38,327 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:38,327 - sqlalchemy.engine.Engine - INFO - [cached since 0.001432s ago] (512,)
2025-05-11 07:14:38,327 - sqlalchemy.engine.Engine - INFO - [cached since 0.001432s ago] (512,)
2025-05-11 07:14:38,328 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:38,328 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:38,328 - sqlalchemy.engine.Engine - INFO - [cached since 0.002822s ago] (513,)
2025-05-11 07:14:38,328 - sqlalchemy.engine.Engine - INFO - [cached since 0.002822s ago] (513,)
2025-05-11 07:14:38,330 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:14:38,330 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:14:38,330 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('9A', 171, 511, '2025-05-11 07:14:38.330436', '2025-05-11 07:14:38.330441')
2025-05-11 07:14:38,330 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('9A', 171, 511, '2025-05-11 07:14:38.330436', '2025-05-11 07:14:38.330441')
2025-05-11 07:14:38,331 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:38,331 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:38,335 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:38,335 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:38,337 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:14:38,337 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:14:38,337 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (171,)
2025-05-11 07:14:38,337 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (171,)
2025-05-11 07:14:38,338 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:14:38,338 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:14:38,338 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:14:38,338 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:14:38,441 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:14:38,441 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:14:43,472 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:43,472 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:43,473 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:14:43,473 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:14:43,473 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:43,473 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:43,474 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:14:43,474 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:14:43,474 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:43,474 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:43,475 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:14:43,475 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:14:43,475 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:43,475 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:43,476 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:14:43,476 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:14:43,476 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:43,476 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:43,477 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:14:43,477 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:14:43,477 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:43,477 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:43,478 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:14:43,478 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:14:43,478 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:43,478 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:43,479 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:14:43,479 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:14:43,479 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:43,479 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:43,480 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:14:43,480 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:14:43,480 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:43,480 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:43,480 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:14:43,480 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:14:43,481 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:43,481 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:43,481 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:43,481 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:43,482 - fastapi_app - INFO - Database models initialized
2025-05-11 07:14:43,482 - fastapi_app - INFO - Database models initialized
2025-05-11 07:14:43,482 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:14:43,482 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:14:43,502 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:43,502 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:43,504 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:14:43,504 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:14:43,504 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:14:43.504300', '2025-05-11 07:14:43.504306')
2025-05-11 07:14:43,504 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:14:43.504300', '2025-05-11 07:14:43.504306')
2025-05-11 07:14:43,506 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:43,506 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:43,512 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:43,512 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:43,514 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:14:43,514 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:14:43,514 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (172,)
2025-05-11 07:14:43,514 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (172,)
2025-05-11 07:14:43,517 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:43,517 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:43,517 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 172, '2025-05-11 07:14:43.517133', '2025-05-11 07:14:43.517138')
2025-05-11 07:14:43,517 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 172, '2025-05-11 07:14:43.517133', '2025-05-11 07:14:43.517138')
2025-05-11 07:14:43,518 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:43,518 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:43,518 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 172, '2025-05-11 07:14:43.517142', '2025-05-11 07:14:43.517144')
2025-05-11 07:14:43,518 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 172, '2025-05-11 07:14:43.517142', '2025-05-11 07:14:43.517144')
2025-05-11 07:14:43,519 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:43,519 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:43,520 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 172, '2025-05-11 07:14:43.517147', '2025-05-11 07:14:43.517150')
2025-05-11 07:14:43,520 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 172, '2025-05-11 07:14:43.517147', '2025-05-11 07:14:43.517150')
2025-05-11 07:14:43,520 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:43,520 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:43,520 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 172, '2025-05-11 07:14:43.517153', '2025-05-11 07:14:43.517155')
2025-05-11 07:14:43,520 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 172, '2025-05-11 07:14:43.517153', '2025-05-11 07:14:43.517155')
2025-05-11 07:14:43,521 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:43,521 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:43,522 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 172, '2025-05-11 07:14:43.517157', '2025-05-11 07:14:43.517159')
2025-05-11 07:14:43,522 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 172, '2025-05-11 07:14:43.517157', '2025-05-11 07:14:43.517159')
2025-05-11 07:14:43,523 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:43,523 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:43,527 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:43,527 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:43,528 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:43,528 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:43,528 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (856,)
2025-05-11 07:14:43,528 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (856,)
2025-05-11 07:14:43,529 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:43,529 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:43,530 - sqlalchemy.engine.Engine - INFO - [cached since 0.001814s ago] (857,)
2025-05-11 07:14:43,530 - sqlalchemy.engine.Engine - INFO - [cached since 0.001814s ago] (857,)
2025-05-11 07:14:43,531 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:43,531 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:43,531 - sqlalchemy.engine.Engine - INFO - [cached since 0.003321s ago] (858,)
2025-05-11 07:14:43,531 - sqlalchemy.engine.Engine - INFO - [cached since 0.003321s ago] (858,)
2025-05-11 07:14:43,532 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:43,532 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:43,532 - sqlalchemy.engine.Engine - INFO - [cached since 0.00437s ago] (859,)
2025-05-11 07:14:43,532 - sqlalchemy.engine.Engine - INFO - [cached since 0.00437s ago] (859,)
2025-05-11 07:14:43,533 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:43,533 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:43,533 - sqlalchemy.engine.Engine - INFO - [cached since 0.005578s ago] (860,)
2025-05-11 07:14:43,533 - sqlalchemy.engine.Engine - INFO - [cached since 0.005578s ago] (860,)
2025-05-11 07:14:43,536 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:43,536 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:43,536 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 172, '2025-05-11 07:14:43.536111', '2025-05-11 07:14:43.536116')
2025-05-11 07:14:43,536 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 172, '2025-05-11 07:14:43.536111', '2025-05-11 07:14:43.536116')
2025-05-11 07:14:43,537 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:43,537 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:43,537 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 172, '2025-05-11 07:14:43.536118', '2025-05-11 07:14:43.536120')
2025-05-11 07:14:43,537 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 172, '2025-05-11 07:14:43.536118', '2025-05-11 07:14:43.536120')
2025-05-11 07:14:43,538 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:43,538 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:43,538 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 172, '2025-05-11 07:14:43.536123', '2025-05-11 07:14:43.536126')
2025-05-11 07:14:43,538 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 172, '2025-05-11 07:14:43.536123', '2025-05-11 07:14:43.536126')
2025-05-11 07:14:43,539 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:14:43,539 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:14:43,540 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] [(515, 858), (515, 859), (516, 860), (514, 857), (514, 856)]
2025-05-11 07:14:43,540 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] [(515, 858), (515, 859), (516, 860), (514, 857), (514, 856)]
2025-05-11 07:14:43,541 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:43,541 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:43,545 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:43,545 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:43,546 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:43,546 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:43,546 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (514,)
2025-05-11 07:14:43,546 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (514,)
2025-05-11 07:14:43,547 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:43,547 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:43,548 - sqlalchemy.engine.Engine - INFO - [cached since 0.001826s ago] (515,)
2025-05-11 07:14:43,548 - sqlalchemy.engine.Engine - INFO - [cached since 0.001826s ago] (515,)
2025-05-11 07:14:43,549 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:43,549 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:43,549 - sqlalchemy.engine.Engine - INFO - [cached since 0.003305s ago] (516,)
2025-05-11 07:14:43,549 - sqlalchemy.engine.Engine - INFO - [cached since 0.003305s ago] (516,)
2025-05-11 07:14:43,551 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:14:43,551 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:14:43,551 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('9A', 172, 514, '2025-05-11 07:14:43.551233', '2025-05-11 07:14:43.551239')
2025-05-11 07:14:43,551 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('9A', 172, 514, '2025-05-11 07:14:43.551233', '2025-05-11 07:14:43.551239')
2025-05-11 07:14:43,552 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:43,552 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:43,556 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:43,556 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:43,558 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:14:43,558 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:14:43,558 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (172,)
2025-05-11 07:14:43,558 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (172,)
2025-05-11 07:14:43,559 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:14:43,559 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:14:43,559 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:14:43,559 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:14:43,673 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:14:43,673 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:14:46,795 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:46,795 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:46,795 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:14:46,795 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:14:46,795 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:46,795 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:46,797 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:14:46,797 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:14:46,797 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:46,797 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:46,798 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:14:46,798 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:14:46,798 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:46,798 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:46,799 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:14:46,799 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:14:46,799 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:46,799 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:46,800 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:14:46,800 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:14:46,800 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:46,800 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:46,801 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:14:46,801 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:14:46,801 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:46,801 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:46,802 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:14:46,802 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:14:46,802 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:46,802 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:46,803 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:14:46,803 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:14:46,803 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:46,803 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:46,804 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:14:46,804 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:14:46,805 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:46,805 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:14:46,806 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:46,806 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:46,807 - fastapi_app - INFO - Database models initialized
2025-05-11 07:14:46,807 - fastapi_app - INFO - Database models initialized
2025-05-11 07:14:46,808 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:14:46,808 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:14:46,835 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:46,835 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:46,837 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:14:46,837 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:14:46,837 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:14:46.837534', '2025-05-11 07:14:46.837541')
2025-05-11 07:14:46,837 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:14:46.837534', '2025-05-11 07:14:46.837541')
2025-05-11 07:14:46,839 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:46,839 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:46,844 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:46,844 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:46,846 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:14:46,846 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:14:46,847 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] (173,)
2025-05-11 07:14:46,847 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] (173,)
2025-05-11 07:14:46,849 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:46,849 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:46,849 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 173, '2025-05-11 07:14:46.849423', '2025-05-11 07:14:46.849427')
2025-05-11 07:14:46,849 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 173, '2025-05-11 07:14:46.849423', '2025-05-11 07:14:46.849427')
2025-05-11 07:14:46,850 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:46,850 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:46,851 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 173, '2025-05-11 07:14:46.849430', '2025-05-11 07:14:46.849432')
2025-05-11 07:14:46,851 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 173, '2025-05-11 07:14:46.849430', '2025-05-11 07:14:46.849432')
2025-05-11 07:14:46,851 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:46,851 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:46,851 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 173, '2025-05-11 07:14:46.849435', '2025-05-11 07:14:46.849437')
2025-05-11 07:14:46,851 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 173, '2025-05-11 07:14:46.849435', '2025-05-11 07:14:46.849437')
2025-05-11 07:14:46,852 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:46,852 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:46,852 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 173, '2025-05-11 07:14:46.849439', '2025-05-11 07:14:46.849442')
2025-05-11 07:14:46,852 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 173, '2025-05-11 07:14:46.849439', '2025-05-11 07:14:46.849442')
2025-05-11 07:14:46,853 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:46,853 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:14:46,853 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 173, '2025-05-11 07:14:46.849444', '2025-05-11 07:14:46.849446')
2025-05-11 07:14:46,853 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 173, '2025-05-11 07:14:46.849444', '2025-05-11 07:14:46.849446')
2025-05-11 07:14:46,855 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:46,855 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:46,859 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:46,859 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:46,860 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:46,860 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:46,860 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] (861,)
2025-05-11 07:14:46,860 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] (861,)
2025-05-11 07:14:46,862 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:46,862 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:46,862 - sqlalchemy.engine.Engine - INFO - [cached since 0.002466s ago] (862,)
2025-05-11 07:14:46,862 - sqlalchemy.engine.Engine - INFO - [cached since 0.002466s ago] (862,)
2025-05-11 07:14:46,864 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:46,864 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:46,864 - sqlalchemy.engine.Engine - INFO - [cached since 0.004306s ago] (863,)
2025-05-11 07:14:46,864 - sqlalchemy.engine.Engine - INFO - [cached since 0.004306s ago] (863,)
2025-05-11 07:14:46,865 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:46,865 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:46,866 - sqlalchemy.engine.Engine - INFO - [cached since 0.005924s ago] (864,)
2025-05-11 07:14:46,866 - sqlalchemy.engine.Engine - INFO - [cached since 0.005924s ago] (864,)
2025-05-11 07:14:46,867 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:46,867 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:14:46,867 - sqlalchemy.engine.Engine - INFO - [cached since 0.007655s ago] (865,)
2025-05-11 07:14:46,867 - sqlalchemy.engine.Engine - INFO - [cached since 0.007655s ago] (865,)
2025-05-11 07:14:46,870 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:46,870 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:46,871 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 173, '2025-05-11 07:14:46.870752', '2025-05-11 07:14:46.870758')
2025-05-11 07:14:46,871 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 173, '2025-05-11 07:14:46.870752', '2025-05-11 07:14:46.870758')
2025-05-11 07:14:46,872 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:46,872 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:46,872 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 173, '2025-05-11 07:14:46.870761', '2025-05-11 07:14:46.870763')
2025-05-11 07:14:46,872 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 173, '2025-05-11 07:14:46.870761', '2025-05-11 07:14:46.870763')
2025-05-11 07:14:46,873 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:46,873 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:14:46,873 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 173, '2025-05-11 07:14:46.870766', '2025-05-11 07:14:46.870768')
2025-05-11 07:14:46,873 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 173, '2025-05-11 07:14:46.870766', '2025-05-11 07:14:46.870768')
2025-05-11 07:14:46,875 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:14:46,875 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:14:46,875 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] [(517, 862), (517, 861), (518, 863), (518, 864), (519, 865)]
2025-05-11 07:14:46,875 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] [(517, 862), (517, 861), (518, 863), (518, 864), (519, 865)]
2025-05-11 07:14:46,876 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:46,876 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:46,880 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:46,880 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:46,882 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:46,882 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:46,882 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] (517,)
2025-05-11 07:14:46,882 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] (517,)
2025-05-11 07:14:46,884 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:46,884 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:46,884 - sqlalchemy.engine.Engine - INFO - [cached since 0.002231s ago] (518,)
2025-05-11 07:14:46,884 - sqlalchemy.engine.Engine - INFO - [cached since 0.002231s ago] (518,)
2025-05-11 07:14:46,885 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:46,885 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:14:46,885 - sqlalchemy.engine.Engine - INFO - [cached since 0.003567s ago] (519,)
2025-05-11 07:14:46,885 - sqlalchemy.engine.Engine - INFO - [cached since 0.003567s ago] (519,)
2025-05-11 07:14:46,887 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:14:46,887 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:14:46,887 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('9A', 173, 517, '2025-05-11 07:14:46.887554', '2025-05-11 07:14:46.887559')
2025-05-11 07:14:46,887 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('9A', 173, 517, '2025-05-11 07:14:46.887554', '2025-05-11 07:14:46.887559')
2025-05-11 07:14:46,889 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:46,889 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:14:46,892 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:46,892 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:14:46,893 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:14:46,893 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:14:46,893 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (173,)
2025-05-11 07:14:46,893 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (173,)
2025-05-11 07:14:46,894 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:14:46,894 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:14:46,895 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:14:46,895 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:14:47,019 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:14:47,019 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:15:04,547 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:04,547 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:04,547 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:15:04,547 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:15:04,548 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:04,548 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:04,549 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:15:04,549 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:15:04,549 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:04,549 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:04,550 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:15:04,550 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:15:04,550 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:04,550 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:04,551 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:15:04,551 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:15:04,551 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:04,551 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:04,552 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:15:04,552 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:15:04,552 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:04,552 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:04,553 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:15:04,553 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:15:04,553 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:04,553 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:04,554 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:15:04,554 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:15:04,554 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:04,554 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:04,555 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:15:04,555 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:15:04,555 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:04,555 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:04,556 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:15:04,556 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:15:04,556 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:04,556 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:04,557 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:04,557 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:04,557 - fastapi_app - INFO - Database models initialized
2025-05-11 07:15:04,557 - fastapi_app - INFO - Database models initialized
2025-05-11 07:15:04,558 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:15:04,558 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:15:04,581 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:04,581 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:04,583 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:15:04,583 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:15:04,583 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:15:04.583318', '2025-05-11 07:15:04.583324')
2025-05-11 07:15:04,583 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:15:04.583318', '2025-05-11 07:15:04.583324')
2025-05-11 07:15:04,585 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:04,585 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:04,591 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:04,591 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:04,594 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:15:04,594 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:15:04,594 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] (174,)
2025-05-11 07:15:04,594 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] (174,)
2025-05-11 07:15:04,597 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:04,597 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:04,597 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 174, '2025-05-11 07:15:04.596956', '2025-05-11 07:15:04.596961')
2025-05-11 07:15:04,597 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 174, '2025-05-11 07:15:04.596956', '2025-05-11 07:15:04.596961')
2025-05-11 07:15:04,598 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:04,598 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:04,598 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 174, '2025-05-11 07:15:04.596964', '2025-05-11 07:15:04.596966')
2025-05-11 07:15:04,598 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 174, '2025-05-11 07:15:04.596964', '2025-05-11 07:15:04.596966')
2025-05-11 07:15:04,599 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:04,599 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:04,599 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 174, '2025-05-11 07:15:04.596969', '2025-05-11 07:15:04.596971')
2025-05-11 07:15:04,599 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 174, '2025-05-11 07:15:04.596969', '2025-05-11 07:15:04.596971')
2025-05-11 07:15:04,599 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:04,599 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:04,600 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 174, '2025-05-11 07:15:04.596974', '2025-05-11 07:15:04.596977')
2025-05-11 07:15:04,600 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 174, '2025-05-11 07:15:04.596974', '2025-05-11 07:15:04.596977')
2025-05-11 07:15:04,600 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:04,600 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:04,600 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 174, '2025-05-11 07:15:04.596979', '2025-05-11 07:15:04.596981')
2025-05-11 07:15:04,600 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 174, '2025-05-11 07:15:04.596979', '2025-05-11 07:15:04.596981')
2025-05-11 07:15:04,601 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:04,601 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:04,606 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:04,606 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:04,607 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:04,607 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:04,608 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] (866,)
2025-05-11 07:15:04,608 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] (866,)
2025-05-11 07:15:04,609 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:04,609 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:04,609 - sqlalchemy.engine.Engine - INFO - [cached since 0.002297s ago] (867,)
2025-05-11 07:15:04,609 - sqlalchemy.engine.Engine - INFO - [cached since 0.002297s ago] (867,)
2025-05-11 07:15:04,611 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:04,611 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:04,612 - sqlalchemy.engine.Engine - INFO - [cached since 0.004486s ago] (868,)
2025-05-11 07:15:04,612 - sqlalchemy.engine.Engine - INFO - [cached since 0.004486s ago] (868,)
2025-05-11 07:15:04,613 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:04,613 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:04,614 - sqlalchemy.engine.Engine - INFO - [cached since 0.006352s ago] (869,)
2025-05-11 07:15:04,614 - sqlalchemy.engine.Engine - INFO - [cached since 0.006352s ago] (869,)
2025-05-11 07:15:04,615 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:04,615 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:04,615 - sqlalchemy.engine.Engine - INFO - [cached since 0.00797s ago] (870,)
2025-05-11 07:15:04,615 - sqlalchemy.engine.Engine - INFO - [cached since 0.00797s ago] (870,)
2025-05-11 07:15:04,618 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:15:04,618 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:15:04,618 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 174, '2025-05-11 07:15:04.618257', '2025-05-11 07:15:04.618262')
2025-05-11 07:15:04,618 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 174, '2025-05-11 07:15:04.618257', '2025-05-11 07:15:04.618262')
2025-05-11 07:15:04,619 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:15:04,619 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:15:04,620 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 174, '2025-05-11 07:15:04.618265', '2025-05-11 07:15:04.618267')
2025-05-11 07:15:04,620 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 174, '2025-05-11 07:15:04.618265', '2025-05-11 07:15:04.618267')
2025-05-11 07:15:04,620 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:15:04,620 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:15:04,620 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 174, '2025-05-11 07:15:04.618270', '2025-05-11 07:15:04.618273')
2025-05-11 07:15:04,620 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 174, '2025-05-11 07:15:04.618270', '2025-05-11 07:15:04.618273')
2025-05-11 07:15:04,622 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:15:04,622 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:15:04,622 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] [(521, 868), (521, 869), (520, 866), (522, 870), (520, 867)]
2025-05-11 07:15:04,622 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] [(521, 868), (521, 869), (520, 866), (522, 870), (520, 867)]
2025-05-11 07:15:04,623 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:04,623 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:04,627 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:04,627 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:04,628 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:15:04,628 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:15:04,629 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (520,)
2025-05-11 07:15:04,629 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (520,)
2025-05-11 07:15:04,631 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:15:04,631 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:15:04,631 - sqlalchemy.engine.Engine - INFO - [cached since 0.002674s ago] (521,)
2025-05-11 07:15:04,631 - sqlalchemy.engine.Engine - INFO - [cached since 0.002674s ago] (521,)
2025-05-11 07:15:04,632 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:15:04,632 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:15:04,632 - sqlalchemy.engine.Engine - INFO - [cached since 0.004076s ago] (522,)
2025-05-11 07:15:04,632 - sqlalchemy.engine.Engine - INFO - [cached since 0.004076s ago] (522,)
2025-05-11 07:15:04,634 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:15:04,634 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:15:04,634 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('9A', 174, 520, '2025-05-11 07:15:04.634690', '2025-05-11 07:15:04.634695')
2025-05-11 07:15:04,634 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('9A', 174, 520, '2025-05-11 07:15:04.634690', '2025-05-11 07:15:04.634695')
2025-05-11 07:15:04,636 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:04,636 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:04,640 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:04,640 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:04,641 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:15:04,641 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:15:04,641 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (174,)
2025-05-11 07:15:04,641 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (174,)
2025-05-11 07:15:04,642 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:15:04,642 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:15:04,642 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:15:04,642 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:15:04,756 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:15:04,756 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:15:31,427 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:31,427 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:31,428 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:15:31,428 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:15:31,428 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:31,428 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:31,429 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:15:31,429 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:15:31,429 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:31,429 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:31,430 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:15:31,430 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:15:31,430 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:31,430 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:31,431 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:15:31,431 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:15:31,431 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:31,431 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:31,432 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:15:31,432 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:15:31,432 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:31,432 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:31,433 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:15:31,433 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:15:31,433 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:31,433 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:31,434 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:15:31,434 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:15:31,434 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:31,434 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:31,435 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:15:31,435 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:15:31,435 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:31,435 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:31,436 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:15:31,436 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:15:31,436 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:31,436 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:31,437 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:31,437 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:31,438 - fastapi_app - INFO - Database models initialized
2025-05-11 07:15:31,438 - fastapi_app - INFO - Database models initialized
2025-05-11 07:15:31,438 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:15:31,438 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:15:31,459 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:31,459 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:31,462 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:15:31,462 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:15:31,462 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:15:31.461961', '2025-05-11 07:15:31.461967')
2025-05-11 07:15:31,462 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:15:31.461961', '2025-05-11 07:15:31.461967')
2025-05-11 07:15:31,463 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:31,463 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:31,471 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:31,471 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:31,474 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:15:31,474 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:15:31,474 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (175,)
2025-05-11 07:15:31,474 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (175,)
2025-05-11 07:15:31,477 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:31,477 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:31,477 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 175, '2025-05-11 07:15:31.477343', '2025-05-11 07:15:31.477349')
2025-05-11 07:15:31,477 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 175, '2025-05-11 07:15:31.477343', '2025-05-11 07:15:31.477349')
2025-05-11 07:15:31,479 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:31,479 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:31,479 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 175, '2025-05-11 07:15:31.477352', '2025-05-11 07:15:31.477355')
2025-05-11 07:15:31,479 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 175, '2025-05-11 07:15:31.477352', '2025-05-11 07:15:31.477355')
2025-05-11 07:15:31,480 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:31,480 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:31,480 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 175, '2025-05-11 07:15:31.477356', '2025-05-11 07:15:31.477359')
2025-05-11 07:15:31,480 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 175, '2025-05-11 07:15:31.477356', '2025-05-11 07:15:31.477359')
2025-05-11 07:15:31,480 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:31,480 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:31,481 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 175, '2025-05-11 07:15:31.477361', '2025-05-11 07:15:31.477364')
2025-05-11 07:15:31,481 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 175, '2025-05-11 07:15:31.477361', '2025-05-11 07:15:31.477364')
2025-05-11 07:15:31,481 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:31,481 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:31,481 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 175, '2025-05-11 07:15:31.477366', '2025-05-11 07:15:31.477369')
2025-05-11 07:15:31,481 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 175, '2025-05-11 07:15:31.477366', '2025-05-11 07:15:31.477369')
2025-05-11 07:15:31,482 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:31,482 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:31,487 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:31,487 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:31,489 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:31,489 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:31,489 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (871,)
2025-05-11 07:15:31,489 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (871,)
2025-05-11 07:15:31,490 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:31,490 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:31,491 - sqlalchemy.engine.Engine - INFO - [cached since 0.002076s ago] (872,)
2025-05-11 07:15:31,491 - sqlalchemy.engine.Engine - INFO - [cached since 0.002076s ago] (872,)
2025-05-11 07:15:31,493 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:31,493 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:31,493 - sqlalchemy.engine.Engine - INFO - [cached since 0.00464s ago] (873,)
2025-05-11 07:15:31,493 - sqlalchemy.engine.Engine - INFO - [cached since 0.00464s ago] (873,)
2025-05-11 07:15:31,495 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:31,495 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:31,496 - sqlalchemy.engine.Engine - INFO - [cached since 0.007173s ago] (874,)
2025-05-11 07:15:31,496 - sqlalchemy.engine.Engine - INFO - [cached since 0.007173s ago] (874,)
2025-05-11 07:15:31,497 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:31,497 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:31,498 - sqlalchemy.engine.Engine - INFO - [cached since 0.009141s ago] (875,)
2025-05-11 07:15:31,498 - sqlalchemy.engine.Engine - INFO - [cached since 0.009141s ago] (875,)
2025-05-11 07:15:31,502 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:15:31,502 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:15:31,502 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 175, '2025-05-11 07:15:31.502006', '2025-05-11 07:15:31.502011')
2025-05-11 07:15:31,502 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 175, '2025-05-11 07:15:31.502006', '2025-05-11 07:15:31.502011')
2025-05-11 07:15:31,503 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:15:31,503 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:15:31,504 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 175, '2025-05-11 07:15:31.502014', '2025-05-11 07:15:31.502016')
2025-05-11 07:15:31,504 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 175, '2025-05-11 07:15:31.502014', '2025-05-11 07:15:31.502016')
2025-05-11 07:15:31,504 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:15:31,504 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:15:31,504 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 175, '2025-05-11 07:15:31.502018', '2025-05-11 07:15:31.502020')
2025-05-11 07:15:31,504 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 175, '2025-05-11 07:15:31.502018', '2025-05-11 07:15:31.502020')
2025-05-11 07:15:31,506 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:15:31,506 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:15:31,506 - sqlalchemy.engine.Engine - INFO - [generated in 0.00060s] [(524, 873), (524, 874), (525, 875), (523, 872), (523, 871)]
2025-05-11 07:15:31,506 - sqlalchemy.engine.Engine - INFO - [generated in 0.00060s] [(524, 873), (524, 874), (525, 875), (523, 872), (523, 871)]
2025-05-11 07:15:31,508 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:31,508 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:31,513 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:31,513 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:31,515 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:15:31,515 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:15:31,515 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] (523,)
2025-05-11 07:15:31,515 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] (523,)
2025-05-11 07:15:31,517 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:15:31,517 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:15:31,517 - sqlalchemy.engine.Engine - INFO - [cached since 0.0023s ago] (524,)
2025-05-11 07:15:31,517 - sqlalchemy.engine.Engine - INFO - [cached since 0.0023s ago] (524,)
2025-05-11 07:15:31,518 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:15:31,518 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:15:31,519 - sqlalchemy.engine.Engine - INFO - [cached since 0.003723s ago] (525,)
2025-05-11 07:15:31,519 - sqlalchemy.engine.Engine - INFO - [cached since 0.003723s ago] (525,)
2025-05-11 07:15:31,521 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:15:31,521 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:15:31,522 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] ('9A', 175, 523, '2025-05-11 07:15:31.521641', '2025-05-11 07:15:31.521649')
2025-05-11 07:15:31,522 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] ('9A', 175, 523, '2025-05-11 07:15:31.521641', '2025-05-11 07:15:31.521649')
2025-05-11 07:15:31,524 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:31,524 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:31,529 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:31,529 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:31,530 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:15:31,530 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:15:31,531 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] (175,)
2025-05-11 07:15:31,531 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] (175,)
2025-05-11 07:15:31,532 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:15:31,532 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:15:31,533 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:15:31,533 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:15:31,648 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:15:31,648 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:15:39,683 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:39,683 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:39,684 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:15:39,684 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:15:39,684 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:39,684 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:39,686 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:15:39,686 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:15:39,686 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:39,686 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:39,687 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:15:39,687 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:15:39,687 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:39,687 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:39,688 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:15:39,688 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:15:39,688 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:39,688 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:39,689 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:15:39,689 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:15:39,689 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:39,689 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:39,689 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:15:39,689 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:15:39,689 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:39,689 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:39,690 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:15:39,690 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:15:39,690 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:39,690 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:39,691 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:15:39,691 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:15:39,691 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:39,691 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:39,691 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:15:39,691 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:15:39,692 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:39,692 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:15:39,693 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:39,693 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:39,693 - fastapi_app - INFO - Database models initialized
2025-05-11 07:15:39,693 - fastapi_app - INFO - Database models initialized
2025-05-11 07:15:39,693 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:15:39,693 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:15:39,717 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:39,717 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:39,719 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:15:39,719 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:15:39,720 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:15:39.719709', '2025-05-11 07:15:39.719716')
2025-05-11 07:15:39,720 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:15:39.719709', '2025-05-11 07:15:39.719716')
2025-05-11 07:15:39,721 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:39,721 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:39,728 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:39,728 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:39,731 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:15:39,731 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:15:39,731 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] (176,)
2025-05-11 07:15:39,731 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] (176,)
2025-05-11 07:15:39,734 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:39,734 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:39,734 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 176, '2025-05-11 07:15:39.734086', '2025-05-11 07:15:39.734092')
2025-05-11 07:15:39,734 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 176, '2025-05-11 07:15:39.734086', '2025-05-11 07:15:39.734092')
2025-05-11 07:15:39,735 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:39,735 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:39,735 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 176, '2025-05-11 07:15:39.734096', '2025-05-11 07:15:39.734098')
2025-05-11 07:15:39,735 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 176, '2025-05-11 07:15:39.734096', '2025-05-11 07:15:39.734098')
2025-05-11 07:15:39,736 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:39,736 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:39,736 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 176, '2025-05-11 07:15:39.734101', '2025-05-11 07:15:39.734104')
2025-05-11 07:15:39,736 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 176, '2025-05-11 07:15:39.734101', '2025-05-11 07:15:39.734104')
2025-05-11 07:15:39,737 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:39,737 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:39,737 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 176, '2025-05-11 07:15:39.734105', '2025-05-11 07:15:39.734108')
2025-05-11 07:15:39,737 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 176, '2025-05-11 07:15:39.734105', '2025-05-11 07:15:39.734108')
2025-05-11 07:15:39,738 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:39,738 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:15:39,738 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 176, '2025-05-11 07:15:39.734110', '2025-05-11 07:15:39.734113')
2025-05-11 07:15:39,738 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 176, '2025-05-11 07:15:39.734110', '2025-05-11 07:15:39.734113')
2025-05-11 07:15:39,739 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:39,739 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:39,743 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:39,743 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:39,744 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:39,744 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:39,744 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (876,)
2025-05-11 07:15:39,744 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (876,)
2025-05-11 07:15:39,745 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:39,745 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:39,746 - sqlalchemy.engine.Engine - INFO - [cached since 0.00168s ago] (877,)
2025-05-11 07:15:39,746 - sqlalchemy.engine.Engine - INFO - [cached since 0.00168s ago] (877,)
2025-05-11 07:15:39,747 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:39,747 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:39,747 - sqlalchemy.engine.Engine - INFO - [cached since 0.002934s ago] (878,)
2025-05-11 07:15:39,747 - sqlalchemy.engine.Engine - INFO - [cached since 0.002934s ago] (878,)
2025-05-11 07:15:39,748 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:39,748 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:39,748 - sqlalchemy.engine.Engine - INFO - [cached since 0.004063s ago] (879,)
2025-05-11 07:15:39,748 - sqlalchemy.engine.Engine - INFO - [cached since 0.004063s ago] (879,)
2025-05-11 07:15:39,749 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:39,749 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:15:39,749 - sqlalchemy.engine.Engine - INFO - [cached since 0.00522s ago] (880,)
2025-05-11 07:15:39,749 - sqlalchemy.engine.Engine - INFO - [cached since 0.00522s ago] (880,)
2025-05-11 07:15:39,752 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:15:39,752 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:15:39,752 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 176, '2025-05-11 07:15:39.751936', '2025-05-11 07:15:39.751942')
2025-05-11 07:15:39,752 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 176, '2025-05-11 07:15:39.751936', '2025-05-11 07:15:39.751942')
2025-05-11 07:15:39,753 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:15:39,753 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:15:39,753 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 176, '2025-05-11 07:15:39.751945', '2025-05-11 07:15:39.751949')
2025-05-11 07:15:39,753 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 176, '2025-05-11 07:15:39.751945', '2025-05-11 07:15:39.751949')
2025-05-11 07:15:39,754 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:15:39,754 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:15:39,754 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 176, '2025-05-11 07:15:39.751951', '2025-05-11 07:15:39.751954')
2025-05-11 07:15:39,754 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 176, '2025-05-11 07:15:39.751951', '2025-05-11 07:15:39.751954')
2025-05-11 07:15:39,755 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:15:39,755 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:15:39,755 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] [(527, 878), (526, 876), (527, 879), (528, 880), (526, 877)]
2025-05-11 07:15:39,755 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] [(527, 878), (526, 876), (527, 879), (528, 880), (526, 877)]
2025-05-11 07:15:39,756 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:39,756 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:39,760 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:39,760 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:39,761 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:15:39,761 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:15:39,761 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (526,)
2025-05-11 07:15:39,761 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (526,)
2025-05-11 07:15:39,763 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:15:39,763 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:15:39,763 - sqlalchemy.engine.Engine - INFO - [cached since 0.001675s ago] (527,)
2025-05-11 07:15:39,763 - sqlalchemy.engine.Engine - INFO - [cached since 0.001675s ago] (527,)
2025-05-11 07:15:39,764 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:15:39,764 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:15:39,764 - sqlalchemy.engine.Engine - INFO - [cached since 0.003058s ago] (528,)
2025-05-11 07:15:39,764 - sqlalchemy.engine.Engine - INFO - [cached since 0.003058s ago] (528,)
2025-05-11 07:15:39,766 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:15:39,766 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:15:39,766 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('9A', 176, 526, '2025-05-11 07:15:39.766390', '2025-05-11 07:15:39.766394')
2025-05-11 07:15:39,766 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('9A', 176, 526, '2025-05-11 07:15:39.766390', '2025-05-11 07:15:39.766394')
2025-05-11 07:15:39,767 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:39,767 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:15:39,772 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:39,772 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:39,773 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:15:39,773 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:15:39,774 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (176,)
2025-05-11 07:15:39,774 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (176,)
2025-05-11 07:15:39,774 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:15:39,774 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:15:39,775 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:15:39,775 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:15:39,883 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:15:39,883 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:15:46,572 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:46,572 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:15:46,601 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 07:15:46,601 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 07:15:46,601 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (896700645,)
2025-05-11 07:15:46,601 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (896700645,)
2025-05-11 07:15:46,604 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:15:46,604 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:16:07,695 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:07,695 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:07,696 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:16:07,696 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:16:07,696 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:07,696 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:07,698 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:16:07,698 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:16:07,698 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:07,698 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:07,699 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:16:07,699 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:16:07,699 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:07,699 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:07,700 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:16:07,700 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:16:07,700 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:07,700 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:07,702 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:16:07,702 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:16:07,702 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:07,702 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:07,703 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:16:07,703 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:16:07,703 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:07,703 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:07,705 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:16:07,705 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:16:07,705 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:07,705 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:07,706 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:16:07,706 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:16:07,706 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:07,706 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:07,707 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:16:07,707 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:16:07,708 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:07,708 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:07,709 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:07,709 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:07,711 - fastapi_app - INFO - Database models initialized
2025-05-11 07:16:07,711 - fastapi_app - INFO - Database models initialized
2025-05-11 07:16:07,711 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:16:07,711 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:16:07,742 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:07,742 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:07,745 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:16:07,745 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:16:07,745 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:16:07.744968', '2025-05-11 07:16:07.744975')
2025-05-11 07:16:07,745 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:16:07.744968', '2025-05-11 07:16:07.744975')
2025-05-11 07:16:07,747 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:07,747 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:07,751 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:07,751 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:07,754 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:16:07,754 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:16:07,754 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] (177,)
2025-05-11 07:16:07,754 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] (177,)
2025-05-11 07:16:07,757 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:07,757 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:07,758 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 177, '2025-05-11 07:16:07.757587', '2025-05-11 07:16:07.757593')
2025-05-11 07:16:07,758 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 177, '2025-05-11 07:16:07.757587', '2025-05-11 07:16:07.757593')
2025-05-11 07:16:07,759 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:07,759 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:07,759 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 177, '2025-05-11 07:16:07.757594', '2025-05-11 07:16:07.757597')
2025-05-11 07:16:07,759 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 177, '2025-05-11 07:16:07.757594', '2025-05-11 07:16:07.757597')
2025-05-11 07:16:07,760 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:07,760 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:07,760 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 177, '2025-05-11 07:16:07.757599', '2025-05-11 07:16:07.757602')
2025-05-11 07:16:07,760 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 177, '2025-05-11 07:16:07.757599', '2025-05-11 07:16:07.757602')
2025-05-11 07:16:07,760 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:07,760 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:07,761 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 177, '2025-05-11 07:16:07.757604', '2025-05-11 07:16:07.757606')
2025-05-11 07:16:07,761 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 177, '2025-05-11 07:16:07.757604', '2025-05-11 07:16:07.757606')
2025-05-11 07:16:07,761 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:07,761 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:07,762 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 177, '2025-05-11 07:16:07.757608', '2025-05-11 07:16:07.757611')
2025-05-11 07:16:07,762 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 177, '2025-05-11 07:16:07.757608', '2025-05-11 07:16:07.757611')
2025-05-11 07:16:07,763 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:07,763 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:07,768 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:07,768 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:07,769 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:07,769 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:07,769 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] (881,)
2025-05-11 07:16:07,769 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] (881,)
2025-05-11 07:16:07,771 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:07,771 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:07,772 - sqlalchemy.engine.Engine - INFO - [cached since 0.002673s ago] (882,)
2025-05-11 07:16:07,772 - sqlalchemy.engine.Engine - INFO - [cached since 0.002673s ago] (882,)
2025-05-11 07:16:07,773 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:07,773 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:07,773 - sqlalchemy.engine.Engine - INFO - [cached since 0.004332s ago] (883,)
2025-05-11 07:16:07,773 - sqlalchemy.engine.Engine - INFO - [cached since 0.004332s ago] (883,)
2025-05-11 07:16:07,775 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:07,775 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:07,775 - sqlalchemy.engine.Engine - INFO - [cached since 0.006111s ago] (884,)
2025-05-11 07:16:07,775 - sqlalchemy.engine.Engine - INFO - [cached since 0.006111s ago] (884,)
2025-05-11 07:16:07,776 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:07,776 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:07,777 - sqlalchemy.engine.Engine - INFO - [cached since 0.007579s ago] (885,)
2025-05-11 07:16:07,777 - sqlalchemy.engine.Engine - INFO - [cached since 0.007579s ago] (885,)
2025-05-11 07:16:07,780 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:16:07,780 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:16:07,781 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 177, '2025-05-11 07:16:07.780679', '2025-05-11 07:16:07.780684')
2025-05-11 07:16:07,781 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 177, '2025-05-11 07:16:07.780679', '2025-05-11 07:16:07.780684')
2025-05-11 07:16:07,782 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:16:07,782 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:16:07,782 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 177, '2025-05-11 07:16:07.780686', '2025-05-11 07:16:07.780689')
2025-05-11 07:16:07,782 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 177, '2025-05-11 07:16:07.780686', '2025-05-11 07:16:07.780689')
2025-05-11 07:16:07,783 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:16:07,783 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:16:07,783 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 177, '2025-05-11 07:16:07.780691', '2025-05-11 07:16:07.780694')
2025-05-11 07:16:07,783 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 177, '2025-05-11 07:16:07.780691', '2025-05-11 07:16:07.780694')
2025-05-11 07:16:07,784 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:16:07,784 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:16:07,784 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] [(530, 883), (530, 884), (531, 885), (529, 881), (529, 882)]
2025-05-11 07:16:07,784 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] [(530, 883), (530, 884), (531, 885), (529, 881), (529, 882)]
2025-05-11 07:16:07,785 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:07,785 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:07,792 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:07,792 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:07,794 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:16:07,794 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:16:07,794 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (529,)
2025-05-11 07:16:07,794 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (529,)
2025-05-11 07:16:07,796 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:16:07,796 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:16:07,796 - sqlalchemy.engine.Engine - INFO - [cached since 0.002245s ago] (530,)
2025-05-11 07:16:07,796 - sqlalchemy.engine.Engine - INFO - [cached since 0.002245s ago] (530,)
2025-05-11 07:16:07,797 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:16:07,797 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:16:07,798 - sqlalchemy.engine.Engine - INFO - [cached since 0.004046s ago] (531,)
2025-05-11 07:16:07,798 - sqlalchemy.engine.Engine - INFO - [cached since 0.004046s ago] (531,)
2025-05-11 07:16:07,801 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:16:07,801 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:16:07,801 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('9A', 177, 529, '2025-05-11 07:16:07.801068', '2025-05-11 07:16:07.801072')
2025-05-11 07:16:07,801 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('9A', 177, 529, '2025-05-11 07:16:07.801068', '2025-05-11 07:16:07.801072')
2025-05-11 07:16:07,802 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:07,802 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:07,807 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:07,807 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:07,808 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:16:07,808 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:16:07,808 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (177,)
2025-05-11 07:16:07,808 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (177,)
2025-05-11 07:16:07,809 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:16:07,809 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:16:07,809 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:16:07,809 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:16:07,922 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:16:07,922 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:16:12,052 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:12,052 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:12,053 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:16:12,053 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:16:12,053 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:12,053 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:12,055 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:16:12,055 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:16:12,055 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:12,055 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:12,056 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:16:12,056 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:16:12,056 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:12,056 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:12,057 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:16:12,057 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:16:12,057 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:12,057 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:12,058 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:16:12,058 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:16:12,058 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:12,058 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:12,059 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:16:12,059 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:16:12,059 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:12,059 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:12,060 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:16:12,060 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:16:12,060 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:12,060 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:12,060 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:16:12,060 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:16:12,060 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:12,060 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:12,061 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:16:12,061 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:16:12,061 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:12,061 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:12,062 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:12,062 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:12,063 - fastapi_app - INFO - Database models initialized
2025-05-11 07:16:12,063 - fastapi_app - INFO - Database models initialized
2025-05-11 07:16:12,063 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:16:12,063 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:16:12,085 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:12,085 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:12,086 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:16:12,086 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:16:12,087 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:16:12.086714', '2025-05-11 07:16:12.086720')
2025-05-11 07:16:12,087 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:16:12.086714', '2025-05-11 07:16:12.086720')
2025-05-11 07:16:12,088 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:12,088 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:12,096 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:12,096 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:12,098 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:16:12,098 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:16:12,098 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (178,)
2025-05-11 07:16:12,098 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (178,)
2025-05-11 07:16:12,100 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:12,100 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:12,101 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 178, '2025-05-11 07:16:12.100764', '2025-05-11 07:16:12.100770')
2025-05-11 07:16:12,101 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 178, '2025-05-11 07:16:12.100764', '2025-05-11 07:16:12.100770')
2025-05-11 07:16:12,102 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:12,102 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:12,102 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 178, '2025-05-11 07:16:12.100773', '2025-05-11 07:16:12.100775')
2025-05-11 07:16:12,102 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 178, '2025-05-11 07:16:12.100773', '2025-05-11 07:16:12.100775')
2025-05-11 07:16:12,103 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:12,103 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:12,103 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 178, '2025-05-11 07:16:12.100777', '2025-05-11 07:16:12.100779')
2025-05-11 07:16:12,103 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 178, '2025-05-11 07:16:12.100777', '2025-05-11 07:16:12.100779')
2025-05-11 07:16:12,103 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:12,103 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:12,104 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 178, '2025-05-11 07:16:12.100782', '2025-05-11 07:16:12.100784')
2025-05-11 07:16:12,104 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 178, '2025-05-11 07:16:12.100782', '2025-05-11 07:16:12.100784')
2025-05-11 07:16:12,104 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:12,104 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:12,104 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 178, '2025-05-11 07:16:12.100786', '2025-05-11 07:16:12.100789')
2025-05-11 07:16:12,104 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 178, '2025-05-11 07:16:12.100786', '2025-05-11 07:16:12.100789')
2025-05-11 07:16:12,105 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:12,105 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:12,109 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:12,109 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:12,110 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:12,110 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:12,110 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (886,)
2025-05-11 07:16:12,110 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (886,)
2025-05-11 07:16:12,112 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:12,112 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:12,112 - sqlalchemy.engine.Engine - INFO - [cached since 0.001689s ago] (887,)
2025-05-11 07:16:12,112 - sqlalchemy.engine.Engine - INFO - [cached since 0.001689s ago] (887,)
2025-05-11 07:16:12,113 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:12,113 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:12,113 - sqlalchemy.engine.Engine - INFO - [cached since 0.003137s ago] (888,)
2025-05-11 07:16:12,113 - sqlalchemy.engine.Engine - INFO - [cached since 0.003137s ago] (888,)
2025-05-11 07:16:12,114 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:12,114 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:12,114 - sqlalchemy.engine.Engine - INFO - [cached since 0.004313s ago] (889,)
2025-05-11 07:16:12,114 - sqlalchemy.engine.Engine - INFO - [cached since 0.004313s ago] (889,)
2025-05-11 07:16:12,115 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:12,115 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:12,116 - sqlalchemy.engine.Engine - INFO - [cached since 0.005567s ago] (890,)
2025-05-11 07:16:12,116 - sqlalchemy.engine.Engine - INFO - [cached since 0.005567s ago] (890,)
2025-05-11 07:16:12,118 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:16:12,118 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:16:12,118 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 178, '2025-05-11 07:16:12.118302', '2025-05-11 07:16:12.118307')
2025-05-11 07:16:12,118 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 178, '2025-05-11 07:16:12.118302', '2025-05-11 07:16:12.118307')
2025-05-11 07:16:12,119 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:16:12,119 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:16:12,119 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 178, '2025-05-11 07:16:12.118310', '2025-05-11 07:16:12.118312')
2025-05-11 07:16:12,119 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 178, '2025-05-11 07:16:12.118310', '2025-05-11 07:16:12.118312')
2025-05-11 07:16:12,120 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:16:12,120 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:16:12,120 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 178, '2025-05-11 07:16:12.118315', '2025-05-11 07:16:12.118317')
2025-05-11 07:16:12,120 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 178, '2025-05-11 07:16:12.118315', '2025-05-11 07:16:12.118317')
2025-05-11 07:16:12,121 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:16:12,121 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:16:12,122 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] [(533, 888), (533, 889), (534, 890), (532, 887), (532, 886)]
2025-05-11 07:16:12,122 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] [(533, 888), (533, 889), (534, 890), (532, 887), (532, 886)]
2025-05-11 07:16:12,123 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:12,123 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:12,127 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:12,127 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:12,128 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:16:12,128 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:16:12,128 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (532,)
2025-05-11 07:16:12,128 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (532,)
2025-05-11 07:16:12,130 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:16:12,130 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:16:12,130 - sqlalchemy.engine.Engine - INFO - [cached since 0.001844s ago] (533,)
2025-05-11 07:16:12,130 - sqlalchemy.engine.Engine - INFO - [cached since 0.001844s ago] (533,)
2025-05-11 07:16:12,132 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:16:12,132 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:16:12,132 - sqlalchemy.engine.Engine - INFO - [cached since 0.003797s ago] (534,)
2025-05-11 07:16:12,132 - sqlalchemy.engine.Engine - INFO - [cached since 0.003797s ago] (534,)
2025-05-11 07:16:12,134 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:16:12,134 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:16:12,134 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('9A', 178, 532, '2025-05-11 07:16:12.134011', '2025-05-11 07:16:12.134016')
2025-05-11 07:16:12,134 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('9A', 178, 532, '2025-05-11 07:16:12.134011', '2025-05-11 07:16:12.134016')
2025-05-11 07:16:12,135 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:12,135 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:12,139 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:12,139 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:12,140 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:16:12,140 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:16:12,141 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (178,)
2025-05-11 07:16:12,141 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (178,)
2025-05-11 07:16:12,141 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:16:12,141 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:16:12,142 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:16:12,142 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:16:12,250 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:16:12,250 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:16:49,139 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:49,139 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:49,140 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:16:49,140 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:16:49,140 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:49,140 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:49,143 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:16:49,143 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:16:49,143 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:49,143 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:49,144 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:16:49,144 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:16:49,145 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:49,145 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:49,146 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:16:49,146 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:16:49,146 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:49,146 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:49,147 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:16:49,147 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:16:49,147 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:49,147 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:49,148 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:16:49,148 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:16:49,148 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:49,148 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:49,149 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:16:49,149 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:16:49,150 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:49,150 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:49,151 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:16:49,151 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:16:49,151 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:49,151 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:49,152 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:16:49,152 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:16:49,152 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:49,152 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:16:49,153 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:49,153 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:49,154 - fastapi_app - INFO - Database models initialized
2025-05-11 07:16:49,154 - fastapi_app - INFO - Database models initialized
2025-05-11 07:16:49,155 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:16:49,155 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:16:49,184 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:49,184 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:49,186 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:16:49,186 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:16:49,187 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:16:49.186753', '2025-05-11 07:16:49.186761')
2025-05-11 07:16:49,187 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:16:49.186753', '2025-05-11 07:16:49.186761')
2025-05-11 07:16:49,189 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:49,189 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:49,195 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:49,195 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:49,198 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:16:49,198 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:16:49,199 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] (179,)
2025-05-11 07:16:49,199 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] (179,)
2025-05-11 07:16:49,202 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:49,202 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:49,202 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 179, '2025-05-11 07:16:49.202025', '2025-05-11 07:16:49.202031')
2025-05-11 07:16:49,202 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 179, '2025-05-11 07:16:49.202025', '2025-05-11 07:16:49.202031')
2025-05-11 07:16:49,204 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:49,204 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:49,204 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 179, '2025-05-11 07:16:49.202034', '2025-05-11 07:16:49.202037')
2025-05-11 07:16:49,204 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 179, '2025-05-11 07:16:49.202034', '2025-05-11 07:16:49.202037')
2025-05-11 07:16:49,204 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:49,204 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:49,204 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 179, '2025-05-11 07:16:49.202040', '2025-05-11 07:16:49.202043')
2025-05-11 07:16:49,204 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 179, '2025-05-11 07:16:49.202040', '2025-05-11 07:16:49.202043')
2025-05-11 07:16:49,205 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:49,205 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:49,205 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 179, '2025-05-11 07:16:49.202046', '2025-05-11 07:16:49.202048')
2025-05-11 07:16:49,205 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 179, '2025-05-11 07:16:49.202046', '2025-05-11 07:16:49.202048')
2025-05-11 07:16:49,206 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:49,206 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:16:49,206 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 179, '2025-05-11 07:16:49.202051', '2025-05-11 07:16:49.202054')
2025-05-11 07:16:49,206 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 179, '2025-05-11 07:16:49.202051', '2025-05-11 07:16:49.202054')
2025-05-11 07:16:49,208 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:49,208 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:49,213 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:49,213 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:49,214 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:49,214 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:49,215 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] (891,)
2025-05-11 07:16:49,215 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] (891,)
2025-05-11 07:16:49,217 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:49,217 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:49,218 - sqlalchemy.engine.Engine - INFO - [cached since 0.003455s ago] (892,)
2025-05-11 07:16:49,218 - sqlalchemy.engine.Engine - INFO - [cached since 0.003455s ago] (892,)
2025-05-11 07:16:49,222 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:49,222 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:49,222 - sqlalchemy.engine.Engine - INFO - [cached since 0.008037s ago] (893,)
2025-05-11 07:16:49,222 - sqlalchemy.engine.Engine - INFO - [cached since 0.008037s ago] (893,)
2025-05-11 07:16:49,225 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:49,225 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:49,225 - sqlalchemy.engine.Engine - INFO - [cached since 0.01096s ago] (894,)
2025-05-11 07:16:49,225 - sqlalchemy.engine.Engine - INFO - [cached since 0.01096s ago] (894,)
2025-05-11 07:16:49,228 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:49,228 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:16:49,228 - sqlalchemy.engine.Engine - INFO - [cached since 0.01379s ago] (895,)
2025-05-11 07:16:49,228 - sqlalchemy.engine.Engine - INFO - [cached since 0.01379s ago] (895,)
2025-05-11 07:16:49,233 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:16:49,233 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:16:49,233 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 179, '2025-05-11 07:16:49.232936', '2025-05-11 07:16:49.232943')
2025-05-11 07:16:49,233 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 179, '2025-05-11 07:16:49.232936', '2025-05-11 07:16:49.232943')
2025-05-11 07:16:49,234 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:16:49,234 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:16:49,235 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 179, '2025-05-11 07:16:49.232946', '2025-05-11 07:16:49.232948')
2025-05-11 07:16:49,235 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 179, '2025-05-11 07:16:49.232946', '2025-05-11 07:16:49.232948')
2025-05-11 07:16:49,235 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:16:49,235 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:16:49,235 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 179, '2025-05-11 07:16:49.232951', '2025-05-11 07:16:49.232954')
2025-05-11 07:16:49,235 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 179, '2025-05-11 07:16:49.232951', '2025-05-11 07:16:49.232954')
2025-05-11 07:16:49,237 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:16:49,237 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:16:49,237 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] [(537, 895), (535, 892), (535, 891), (536, 893), (536, 894)]
2025-05-11 07:16:49,237 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] [(537, 895), (535, 892), (535, 891), (536, 893), (536, 894)]
2025-05-11 07:16:49,239 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:49,239 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:49,244 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:49,244 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:49,245 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:16:49,245 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:16:49,245 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] (535,)
2025-05-11 07:16:49,245 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] (535,)
2025-05-11 07:16:49,251 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:16:49,251 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:16:49,251 - sqlalchemy.engine.Engine - INFO - [cached since 0.005847s ago] (536,)
2025-05-11 07:16:49,251 - sqlalchemy.engine.Engine - INFO - [cached since 0.005847s ago] (536,)
2025-05-11 07:16:49,253 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:16:49,253 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:16:49,254 - sqlalchemy.engine.Engine - INFO - [cached since 0.008579s ago] (537,)
2025-05-11 07:16:49,254 - sqlalchemy.engine.Engine - INFO - [cached since 0.008579s ago] (537,)
2025-05-11 07:16:49,257 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:16:49,257 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:16:49,257 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('9A', 179, 535, '2025-05-11 07:16:49.257417', '2025-05-11 07:16:49.257423')
2025-05-11 07:16:49,257 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('9A', 179, 535, '2025-05-11 07:16:49.257417', '2025-05-11 07:16:49.257423')
2025-05-11 07:16:49,260 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:49,260 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:16:49,265 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:49,265 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:16:49,267 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:16:49,267 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:16:49,267 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (179,)
2025-05-11 07:16:49,267 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (179,)
2025-05-11 07:16:49,268 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:16:49,268 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:16:49,268 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:16:49,268 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:16:49,408 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:16:49,408 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:17:46,913 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:17:46,913 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:17:46,914 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:17:46,914 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:17:46,914 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:17:46,914 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:17:46,915 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:17:46,915 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:17:46,915 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:17:46,915 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:17:46,916 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:17:46,916 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:17:46,916 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:17:46,916 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:17:46,917 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:17:46,917 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:17:46,917 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:17:46,917 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:17:46,918 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:17:46,918 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:17:46,918 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:17:46,918 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:17:46,919 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:17:46,919 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:17:46,919 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:17:46,919 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:17:46,920 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:17:46,920 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:17:46,920 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:17:46,920 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:17:46,920 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:17:46,920 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:17:46,921 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:17:46,921 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:17:46,921 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:17:46,921 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:17:46,921 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:17:46,921 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:17:46,922 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:17:46,922 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:17:46,923 - fastapi_app - INFO - Database models initialized
2025-05-11 07:17:46,923 - fastapi_app - INFO - Database models initialized
2025-05-11 07:17:46,924 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:17:46,924 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:17:46,944 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:17:46,944 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:17:46,945 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:17:46,945 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:17:46,946 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:17:46.945881', '2025-05-11 07:17:46.945886')
2025-05-11 07:17:46,946 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:17:46.945881', '2025-05-11 07:17:46.945886')
2025-05-11 07:17:46,947 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:17:46,947 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:17:46,954 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:17:46,954 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:17:46,957 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:17:46,957 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:17:46,957 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] (180,)
2025-05-11 07:17:46,957 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] (180,)
2025-05-11 07:17:46,960 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:17:46,960 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:17:46,960 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 180, '2025-05-11 07:17:46.960055', '2025-05-11 07:17:46.960063')
2025-05-11 07:17:46,960 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 180, '2025-05-11 07:17:46.960055', '2025-05-11 07:17:46.960063')
2025-05-11 07:17:46,961 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:17:46,961 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:17:46,962 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 180, '2025-05-11 07:17:46.960066', '2025-05-11 07:17:46.960069')
2025-05-11 07:17:46,962 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 180, '2025-05-11 07:17:46.960066', '2025-05-11 07:17:46.960069')
2025-05-11 07:17:46,963 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:17:46,963 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:17:46,963 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 180, '2025-05-11 07:17:46.960071', '2025-05-11 07:17:46.960075')
2025-05-11 07:17:46,963 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 180, '2025-05-11 07:17:46.960071', '2025-05-11 07:17:46.960075')
2025-05-11 07:17:46,963 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:17:46,963 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:17:46,963 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 180, '2025-05-11 07:17:46.960078', '2025-05-11 07:17:46.960081')
2025-05-11 07:17:46,963 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 180, '2025-05-11 07:17:46.960078', '2025-05-11 07:17:46.960081')
2025-05-11 07:17:46,964 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:17:46,964 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:17:46,964 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 180, '2025-05-11 07:17:46.960084', '2025-05-11 07:17:46.960087')
2025-05-11 07:17:46,964 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 180, '2025-05-11 07:17:46.960084', '2025-05-11 07:17:46.960087')
2025-05-11 07:17:46,965 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:17:46,965 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:17:46,970 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:17:46,970 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:17:46,971 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:17:46,971 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:17:46,971 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] (896,)
2025-05-11 07:17:46,971 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] (896,)
2025-05-11 07:17:46,972 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:17:46,972 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:17:46,973 - sqlalchemy.engine.Engine - INFO - [cached since 0.001966s ago] (897,)
2025-05-11 07:17:46,973 - sqlalchemy.engine.Engine - INFO - [cached since 0.001966s ago] (897,)
2025-05-11 07:17:46,974 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:17:46,974 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:17:46,974 - sqlalchemy.engine.Engine - INFO - [cached since 0.003505s ago] (898,)
2025-05-11 07:17:46,974 - sqlalchemy.engine.Engine - INFO - [cached since 0.003505s ago] (898,)
2025-05-11 07:17:46,975 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:17:46,975 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:17:46,975 - sqlalchemy.engine.Engine - INFO - [cached since 0.004781s ago] (899,)
2025-05-11 07:17:46,975 - sqlalchemy.engine.Engine - INFO - [cached since 0.004781s ago] (899,)
2025-05-11 07:17:46,976 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:17:46,976 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:17:46,977 - sqlalchemy.engine.Engine - INFO - [cached since 0.00602s ago] (900,)
2025-05-11 07:17:46,977 - sqlalchemy.engine.Engine - INFO - [cached since 0.00602s ago] (900,)
2025-05-11 07:17:46,979 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:17:46,979 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:17:46,980 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 180, '2025-05-11 07:17:46.979783', '2025-05-11 07:17:46.979787')
2025-05-11 07:17:46,980 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 180, '2025-05-11 07:17:46.979783', '2025-05-11 07:17:46.979787')
2025-05-11 07:17:46,981 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:17:46,981 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:17:46,981 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 180, '2025-05-11 07:17:46.979791', '2025-05-11 07:17:46.979793')
2025-05-11 07:17:46,981 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 180, '2025-05-11 07:17:46.979791', '2025-05-11 07:17:46.979793')
2025-05-11 07:17:46,981 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:17:46,981 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:17:46,981 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 180, '2025-05-11 07:17:46.979797', '2025-05-11 07:17:46.979800')
2025-05-11 07:17:46,981 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 180, '2025-05-11 07:17:46.979797', '2025-05-11 07:17:46.979800')
2025-05-11 07:17:46,983 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:17:46,983 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:17:46,983 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] [(539, 898), (539, 899), (540, 900), (538, 896), (538, 897)]
2025-05-11 07:17:46,983 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] [(539, 898), (539, 899), (540, 900), (538, 896), (538, 897)]
2025-05-11 07:17:46,984 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:17:46,984 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:17:46,989 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:17:46,989 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:17:46,990 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:17:46,990 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:17:46,990 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (538,)
2025-05-11 07:17:46,990 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (538,)
2025-05-11 07:17:46,992 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:17:46,992 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:17:46,992 - sqlalchemy.engine.Engine - INFO - [cached since 0.001905s ago] (539,)
2025-05-11 07:17:46,992 - sqlalchemy.engine.Engine - INFO - [cached since 0.001905s ago] (539,)
2025-05-11 07:17:46,993 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:17:46,993 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:17:46,993 - sqlalchemy.engine.Engine - INFO - [cached since 0.003217s ago] (540,)
2025-05-11 07:17:46,993 - sqlalchemy.engine.Engine - INFO - [cached since 0.003217s ago] (540,)
2025-05-11 07:17:46,995 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:17:46,995 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:17:46,995 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('9A', 180, 538, '2025-05-11 07:17:46.995476', '2025-05-11 07:17:46.995482')
2025-05-11 07:17:46,995 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('9A', 180, 538, '2025-05-11 07:17:46.995476', '2025-05-11 07:17:46.995482')
2025-05-11 07:17:46,996 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:17:46,996 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:17:47,000 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:17:47,000 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:17:47,001 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:17:47,001 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:17:47,002 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (180,)
2025-05-11 07:17:47,002 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (180,)
2025-05-11 07:17:47,002 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:17:47,002 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:17:47,003 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:17:47,003 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:17:47,108 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:17:47,108 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:19:00,091 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:00,091 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:00,092 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:19:00,092 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:19:00,092 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:00,092 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:00,094 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:19:00,094 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:19:00,094 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:00,094 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:00,094 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:19:00,094 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:19:00,094 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:00,094 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:00,095 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:19:00,095 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:19:00,095 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:00,095 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:00,096 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:19:00,096 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:19:00,096 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:00,096 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:00,097 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:19:00,097 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:19:00,098 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:00,098 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:00,098 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:19:00,098 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:19:00,098 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:00,098 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:00,099 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:19:00,099 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:19:00,099 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:00,099 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:00,099 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:19:00,099 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:19:00,099 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:00,099 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:00,100 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:19:00,100 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:19:00,101 - fastapi_app - INFO - Database models initialized
2025-05-11 07:19:00,101 - fastapi_app - INFO - Database models initialized
2025-05-11 07:19:00,101 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:19:00,101 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:19:00,123 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:00,123 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:00,125 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:19:00,125 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:19:00,125 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:19:00.125394', '2025-05-11 07:19:00.125400')
2025-05-11 07:19:00,125 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:19:00.125394', '2025-05-11 07:19:00.125400')
2025-05-11 07:19:00,127 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:19:00,127 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:19:00,132 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:00,132 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:00,135 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:19:00,135 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:19:00,135 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (181,)
2025-05-11 07:19:00,135 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (181,)
2025-05-11 07:19:00,137 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:19:00,137 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:19:00,137 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 181, '2025-05-11 07:19:00.137580', '2025-05-11 07:19:00.137583')
2025-05-11 07:19:00,137 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 181, '2025-05-11 07:19:00.137580', '2025-05-11 07:19:00.137583')
2025-05-11 07:19:00,139 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:19:00,139 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:19:00,139 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 181, '2025-05-11 07:19:00.137587', '2025-05-11 07:19:00.137590')
2025-05-11 07:19:00,139 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 181, '2025-05-11 07:19:00.137587', '2025-05-11 07:19:00.137590')
2025-05-11 07:19:00,140 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:19:00,140 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:19:00,140 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 181, '2025-05-11 07:19:00.137592', '2025-05-11 07:19:00.137594')
2025-05-11 07:19:00,140 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 181, '2025-05-11 07:19:00.137592', '2025-05-11 07:19:00.137594')
2025-05-11 07:19:00,141 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:19:00,141 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:19:00,141 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 181, '2025-05-11 07:19:00.137597', '2025-05-11 07:19:00.137600')
2025-05-11 07:19:00,141 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 181, '2025-05-11 07:19:00.137597', '2025-05-11 07:19:00.137600')
2025-05-11 07:19:00,141 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:19:00,141 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:19:00,141 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 181, '2025-05-11 07:19:00.137602', '2025-05-11 07:19:00.137605')
2025-05-11 07:19:00,141 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 181, '2025-05-11 07:19:00.137602', '2025-05-11 07:19:00.137605')
2025-05-11 07:19:00,142 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:19:00,142 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:19:00,146 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:00,146 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:00,147 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:19:00,147 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:19:00,148 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (901,)
2025-05-11 07:19:00,148 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (901,)
2025-05-11 07:19:00,149 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:19:00,149 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:19:00,149 - sqlalchemy.engine.Engine - INFO - [cached since 0.001927s ago] (902,)
2025-05-11 07:19:00,149 - sqlalchemy.engine.Engine - INFO - [cached since 0.001927s ago] (902,)
2025-05-11 07:19:00,150 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:19:00,150 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:19:00,151 - sqlalchemy.engine.Engine - INFO - [cached since 0.003264s ago] (903,)
2025-05-11 07:19:00,151 - sqlalchemy.engine.Engine - INFO - [cached since 0.003264s ago] (903,)
2025-05-11 07:19:00,152 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:19:00,152 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:19:00,152 - sqlalchemy.engine.Engine - INFO - [cached since 0.004727s ago] (904,)
2025-05-11 07:19:00,152 - sqlalchemy.engine.Engine - INFO - [cached since 0.004727s ago] (904,)
2025-05-11 07:19:00,153 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:19:00,153 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:19:00,154 - sqlalchemy.engine.Engine - INFO - [cached since 0.006183s ago] (905,)
2025-05-11 07:19:00,154 - sqlalchemy.engine.Engine - INFO - [cached since 0.006183s ago] (905,)
2025-05-11 07:19:00,156 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:19:00,156 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:19:00,157 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 181, '2025-05-11 07:19:00.156798', '2025-05-11 07:19:00.156803')
2025-05-11 07:19:00,157 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 181, '2025-05-11 07:19:00.156798', '2025-05-11 07:19:00.156803')
2025-05-11 07:19:00,158 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:19:00,158 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:19:00,158 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 181, '2025-05-11 07:19:00.156806', '2025-05-11 07:19:00.156809')
2025-05-11 07:19:00,158 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 181, '2025-05-11 07:19:00.156806', '2025-05-11 07:19:00.156809')
2025-05-11 07:19:00,158 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:19:00,158 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:19:00,159 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 181, '2025-05-11 07:19:00.156811', '2025-05-11 07:19:00.156813')
2025-05-11 07:19:00,159 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 181, '2025-05-11 07:19:00.156811', '2025-05-11 07:19:00.156813')
2025-05-11 07:19:00,160 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:19:00,160 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:19:00,160 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] [(542, 903), (542, 904), (543, 905), (541, 902), (541, 901)]
2025-05-11 07:19:00,160 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] [(542, 903), (542, 904), (543, 905), (541, 902), (541, 901)]
2025-05-11 07:19:00,162 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:19:00,162 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:19:00,166 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:00,166 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:00,167 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:19:00,167 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:19:00,168 - sqlalchemy.engine.Engine - INFO - [generated in 0.00066s] (541,)
2025-05-11 07:19:00,168 - sqlalchemy.engine.Engine - INFO - [generated in 0.00066s] (541,)
2025-05-11 07:19:00,169 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:19:00,169 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:19:00,169 - sqlalchemy.engine.Engine - INFO - [cached since 0.00245s ago] (542,)
2025-05-11 07:19:00,169 - sqlalchemy.engine.Engine - INFO - [cached since 0.00245s ago] (542,)
2025-05-11 07:19:00,170 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:19:00,170 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:19:00,170 - sqlalchemy.engine.Engine - INFO - [cached since 0.003623s ago] (543,)
2025-05-11 07:19:00,170 - sqlalchemy.engine.Engine - INFO - [cached since 0.003623s ago] (543,)
2025-05-11 07:19:00,173 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:19:00,173 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:19:00,173 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] ('9A', 181, 541, '2025-05-11 07:19:00.173171', '2025-05-11 07:19:00.173179')
2025-05-11 07:19:00,173 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] ('9A', 181, 541, '2025-05-11 07:19:00.173171', '2025-05-11 07:19:00.173179')
2025-05-11 07:19:00,175 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:19:00,175 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:19:00,178 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:00,178 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:00,179 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:19:00,179 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:19:00,180 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] (181,)
2025-05-11 07:19:00,180 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] (181,)
2025-05-11 07:19:00,181 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:19:00,181 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:19:00,181 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:19:00,181 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:19:00,301 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:19:00,301 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:19:16,272 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:16,272 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:16,273 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:19:16,273 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:19:16,273 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:16,273 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:16,275 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:19:16,275 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:19:16,275 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:16,275 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:16,276 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:19:16,276 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:19:16,276 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:16,276 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:16,277 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:19:16,277 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:19:16,277 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:16,277 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:16,278 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:19:16,278 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:19:16,278 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:16,278 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:16,279 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:19:16,279 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:19:16,279 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:16,279 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:16,279 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:19:16,279 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:19:16,280 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:16,280 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:16,280 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:19:16,280 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:19:16,280 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:16,280 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:16,281 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:19:16,281 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:19:16,281 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:16,281 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:19:16,282 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:19:16,282 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:19:16,283 - fastapi_app - INFO - Database models initialized
2025-05-11 07:19:16,283 - fastapi_app - INFO - Database models initialized
2025-05-11 07:19:16,283 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:19:16,283 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:19:16,301 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:16,301 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:16,302 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:19:16,302 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:19:16,303 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:19:16.302791', '2025-05-11 07:19:16.302797')
2025-05-11 07:19:16,303 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:19:16.302791', '2025-05-11 07:19:16.302797')
2025-05-11 07:19:16,304 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:19:16,304 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:19:16,311 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:16,311 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:16,313 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:19:16,313 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:19:16,313 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] (182,)
2025-05-11 07:19:16,313 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] (182,)
2025-05-11 07:19:16,316 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:19:16,316 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:19:16,316 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 182, '2025-05-11 07:19:16.316395', '2025-05-11 07:19:16.316401')
2025-05-11 07:19:16,316 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 182, '2025-05-11 07:19:16.316395', '2025-05-11 07:19:16.316401')
2025-05-11 07:19:16,318 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:19:16,318 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:19:16,318 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 182, '2025-05-11 07:19:16.316404', '2025-05-11 07:19:16.316407')
2025-05-11 07:19:16,318 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 182, '2025-05-11 07:19:16.316404', '2025-05-11 07:19:16.316407')
2025-05-11 07:19:16,319 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:19:16,319 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:19:16,319 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 182, '2025-05-11 07:19:16.316409', '2025-05-11 07:19:16.316411')
2025-05-11 07:19:16,319 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 182, '2025-05-11 07:19:16.316409', '2025-05-11 07:19:16.316411')
2025-05-11 07:19:16,320 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:19:16,320 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:19:16,320 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 182, '2025-05-11 07:19:16.316413', '2025-05-11 07:19:16.316416')
2025-05-11 07:19:16,320 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 182, '2025-05-11 07:19:16.316413', '2025-05-11 07:19:16.316416')
2025-05-11 07:19:16,320 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:19:16,320 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:19:16,320 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 182, '2025-05-11 07:19:16.316419', '2025-05-11 07:19:16.316421')
2025-05-11 07:19:16,320 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 182, '2025-05-11 07:19:16.316419', '2025-05-11 07:19:16.316421')
2025-05-11 07:19:16,321 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:19:16,321 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:19:16,327 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:16,327 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:16,328 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:19:16,328 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:19:16,328 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (906,)
2025-05-11 07:19:16,328 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (906,)
2025-05-11 07:19:16,330 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:19:16,330 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:19:16,330 - sqlalchemy.engine.Engine - INFO - [cached since 0.001919s ago] (907,)
2025-05-11 07:19:16,330 - sqlalchemy.engine.Engine - INFO - [cached since 0.001919s ago] (907,)
2025-05-11 07:19:16,331 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:19:16,331 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:19:16,331 - sqlalchemy.engine.Engine - INFO - [cached since 0.003325s ago] (908,)
2025-05-11 07:19:16,331 - sqlalchemy.engine.Engine - INFO - [cached since 0.003325s ago] (908,)
2025-05-11 07:19:16,332 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:19:16,332 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:19:16,332 - sqlalchemy.engine.Engine - INFO - [cached since 0.004491s ago] (909,)
2025-05-11 07:19:16,332 - sqlalchemy.engine.Engine - INFO - [cached since 0.004491s ago] (909,)
2025-05-11 07:19:16,334 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:19:16,334 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:19:16,334 - sqlalchemy.engine.Engine - INFO - [cached since 0.00594s ago] (910,)
2025-05-11 07:19:16,334 - sqlalchemy.engine.Engine - INFO - [cached since 0.00594s ago] (910,)
2025-05-11 07:19:16,337 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:19:16,337 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:19:16,337 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 182, '2025-05-11 07:19:16.337071', '2025-05-11 07:19:16.337076')
2025-05-11 07:19:16,337 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 182, '2025-05-11 07:19:16.337071', '2025-05-11 07:19:16.337076')
2025-05-11 07:19:16,338 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:19:16,338 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:19:16,338 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 182, '2025-05-11 07:19:16.337079', '2025-05-11 07:19:16.337081')
2025-05-11 07:19:16,338 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 182, '2025-05-11 07:19:16.337079', '2025-05-11 07:19:16.337081')
2025-05-11 07:19:16,339 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:19:16,339 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:19:16,339 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 182, '2025-05-11 07:19:16.337084', '2025-05-11 07:19:16.337086')
2025-05-11 07:19:16,339 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 182, '2025-05-11 07:19:16.337084', '2025-05-11 07:19:16.337086')
2025-05-11 07:19:16,340 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:19:16,340 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:19:16,340 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] [(545, 909), (546, 910), (544, 907), (544, 906), (545, 908)]
2025-05-11 07:19:16,340 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] [(545, 909), (546, 910), (544, 907), (544, 906), (545, 908)]
2025-05-11 07:19:16,341 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:19:16,341 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:19:16,345 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:16,345 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:16,347 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:19:16,347 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:19:16,347 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (544,)
2025-05-11 07:19:16,347 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (544,)
2025-05-11 07:19:16,348 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:19:16,348 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:19:16,348 - sqlalchemy.engine.Engine - INFO - [cached since 0.001585s ago] (545,)
2025-05-11 07:19:16,348 - sqlalchemy.engine.Engine - INFO - [cached since 0.001585s ago] (545,)
2025-05-11 07:19:16,349 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:19:16,349 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:19:16,349 - sqlalchemy.engine.Engine - INFO - [cached since 0.00268s ago] (546,)
2025-05-11 07:19:16,349 - sqlalchemy.engine.Engine - INFO - [cached since 0.00268s ago] (546,)
2025-05-11 07:19:16,351 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:19:16,351 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:19:16,352 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('9A', 182, 544, '2025-05-11 07:19:16.351764', '2025-05-11 07:19:16.351770')
2025-05-11 07:19:16,352 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('9A', 182, 544, '2025-05-11 07:19:16.351764', '2025-05-11 07:19:16.351770')
2025-05-11 07:19:16,353 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:19:16,353 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:19:16,357 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:16,357 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:19:16,358 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:19:16,358 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:19:16,358 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (182,)
2025-05-11 07:19:16,358 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (182,)
2025-05-11 07:19:16,359 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:19:16,359 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:19:16,360 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:19:16,360 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:19:16,474 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:19:16,474 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:20:00,961 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:00,961 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:00,961 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:20:00,961 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:20:00,961 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:00,961 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:00,963 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:20:00,963 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:20:00,963 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:00,963 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:00,964 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:20:00,964 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:20:00,964 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:00,964 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:00,964 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:20:00,964 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:20:00,964 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:00,964 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:00,965 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:20:00,965 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:20:00,965 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:00,965 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:00,966 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:20:00,966 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:20:00,967 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:00,967 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:00,968 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:20:00,968 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:20:00,968 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:00,968 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:00,969 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:20:00,969 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:20:00,969 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:00,969 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:00,970 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:20:00,970 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:20:00,970 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:00,970 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:00,971 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:00,971 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:00,972 - fastapi_app - INFO - Database models initialized
2025-05-11 07:20:00,972 - fastapi_app - INFO - Database models initialized
2025-05-11 07:20:00,972 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:20:00,972 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:20:00,997 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:00,997 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:00,999 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:20:00,999 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:20:00,999 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:20:00.998954', '2025-05-11 07:20:00.998962')
2025-05-11 07:20:00,999 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:20:00.998954', '2025-05-11 07:20:00.998962')
2025-05-11 07:20:01,001 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:01,001 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:01,008 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:01,008 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:01,011 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:20:01,011 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:20:01,011 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] (183,)
2025-05-11 07:20:01,011 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] (183,)
2025-05-11 07:20:01,015 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:01,015 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:01,015 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 183, '2025-05-11 07:20:01.015191', '2025-05-11 07:20:01.015196')
2025-05-11 07:20:01,015 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 183, '2025-05-11 07:20:01.015191', '2025-05-11 07:20:01.015196')
2025-05-11 07:20:01,016 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:01,016 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:01,016 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 183, '2025-05-11 07:20:01.015198', '2025-05-11 07:20:01.015201')
2025-05-11 07:20:01,016 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 183, '2025-05-11 07:20:01.015198', '2025-05-11 07:20:01.015201')
2025-05-11 07:20:01,017 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:01,017 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:01,017 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 183, '2025-05-11 07:20:01.015203', '2025-05-11 07:20:01.015206')
2025-05-11 07:20:01,017 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 183, '2025-05-11 07:20:01.015203', '2025-05-11 07:20:01.015206')
2025-05-11 07:20:01,017 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:01,017 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:01,018 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 183, '2025-05-11 07:20:01.015209', '2025-05-11 07:20:01.015211')
2025-05-11 07:20:01,018 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 183, '2025-05-11 07:20:01.015209', '2025-05-11 07:20:01.015211')
2025-05-11 07:20:01,018 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:01,018 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:01,019 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 183, '2025-05-11 07:20:01.015213', '2025-05-11 07:20:01.015216')
2025-05-11 07:20:01,019 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 183, '2025-05-11 07:20:01.015213', '2025-05-11 07:20:01.015216')
2025-05-11 07:20:01,020 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:01,020 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:01,025 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:01,025 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:01,026 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:01,026 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:01,026 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] (911,)
2025-05-11 07:20:01,026 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] (911,)
2025-05-11 07:20:01,028 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:01,028 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:01,028 - sqlalchemy.engine.Engine - INFO - [cached since 0.002668s ago] (912,)
2025-05-11 07:20:01,028 - sqlalchemy.engine.Engine - INFO - [cached since 0.002668s ago] (912,)
2025-05-11 07:20:01,030 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:01,030 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:01,030 - sqlalchemy.engine.Engine - INFO - [cached since 0.004171s ago] (913,)
2025-05-11 07:20:01,030 - sqlalchemy.engine.Engine - INFO - [cached since 0.004171s ago] (913,)
2025-05-11 07:20:01,032 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:01,032 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:01,032 - sqlalchemy.engine.Engine - INFO - [cached since 0.00605s ago] (914,)
2025-05-11 07:20:01,032 - sqlalchemy.engine.Engine - INFO - [cached since 0.00605s ago] (914,)
2025-05-11 07:20:01,033 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:01,033 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:01,033 - sqlalchemy.engine.Engine - INFO - [cached since 0.007101s ago] (915,)
2025-05-11 07:20:01,033 - sqlalchemy.engine.Engine - INFO - [cached since 0.007101s ago] (915,)
2025-05-11 07:20:01,036 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:01,036 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:01,036 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 183, '2025-05-11 07:20:01.036358', '2025-05-11 07:20:01.036363')
2025-05-11 07:20:01,036 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 183, '2025-05-11 07:20:01.036358', '2025-05-11 07:20:01.036363')
2025-05-11 07:20:01,038 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:01,038 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:01,038 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 183, '2025-05-11 07:20:01.036365', '2025-05-11 07:20:01.036366')
2025-05-11 07:20:01,038 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 183, '2025-05-11 07:20:01.036365', '2025-05-11 07:20:01.036366')
2025-05-11 07:20:01,039 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:01,039 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:01,039 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 183, '2025-05-11 07:20:01.036368', '2025-05-11 07:20:01.036371')
2025-05-11 07:20:01,039 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 183, '2025-05-11 07:20:01.036368', '2025-05-11 07:20:01.036371')
2025-05-11 07:20:01,041 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:20:01,041 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:20:01,041 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] [(548, 914), (549, 915), (547, 911), (547, 912), (548, 913)]
2025-05-11 07:20:01,041 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] [(548, 914), (549, 915), (547, 911), (547, 912), (548, 913)]
2025-05-11 07:20:01,043 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:01,043 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:01,047 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:01,047 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:01,049 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:01,049 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:01,049 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] (547,)
2025-05-11 07:20:01,049 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] (547,)
2025-05-11 07:20:01,051 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:01,051 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:01,051 - sqlalchemy.engine.Engine - INFO - [cached since 0.002044s ago] (548,)
2025-05-11 07:20:01,051 - sqlalchemy.engine.Engine - INFO - [cached since 0.002044s ago] (548,)
2025-05-11 07:20:01,052 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:01,052 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:01,053 - sqlalchemy.engine.Engine - INFO - [cached since 0.003758s ago] (549,)
2025-05-11 07:20:01,053 - sqlalchemy.engine.Engine - INFO - [cached since 0.003758s ago] (549,)
2025-05-11 07:20:01,055 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:20:01,055 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:20:01,055 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('9A', 183, 547, '2025-05-11 07:20:01.055185', '2025-05-11 07:20:01.055189')
2025-05-11 07:20:01,055 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('9A', 183, 547, '2025-05-11 07:20:01.055185', '2025-05-11 07:20:01.055189')
2025-05-11 07:20:01,056 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:01,056 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:01,061 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:01,061 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:01,062 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:20:01,062 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:20:01,062 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] (183,)
2025-05-11 07:20:01,062 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] (183,)
2025-05-11 07:20:01,064 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:20:01,064 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:20:01,064 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:20:01,064 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:20:01,182 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:20:01,182 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:20:09,483 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:09,483 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:09,483 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:20:09,483 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:20:09,483 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:09,483 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:09,484 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:20:09,484 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:20:09,485 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:09,485 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:09,486 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:20:09,486 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:20:09,486 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:09,486 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:09,486 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:20:09,486 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:20:09,487 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:09,487 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:09,487 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:20:09,487 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:20:09,487 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:09,487 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:09,488 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:20:09,488 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:20:09,488 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:09,488 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:09,489 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:20:09,489 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:20:09,489 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:09,489 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:09,489 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:20:09,489 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:20:09,489 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:09,489 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:09,490 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:20:09,490 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:20:09,490 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:09,490 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:09,491 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:09,491 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:09,492 - fastapi_app - INFO - Database models initialized
2025-05-11 07:20:09,492 - fastapi_app - INFO - Database models initialized
2025-05-11 07:20:09,492 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:20:09,492 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:20:09,513 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:09,513 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:09,515 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:20:09,515 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:20:09,515 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:20:09.514986', '2025-05-11 07:20:09.514992')
2025-05-11 07:20:09,515 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:20:09.514986', '2025-05-11 07:20:09.514992')
2025-05-11 07:20:09,516 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:09,516 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:09,522 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:09,522 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:09,523 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:20:09,523 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:20:09,524 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (184,)
2025-05-11 07:20:09,524 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (184,)
2025-05-11 07:20:09,526 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:09,526 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:09,527 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 184, '2025-05-11 07:20:09.526716', '2025-05-11 07:20:09.526720')
2025-05-11 07:20:09,527 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 184, '2025-05-11 07:20:09.526716', '2025-05-11 07:20:09.526720')
2025-05-11 07:20:09,528 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:09,528 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:09,529 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 184, '2025-05-11 07:20:09.526723', '2025-05-11 07:20:09.526726')
2025-05-11 07:20:09,529 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 184, '2025-05-11 07:20:09.526723', '2025-05-11 07:20:09.526726')
2025-05-11 07:20:09,530 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:09,530 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:09,530 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 184, '2025-05-11 07:20:09.526728', '2025-05-11 07:20:09.526731')
2025-05-11 07:20:09,530 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 184, '2025-05-11 07:20:09.526728', '2025-05-11 07:20:09.526731')
2025-05-11 07:20:09,531 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:09,531 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:09,531 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 184, '2025-05-11 07:20:09.526733', '2025-05-11 07:20:09.526735')
2025-05-11 07:20:09,531 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 184, '2025-05-11 07:20:09.526733', '2025-05-11 07:20:09.526735')
2025-05-11 07:20:09,532 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:09,532 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:09,532 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 184, '2025-05-11 07:20:09.526738', '2025-05-11 07:20:09.526740')
2025-05-11 07:20:09,532 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 184, '2025-05-11 07:20:09.526738', '2025-05-11 07:20:09.526740')
2025-05-11 07:20:09,533 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:09,533 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:09,538 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:09,538 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:09,539 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:09,539 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:09,539 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (916,)
2025-05-11 07:20:09,539 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (916,)
2025-05-11 07:20:09,541 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:09,541 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:09,542 - sqlalchemy.engine.Engine - INFO - [cached since 0.002447s ago] (917,)
2025-05-11 07:20:09,542 - sqlalchemy.engine.Engine - INFO - [cached since 0.002447s ago] (917,)
2025-05-11 07:20:09,543 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:09,543 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:09,543 - sqlalchemy.engine.Engine - INFO - [cached since 0.003772s ago] (918,)
2025-05-11 07:20:09,543 - sqlalchemy.engine.Engine - INFO - [cached since 0.003772s ago] (918,)
2025-05-11 07:20:09,544 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:09,544 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:09,544 - sqlalchemy.engine.Engine - INFO - [cached since 0.004692s ago] (919,)
2025-05-11 07:20:09,544 - sqlalchemy.engine.Engine - INFO - [cached since 0.004692s ago] (919,)
2025-05-11 07:20:09,545 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:09,545 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:09,545 - sqlalchemy.engine.Engine - INFO - [cached since 0.005922s ago] (920,)
2025-05-11 07:20:09,545 - sqlalchemy.engine.Engine - INFO - [cached since 0.005922s ago] (920,)
2025-05-11 07:20:09,548 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:09,548 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:09,548 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 184, '2025-05-11 07:20:09.548018', '2025-05-11 07:20:09.548024')
2025-05-11 07:20:09,548 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 184, '2025-05-11 07:20:09.548018', '2025-05-11 07:20:09.548024')
2025-05-11 07:20:09,549 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:09,549 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:09,549 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 184, '2025-05-11 07:20:09.548027', '2025-05-11 07:20:09.548028')
2025-05-11 07:20:09,549 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 184, '2025-05-11 07:20:09.548027', '2025-05-11 07:20:09.548028')
2025-05-11 07:20:09,549 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:09,549 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:09,549 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 184, '2025-05-11 07:20:09.548030', '2025-05-11 07:20:09.548032')
2025-05-11 07:20:09,549 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 184, '2025-05-11 07:20:09.548030', '2025-05-11 07:20:09.548032')
2025-05-11 07:20:09,550 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:20:09,550 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:20:09,551 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] [(551, 919), (552, 920), (550, 917), (550, 916), (551, 918)]
2025-05-11 07:20:09,551 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] [(551, 919), (552, 920), (550, 917), (550, 916), (551, 918)]
2025-05-11 07:20:09,552 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:09,552 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:09,555 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:09,555 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:09,556 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:09,556 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:09,556 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (550,)
2025-05-11 07:20:09,556 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (550,)
2025-05-11 07:20:09,558 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:09,558 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:09,558 - sqlalchemy.engine.Engine - INFO - [cached since 0.001678s ago] (551,)
2025-05-11 07:20:09,558 - sqlalchemy.engine.Engine - INFO - [cached since 0.001678s ago] (551,)
2025-05-11 07:20:09,559 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:09,559 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:09,559 - sqlalchemy.engine.Engine - INFO - [cached since 0.002846s ago] (552,)
2025-05-11 07:20:09,559 - sqlalchemy.engine.Engine - INFO - [cached since 0.002846s ago] (552,)
2025-05-11 07:20:09,561 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:20:09,561 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:20:09,561 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('9A', 184, 550, '2025-05-11 07:20:09.561011', '2025-05-11 07:20:09.561015')
2025-05-11 07:20:09,561 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('9A', 184, 550, '2025-05-11 07:20:09.561011', '2025-05-11 07:20:09.561015')
2025-05-11 07:20:09,562 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:09,562 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:09,566 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:09,566 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:09,566 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:20:09,566 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:20:09,567 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (184,)
2025-05-11 07:20:09,567 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (184,)
2025-05-11 07:20:09,568 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:20:09,568 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:20:09,568 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:20:09,568 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:20:09,674 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:20:09,674 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:20:29,986 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:29,986 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:29,987 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:20:29,987 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:20:29,987 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:29,987 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:29,988 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:20:29,988 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:20:29,989 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:29,989 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:29,989 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:20:29,989 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:20:29,989 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:29,989 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:29,990 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:20:29,990 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:20:29,990 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:29,990 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:29,991 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:20:29,991 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:20:29,992 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:29,992 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:29,992 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:20:29,992 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:20:29,992 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:29,992 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:29,993 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:20:29,993 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:20:29,993 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:29,993 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:29,994 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:20:29,994 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:20:29,994 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:29,994 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:29,994 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:20:29,994 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:20:29,994 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:29,994 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:29,995 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:29,995 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:29,996 - fastapi_app - INFO - Database models initialized
2025-05-11 07:20:29,996 - fastapi_app - INFO - Database models initialized
2025-05-11 07:20:29,996 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:20:29,996 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:20:30,015 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:30,015 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:30,017 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:20:30,017 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:20:30,017 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:20:30.016950', '2025-05-11 07:20:30.016957')
2025-05-11 07:20:30,017 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:20:30.016950', '2025-05-11 07:20:30.016957')
2025-05-11 07:20:30,018 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:30,018 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:30,023 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:30,023 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:30,025 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:20:30,025 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:20:30,026 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] (185,)
2025-05-11 07:20:30,026 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] (185,)
2025-05-11 07:20:30,028 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:30,028 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:30,028 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 185, '2025-05-11 07:20:30.028601', '2025-05-11 07:20:30.028606')
2025-05-11 07:20:30,028 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 185, '2025-05-11 07:20:30.028601', '2025-05-11 07:20:30.028606')
2025-05-11 07:20:30,030 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:30,030 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:30,030 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 185, '2025-05-11 07:20:30.028609', '2025-05-11 07:20:30.028611')
2025-05-11 07:20:30,030 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 185, '2025-05-11 07:20:30.028609', '2025-05-11 07:20:30.028611')
2025-05-11 07:20:30,031 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:30,031 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:30,031 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 185, '2025-05-11 07:20:30.028614', '2025-05-11 07:20:30.028616')
2025-05-11 07:20:30,031 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 185, '2025-05-11 07:20:30.028614', '2025-05-11 07:20:30.028616')
2025-05-11 07:20:30,032 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:30,032 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:30,032 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 185, '2025-05-11 07:20:30.028619', '2025-05-11 07:20:30.028622')
2025-05-11 07:20:30,032 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 185, '2025-05-11 07:20:30.028619', '2025-05-11 07:20:30.028622')
2025-05-11 07:20:30,033 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:30,033 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:30,033 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 185, '2025-05-11 07:20:30.028625', '2025-05-11 07:20:30.028627')
2025-05-11 07:20:30,033 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 185, '2025-05-11 07:20:30.028625', '2025-05-11 07:20:30.028627')
2025-05-11 07:20:30,034 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:30,034 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:30,038 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:30,038 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:30,039 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:30,039 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:30,039 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (921,)
2025-05-11 07:20:30,039 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (921,)
2025-05-11 07:20:30,041 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:30,041 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:30,041 - sqlalchemy.engine.Engine - INFO - [cached since 0.002271s ago] (922,)
2025-05-11 07:20:30,041 - sqlalchemy.engine.Engine - INFO - [cached since 0.002271s ago] (922,)
2025-05-11 07:20:30,043 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:30,043 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:30,043 - sqlalchemy.engine.Engine - INFO - [cached since 0.004202s ago] (923,)
2025-05-11 07:20:30,043 - sqlalchemy.engine.Engine - INFO - [cached since 0.004202s ago] (923,)
2025-05-11 07:20:30,044 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:30,044 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:30,044 - sqlalchemy.engine.Engine - INFO - [cached since 0.005341s ago] (924,)
2025-05-11 07:20:30,044 - sqlalchemy.engine.Engine - INFO - [cached since 0.005341s ago] (924,)
2025-05-11 07:20:30,045 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:30,045 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:30,046 - sqlalchemy.engine.Engine - INFO - [cached since 0.006485s ago] (925,)
2025-05-11 07:20:30,046 - sqlalchemy.engine.Engine - INFO - [cached since 0.006485s ago] (925,)
2025-05-11 07:20:30,048 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:30,048 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:30,049 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 185, '2025-05-11 07:20:30.048709', '2025-05-11 07:20:30.048715')
2025-05-11 07:20:30,049 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 185, '2025-05-11 07:20:30.048709', '2025-05-11 07:20:30.048715')
2025-05-11 07:20:30,050 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:30,050 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:30,050 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 185, '2025-05-11 07:20:30.048718', '2025-05-11 07:20:30.048721')
2025-05-11 07:20:30,050 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 185, '2025-05-11 07:20:30.048718', '2025-05-11 07:20:30.048721')
2025-05-11 07:20:30,051 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:30,051 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:30,051 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 185, '2025-05-11 07:20:30.048723', '2025-05-11 07:20:30.048726')
2025-05-11 07:20:30,051 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 185, '2025-05-11 07:20:30.048723', '2025-05-11 07:20:30.048726')
2025-05-11 07:20:30,052 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:20:30,052 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:20:30,052 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] [(553, 921), (554, 923), (554, 924), (555, 925), (553, 922)]
2025-05-11 07:20:30,052 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] [(553, 921), (554, 923), (554, 924), (555, 925), (553, 922)]
2025-05-11 07:20:30,053 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:30,053 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:30,057 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:30,057 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:30,058 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:30,058 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:30,059 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (553,)
2025-05-11 07:20:30,059 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (553,)
2025-05-11 07:20:30,060 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:30,060 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:30,060 - sqlalchemy.engine.Engine - INFO - [cached since 0.00166s ago] (554,)
2025-05-11 07:20:30,060 - sqlalchemy.engine.Engine - INFO - [cached since 0.00166s ago] (554,)
2025-05-11 07:20:30,061 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:30,061 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:30,061 - sqlalchemy.engine.Engine - INFO - [cached since 0.002847s ago] (555,)
2025-05-11 07:20:30,061 - sqlalchemy.engine.Engine - INFO - [cached since 0.002847s ago] (555,)
2025-05-11 07:20:30,063 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:20:30,063 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:20:30,063 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('9A', 185, 553, '2025-05-11 07:20:30.063251', '2025-05-11 07:20:30.063257')
2025-05-11 07:20:30,063 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('9A', 185, 553, '2025-05-11 07:20:30.063251', '2025-05-11 07:20:30.063257')
2025-05-11 07:20:30,065 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:30,065 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:30,069 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:30,069 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:30,070 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:20:30,070 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:20:30,071 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] (185,)
2025-05-11 07:20:30,071 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] (185,)
2025-05-11 07:20:30,072 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:20:30,072 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:20:30,072 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:20:30,072 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:20:30,195 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:20:30,195 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:20:53,641 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:53,641 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:53,641 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:20:53,641 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:20:53,641 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:53,641 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:53,642 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:20:53,642 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:20:53,643 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:53,643 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:53,643 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:20:53,643 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:20:53,643 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:53,643 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:53,644 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:20:53,644 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:20:53,644 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:53,644 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:53,645 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:20:53,645 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:20:53,645 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:53,645 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:53,646 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:20:53,646 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:20:53,646 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:53,646 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:53,646 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:20:53,646 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:20:53,647 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:53,647 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:53,647 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:20:53,647 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:20:53,647 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:53,647 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:53,648 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:20:53,648 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:20:53,648 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:53,648 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:20:53,650 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:53,650 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:53,650 - fastapi_app - INFO - Database models initialized
2025-05-11 07:20:53,650 - fastapi_app - INFO - Database models initialized
2025-05-11 07:20:53,650 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:20:53,650 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:20:53,670 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:53,670 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:53,671 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:20:53,671 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:20:53,672 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:20:53.671897', '2025-05-11 07:20:53.671903')
2025-05-11 07:20:53,672 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:20:53.671897', '2025-05-11 07:20:53.671903')
2025-05-11 07:20:53,673 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:53,673 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:53,679 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:53,679 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:53,682 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:20:53,682 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:20:53,683 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] (186,)
2025-05-11 07:20:53,683 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] (186,)
2025-05-11 07:20:53,686 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:53,686 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:53,686 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 186, '2025-05-11 07:20:53.686180', '2025-05-11 07:20:53.686186')
2025-05-11 07:20:53,686 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 186, '2025-05-11 07:20:53.686180', '2025-05-11 07:20:53.686186')
2025-05-11 07:20:53,687 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:53,687 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:53,688 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 186, '2025-05-11 07:20:53.686189', '2025-05-11 07:20:53.686191')
2025-05-11 07:20:53,688 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 186, '2025-05-11 07:20:53.686189', '2025-05-11 07:20:53.686191')
2025-05-11 07:20:53,688 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:53,688 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:53,689 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 186, '2025-05-11 07:20:53.686195', '2025-05-11 07:20:53.686197')
2025-05-11 07:20:53,689 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 186, '2025-05-11 07:20:53.686195', '2025-05-11 07:20:53.686197')
2025-05-11 07:20:53,689 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:53,689 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:53,689 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 186, '2025-05-11 07:20:53.686200', '2025-05-11 07:20:53.686203')
2025-05-11 07:20:53,689 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 186, '2025-05-11 07:20:53.686200', '2025-05-11 07:20:53.686203')
2025-05-11 07:20:53,690 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:53,690 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:20:53,690 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 186, '2025-05-11 07:20:53.686206', '2025-05-11 07:20:53.686208')
2025-05-11 07:20:53,690 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 186, '2025-05-11 07:20:53.686206', '2025-05-11 07:20:53.686208')
2025-05-11 07:20:53,691 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:53,691 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:53,695 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:53,695 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:53,696 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:53,696 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:53,697 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (926,)
2025-05-11 07:20:53,697 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (926,)
2025-05-11 07:20:53,698 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:53,698 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:53,698 - sqlalchemy.engine.Engine - INFO - [cached since 0.001897s ago] (927,)
2025-05-11 07:20:53,698 - sqlalchemy.engine.Engine - INFO - [cached since 0.001897s ago] (927,)
2025-05-11 07:20:53,700 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:53,700 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:53,700 - sqlalchemy.engine.Engine - INFO - [cached since 0.003521s ago] (928,)
2025-05-11 07:20:53,700 - sqlalchemy.engine.Engine - INFO - [cached since 0.003521s ago] (928,)
2025-05-11 07:20:53,701 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:53,701 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:53,701 - sqlalchemy.engine.Engine - INFO - [cached since 0.004981s ago] (929,)
2025-05-11 07:20:53,701 - sqlalchemy.engine.Engine - INFO - [cached since 0.004981s ago] (929,)
2025-05-11 07:20:53,703 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:53,703 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:20:53,703 - sqlalchemy.engine.Engine - INFO - [cached since 0.006556s ago] (930,)
2025-05-11 07:20:53,703 - sqlalchemy.engine.Engine - INFO - [cached since 0.006556s ago] (930,)
2025-05-11 07:20:53,705 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:53,705 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:53,706 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 186, '2025-05-11 07:20:53.705817', '2025-05-11 07:20:53.705822')
2025-05-11 07:20:53,706 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 186, '2025-05-11 07:20:53.705817', '2025-05-11 07:20:53.705822')
2025-05-11 07:20:53,707 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:53,707 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:53,707 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 186, '2025-05-11 07:20:53.705824', '2025-05-11 07:20:53.705827')
2025-05-11 07:20:53,707 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 186, '2025-05-11 07:20:53.705824', '2025-05-11 07:20:53.705827')
2025-05-11 07:20:53,707 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:53,707 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:20:53,708 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 186, '2025-05-11 07:20:53.705829', '2025-05-11 07:20:53.705831')
2025-05-11 07:20:53,708 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 186, '2025-05-11 07:20:53.705829', '2025-05-11 07:20:53.705831')
2025-05-11 07:20:53,709 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:20:53,709 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:20:53,709 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] [(557, 928), (557, 929), (558, 930), (556, 926), (556, 927)]
2025-05-11 07:20:53,709 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] [(557, 928), (557, 929), (558, 930), (556, 926), (556, 927)]
2025-05-11 07:20:53,710 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:53,710 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:53,714 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:53,714 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:53,715 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:53,715 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:53,716 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (556,)
2025-05-11 07:20:53,716 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (556,)
2025-05-11 07:20:53,717 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:53,717 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:53,717 - sqlalchemy.engine.Engine - INFO - [cached since 0.001835s ago] (557,)
2025-05-11 07:20:53,717 - sqlalchemy.engine.Engine - INFO - [cached since 0.001835s ago] (557,)
2025-05-11 07:20:53,718 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:53,718 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:20:53,718 - sqlalchemy.engine.Engine - INFO - [cached since 0.003203s ago] (558,)
2025-05-11 07:20:53,718 - sqlalchemy.engine.Engine - INFO - [cached since 0.003203s ago] (558,)
2025-05-11 07:20:53,720 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:20:53,720 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:20:53,721 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('9A', 186, 556, '2025-05-11 07:20:53.720689', '2025-05-11 07:20:53.720695')
2025-05-11 07:20:53,721 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('9A', 186, 556, '2025-05-11 07:20:53.720689', '2025-05-11 07:20:53.720695')
2025-05-11 07:20:53,722 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:53,722 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:20:53,726 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:53,726 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:20:53,727 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:20:53,727 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:20:53,727 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (186,)
2025-05-11 07:20:53,727 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (186,)
2025-05-11 07:20:53,728 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:20:53,728 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:20:53,728 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:20:53,728 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:20:53,832 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:20:53,832 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:21:22,385 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:22,385 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:22,386 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:21:22,386 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:21:22,386 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:22,386 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:22,387 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:21:22,387 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:21:22,388 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:22,388 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:22,389 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:21:22,389 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:21:22,389 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:22,389 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:22,389 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:21:22,389 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:21:22,390 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:22,390 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:22,391 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:21:22,391 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:21:22,391 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:22,391 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:22,392 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:21:22,392 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:21:22,393 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:22,393 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:22,394 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:21:22,394 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:21:22,394 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:22,394 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:22,395 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:21:22,395 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:21:22,395 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:22,395 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:22,396 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:21:22,396 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:21:22,396 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:22,396 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:22,397 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:21:22,397 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:21:22,398 - fastapi_app - INFO - Database models initialized
2025-05-11 07:21:22,398 - fastapi_app - INFO - Database models initialized
2025-05-11 07:21:22,399 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:21:22,399 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:21:22,430 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:22,430 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:22,433 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:21:22,433 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:21:22,433 - sqlalchemy.engine.Engine - INFO - [generated in 0.00070s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:21:22.432881', '2025-05-11 07:21:22.432891')
2025-05-11 07:21:22,433 - sqlalchemy.engine.Engine - INFO - [generated in 0.00070s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:21:22.432881', '2025-05-11 07:21:22.432891')
2025-05-11 07:21:22,435 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:21:22,435 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:21:22,443 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:22,443 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:22,447 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:21:22,447 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:21:22,447 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] (187,)
2025-05-11 07:21:22,447 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] (187,)
2025-05-11 07:21:22,452 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:21:22,452 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:21:22,452 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 187, '2025-05-11 07:21:22.452012', '2025-05-11 07:21:22.452017')
2025-05-11 07:21:22,452 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 187, '2025-05-11 07:21:22.452012', '2025-05-11 07:21:22.452017')
2025-05-11 07:21:22,455 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:21:22,455 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:21:22,455 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 187, '2025-05-11 07:21:22.452020', '2025-05-11 07:21:22.452023')
2025-05-11 07:21:22,455 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 187, '2025-05-11 07:21:22.452020', '2025-05-11 07:21:22.452023')
2025-05-11 07:21:22,457 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:21:22,457 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:21:22,457 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 187, '2025-05-11 07:21:22.452025', '2025-05-11 07:21:22.452027')
2025-05-11 07:21:22,457 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 187, '2025-05-11 07:21:22.452025', '2025-05-11 07:21:22.452027')
2025-05-11 07:21:22,458 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:21:22,458 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:21:22,458 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 187, '2025-05-11 07:21:22.452030', '2025-05-11 07:21:22.452032')
2025-05-11 07:21:22,458 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 187, '2025-05-11 07:21:22.452030', '2025-05-11 07:21:22.452032')
2025-05-11 07:21:22,458 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:21:22,458 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:21:22,459 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 187, '2025-05-11 07:21:22.452035', '2025-05-11 07:21:22.452038')
2025-05-11 07:21:22,459 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 187, '2025-05-11 07:21:22.452035', '2025-05-11 07:21:22.452038')
2025-05-11 07:21:22,460 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:21:22,460 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:21:22,464 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:22,464 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:22,466 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:21:22,466 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:21:22,466 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] (931,)
2025-05-11 07:21:22,466 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] (931,)
2025-05-11 07:21:22,468 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:21:22,468 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:21:22,469 - sqlalchemy.engine.Engine - INFO - [cached since 0.003279s ago] (932,)
2025-05-11 07:21:22,469 - sqlalchemy.engine.Engine - INFO - [cached since 0.003279s ago] (932,)
2025-05-11 07:21:22,471 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:21:22,471 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:21:22,471 - sqlalchemy.engine.Engine - INFO - [cached since 0.005659s ago] (933,)
2025-05-11 07:21:22,471 - sqlalchemy.engine.Engine - INFO - [cached since 0.005659s ago] (933,)
2025-05-11 07:21:22,473 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:21:22,473 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:21:22,473 - sqlalchemy.engine.Engine - INFO - [cached since 0.007598s ago] (934,)
2025-05-11 07:21:22,473 - sqlalchemy.engine.Engine - INFO - [cached since 0.007598s ago] (934,)
2025-05-11 07:21:22,475 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:21:22,475 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:21:22,475 - sqlalchemy.engine.Engine - INFO - [cached since 0.009931s ago] (935,)
2025-05-11 07:21:22,475 - sqlalchemy.engine.Engine - INFO - [cached since 0.009931s ago] (935,)
2025-05-11 07:21:22,479 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:21:22,479 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:21:22,479 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 187, '2025-05-11 07:21:22.479575', '2025-05-11 07:21:22.479578')
2025-05-11 07:21:22,479 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 187, '2025-05-11 07:21:22.479575', '2025-05-11 07:21:22.479578')
2025-05-11 07:21:22,480 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:21:22,480 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:21:22,481 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 187, '2025-05-11 07:21:22.479581', '2025-05-11 07:21:22.479583')
2025-05-11 07:21:22,481 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 187, '2025-05-11 07:21:22.479581', '2025-05-11 07:21:22.479583')
2025-05-11 07:21:22,481 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:21:22,481 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:21:22,481 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 187, '2025-05-11 07:21:22.479586', '2025-05-11 07:21:22.479588')
2025-05-11 07:21:22,481 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 187, '2025-05-11 07:21:22.479586', '2025-05-11 07:21:22.479588')
2025-05-11 07:21:22,483 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:21:22,483 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:21:22,483 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] [(560, 933), (560, 934), (561, 935), (559, 932), (559, 931)]
2025-05-11 07:21:22,483 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] [(560, 933), (560, 934), (561, 935), (559, 932), (559, 931)]
2025-05-11 07:21:22,485 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:21:22,485 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:21:22,490 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:22,490 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:22,491 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:21:22,491 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:21:22,491 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] (559,)
2025-05-11 07:21:22,491 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] (559,)
2025-05-11 07:21:22,493 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:21:22,493 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:21:22,493 - sqlalchemy.engine.Engine - INFO - [cached since 0.002588s ago] (560,)
2025-05-11 07:21:22,493 - sqlalchemy.engine.Engine - INFO - [cached since 0.002588s ago] (560,)
2025-05-11 07:21:22,494 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:21:22,494 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:21:22,495 - sqlalchemy.engine.Engine - INFO - [cached since 0.00434s ago] (561,)
2025-05-11 07:21:22,495 - sqlalchemy.engine.Engine - INFO - [cached since 0.00434s ago] (561,)
2025-05-11 07:21:22,498 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:21:22,498 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:21:22,498 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] ('9A', 187, 559, '2025-05-11 07:21:22.498405', '2025-05-11 07:21:22.498415')
2025-05-11 07:21:22,498 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] ('9A', 187, 559, '2025-05-11 07:21:22.498405', '2025-05-11 07:21:22.498415')
2025-05-11 07:21:22,500 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:21:22,500 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:21:22,504 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:22,504 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:22,505 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:21:22,505 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:21:22,506 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] (187,)
2025-05-11 07:21:22,506 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] (187,)
2025-05-11 07:21:22,507 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:21:22,507 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:21:22,507 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:21:22,507 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:21:22,649 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:21:22,649 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:21:29,662 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:29,662 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:29,663 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:21:29,663 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:21:29,663 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:29,663 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:29,664 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:21:29,664 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:21:29,664 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:29,664 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:29,665 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:21:29,665 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:21:29,665 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:29,665 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:29,666 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:21:29,666 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:21:29,666 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:29,666 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:29,667 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:21:29,667 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:21:29,668 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:29,668 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:29,669 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:21:29,669 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:21:29,669 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:29,669 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:29,670 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:21:29,670 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:21:29,670 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:29,670 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:29,671 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:21:29,671 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:21:29,672 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:29,672 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:29,672 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:21:29,672 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:21:29,673 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:29,673 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:21:29,674 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:21:29,674 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:21:29,675 - fastapi_app - INFO - Database models initialized
2025-05-11 07:21:29,675 - fastapi_app - INFO - Database models initialized
2025-05-11 07:21:29,676 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:21:29,676 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:21:29,705 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:29,705 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:29,707 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:21:29,707 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:21:29,707 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:21:29.707270', '2025-05-11 07:21:29.707278')
2025-05-11 07:21:29,707 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:21:29.707270', '2025-05-11 07:21:29.707278')
2025-05-11 07:21:29,709 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:21:29,709 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:21:29,715 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:29,715 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:29,718 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:21:29,718 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:21:29,719 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] (188,)
2025-05-11 07:21:29,719 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] (188,)
2025-05-11 07:21:29,722 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:21:29,722 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:21:29,722 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 188, '2025-05-11 07:21:29.722587', '2025-05-11 07:21:29.722597')
2025-05-11 07:21:29,722 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 188, '2025-05-11 07:21:29.722587', '2025-05-11 07:21:29.722597')
2025-05-11 07:21:29,724 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:21:29,724 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:21:29,724 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 188, '2025-05-11 07:21:29.722600', '2025-05-11 07:21:29.722603')
2025-05-11 07:21:29,724 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 188, '2025-05-11 07:21:29.722600', '2025-05-11 07:21:29.722603')
2025-05-11 07:21:29,725 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:21:29,725 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:21:29,725 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 188, '2025-05-11 07:21:29.722606', '2025-05-11 07:21:29.722608')
2025-05-11 07:21:29,725 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 188, '2025-05-11 07:21:29.722606', '2025-05-11 07:21:29.722608')
2025-05-11 07:21:29,725 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:21:29,725 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:21:29,726 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 188, '2025-05-11 07:21:29.722611', '2025-05-11 07:21:29.722613')
2025-05-11 07:21:29,726 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 188, '2025-05-11 07:21:29.722611', '2025-05-11 07:21:29.722613')
2025-05-11 07:21:29,726 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:21:29,726 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:21:29,726 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 188, '2025-05-11 07:21:29.722615', '2025-05-11 07:21:29.722618')
2025-05-11 07:21:29,726 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 188, '2025-05-11 07:21:29.722615', '2025-05-11 07:21:29.722618')
2025-05-11 07:21:29,727 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:21:29,727 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:21:29,732 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:29,732 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:29,733 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:21:29,733 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:21:29,734 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] (936,)
2025-05-11 07:21:29,734 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] (936,)
2025-05-11 07:21:29,736 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:21:29,736 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:21:29,736 - sqlalchemy.engine.Engine - INFO - [cached since 0.00271s ago] (937,)
2025-05-11 07:21:29,736 - sqlalchemy.engine.Engine - INFO - [cached since 0.00271s ago] (937,)
2025-05-11 07:21:29,737 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:21:29,737 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:21:29,738 - sqlalchemy.engine.Engine - INFO - [cached since 0.00452s ago] (938,)
2025-05-11 07:21:29,738 - sqlalchemy.engine.Engine - INFO - [cached since 0.00452s ago] (938,)
2025-05-11 07:21:29,740 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:21:29,740 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:21:29,740 - sqlalchemy.engine.Engine - INFO - [cached since 0.006636s ago] (939,)
2025-05-11 07:21:29,740 - sqlalchemy.engine.Engine - INFO - [cached since 0.006636s ago] (939,)
2025-05-11 07:21:29,741 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:21:29,741 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:21:29,742 - sqlalchemy.engine.Engine - INFO - [cached since 0.008238s ago] (940,)
2025-05-11 07:21:29,742 - sqlalchemy.engine.Engine - INFO - [cached since 0.008238s ago] (940,)
2025-05-11 07:21:29,745 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:21:29,745 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:21:29,746 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 188, '2025-05-11 07:21:29.745755', '2025-05-11 07:21:29.745766')
2025-05-11 07:21:29,746 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 188, '2025-05-11 07:21:29.745755', '2025-05-11 07:21:29.745766')
2025-05-11 07:21:29,748 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:21:29,748 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:21:29,748 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 188, '2025-05-11 07:21:29.745769', '2025-05-11 07:21:29.745771')
2025-05-11 07:21:29,748 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 188, '2025-05-11 07:21:29.745769', '2025-05-11 07:21:29.745771')
2025-05-11 07:21:29,749 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:21:29,749 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:21:29,749 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 188, '2025-05-11 07:21:29.745774', '2025-05-11 07:21:29.745777')
2025-05-11 07:21:29,749 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 188, '2025-05-11 07:21:29.745774', '2025-05-11 07:21:29.745777')
2025-05-11 07:21:29,751 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:21:29,751 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:21:29,751 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] [(562, 937), (562, 936), (563, 938), (563, 939), (564, 940)]
2025-05-11 07:21:29,751 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] [(562, 937), (562, 936), (563, 938), (563, 939), (564, 940)]
2025-05-11 07:21:29,753 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:21:29,753 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:21:29,758 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:29,758 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:29,759 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:21:29,759 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:21:29,759 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] (562,)
2025-05-11 07:21:29,759 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] (562,)
2025-05-11 07:21:29,761 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:21:29,761 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:21:29,761 - sqlalchemy.engine.Engine - INFO - [cached since 0.00252s ago] (563,)
2025-05-11 07:21:29,761 - sqlalchemy.engine.Engine - INFO - [cached since 0.00252s ago] (563,)
2025-05-11 07:21:29,763 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:21:29,763 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:21:29,763 - sqlalchemy.engine.Engine - INFO - [cached since 0.004751s ago] (564,)
2025-05-11 07:21:29,763 - sqlalchemy.engine.Engine - INFO - [cached since 0.004751s ago] (564,)
2025-05-11 07:21:29,766 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:21:29,766 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:21:29,766 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] ('9A', 188, 562, '2025-05-11 07:21:29.766109', '2025-05-11 07:21:29.766118')
2025-05-11 07:21:29,766 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] ('9A', 188, 562, '2025-05-11 07:21:29.766109', '2025-05-11 07:21:29.766118')
2025-05-11 07:21:29,768 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:21:29,768 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:21:29,772 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:29,772 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:29,773 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:21:29,773 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:21:29,774 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] (188,)
2025-05-11 07:21:29,774 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] (188,)
2025-05-11 07:21:29,775 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:21:29,775 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:21:29,775 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:21:29,775 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:21:29,934 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:21:29,934 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:21:32,209 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:32,209 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:21:32,213 - sqlalchemy.engine.Engine - INFO - SELECT student.id, student.uuid, student.name, student.class_id, student.created_at, student.updated_at 
FROM student 
WHERE student.uuid = ?
2025-05-11 07:21:32,213 - sqlalchemy.engine.Engine - INFO - SELECT student.id, student.uuid, student.name, student.class_id, student.created_at, student.updated_at 
FROM student 
WHERE student.uuid = ?
2025-05-11 07:21:32,214 - sqlalchemy.engine.Engine - INFO - [generated in 0.00078s] ('6f080a36a47a4e8b92274b83e4272f43',)
2025-05-11 07:21:32,214 - sqlalchemy.engine.Engine - INFO - [generated in 0.00078s] ('6f080a36a47a4e8b92274b83e4272f43',)
2025-05-11 07:21:32,220 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:21:32,220 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:22:32,125 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:22:32,125 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:22:32,125 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:22:32,125 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:22:32,125 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,125 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,126 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("teacher_subject")
2025-05-11 07:22:32,126 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("teacher_subject")
2025-05-11 07:22:32,126 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,126 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,127 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:22:32,127 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:22:32,127 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,127 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,128 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user")
2025-05-11 07:22:32,128 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user")
2025-05-11 07:22:32,128 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,128 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,129 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:22:32,129 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:22:32,129 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,129 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,130 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("school")
2025-05-11 07:22:32,130 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("school")
2025-05-11 07:22:32,130 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,130 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,131 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:22:32,131 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:22:32,131 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,131 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,131 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("subject")
2025-05-11 07:22:32,131 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("subject")
2025-05-11 07:22:32,131 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,131 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,132 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:22:32,132 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:22:32,132 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,132 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,133 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("teacher")
2025-05-11 07:22:32,133 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("teacher")
2025-05-11 07:22:32,133 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,133 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,134 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:22:32,134 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:22:32,134 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,134 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,134 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("class")
2025-05-11 07:22:32,134 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("class")
2025-05-11 07:22:32,134 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,134 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,135 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:22:32,135 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:22:32,135 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,135 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,136 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("student")
2025-05-11 07:22:32,136 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("student")
2025-05-11 07:22:32,136 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,136 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,136 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:22:32,136 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:22:32,137 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,137 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,137 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("grade")
2025-05-11 07:22:32,137 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("grade")
2025-05-11 07:22:32,137 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,137 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,138 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:22:32,138 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:22:32,138 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,138 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,139 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("attendance")
2025-05-11 07:22:32,139 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("attendance")
2025-05-11 07:22:32,139 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,139 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:22:32,142 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user (
	id INTEGER NOT NULL, 
	chat_id VARCHAR(100) NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	role VARCHAR(16) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (chat_id)
)


2025-05-11 07:22:32,142 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user (
	id INTEGER NOT NULL, 
	chat_id VARCHAR(100) NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	role VARCHAR(16) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (chat_id)
)


2025-05-11 07:22:32,142 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ()
2025-05-11 07:22:32,142 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ()
2025-05-11 07:22:32,149 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE school (
	id INTEGER NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	address VARCHAR(200) NOT NULL, 
	phone VARCHAR(20) NOT NULL, 
	email VARCHAR(100) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id)
)


2025-05-11 07:22:32,149 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE school (
	id INTEGER NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	address VARCHAR(200) NOT NULL, 
	phone VARCHAR(20) NOT NULL, 
	email VARCHAR(100) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id)
)


2025-05-11 07:22:32,150 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ()
2025-05-11 07:22:32,150 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ()
2025-05-11 07:22:32,154 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE subject (
	id INTEGER NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	school_id INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(school_id) REFERENCES school (id)
)


2025-05-11 07:22:32,154 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE subject (
	id INTEGER NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	school_id INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(school_id) REFERENCES school (id)
)


2025-05-11 07:22:32,154 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ()
2025-05-11 07:22:32,154 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ()
2025-05-11 07:22:32,159 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE teacher (
	id INTEGER NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	role VARCHAR(16) NOT NULL, 
	school_id INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(school_id) REFERENCES school (id)
)


2025-05-11 07:22:32,159 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE teacher (
	id INTEGER NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	role VARCHAR(16) NOT NULL, 
	school_id INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(school_id) REFERENCES school (id)
)


2025-05-11 07:22:32,159 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ()
2025-05-11 07:22:32,159 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ()
2025-05-11 07:22:32,164 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE teacher_subject (
	teacher_id INTEGER NOT NULL, 
	subject_id INTEGER NOT NULL, 
	PRIMARY KEY (teacher_id, subject_id), 
	FOREIGN KEY(teacher_id) REFERENCES teacher (id), 
	FOREIGN KEY(subject_id) REFERENCES subject (id)
)


2025-05-11 07:22:32,164 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE teacher_subject (
	teacher_id INTEGER NOT NULL, 
	subject_id INTEGER NOT NULL, 
	PRIMARY KEY (teacher_id, subject_id), 
	FOREIGN KEY(teacher_id) REFERENCES teacher (id), 
	FOREIGN KEY(subject_id) REFERENCES subject (id)
)


2025-05-11 07:22:32,165 - sqlalchemy.engine.Engine - INFO - [no key 0.00032s] ()
2025-05-11 07:22:32,165 - sqlalchemy.engine.Engine - INFO - [no key 0.00032s] ()
2025-05-11 07:22:32,170 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE class (
	id INTEGER NOT NULL, 
	name VARCHAR(50) NOT NULL, 
	school_id INTEGER NOT NULL, 
	homeroom_teacher_id INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(school_id) REFERENCES school (id), 
	FOREIGN KEY(homeroom_teacher_id) REFERENCES teacher (id)
)


2025-05-11 07:22:32,170 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE class (
	id INTEGER NOT NULL, 
	name VARCHAR(50) NOT NULL, 
	school_id INTEGER NOT NULL, 
	homeroom_teacher_id INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(school_id) REFERENCES school (id), 
	FOREIGN KEY(homeroom_teacher_id) REFERENCES teacher (id)
)


2025-05-11 07:22:32,170 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ()
2025-05-11 07:22:32,170 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ()
2025-05-11 07:22:32,177 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE student (
	id INTEGER NOT NULL, 
	uuid VARCHAR(36) NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	class_id INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (uuid), 
	FOREIGN KEY(class_id) REFERENCES class (id)
)


2025-05-11 07:22:32,177 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE student (
	id INTEGER NOT NULL, 
	uuid VARCHAR(36) NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	class_id INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (uuid), 
	FOREIGN KEY(class_id) REFERENCES class (id)
)


2025-05-11 07:22:32,177 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ()
2025-05-11 07:22:32,177 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ()
2025-05-11 07:22:32,182 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE grade (
	id INTEGER NOT NULL, 
	student_id INTEGER NOT NULL, 
	subject_id INTEGER NOT NULL, 
	value INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(student_id) REFERENCES student (id), 
	FOREIGN KEY(subject_id) REFERENCES subject (id)
)


2025-05-11 07:22:32,182 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE grade (
	id INTEGER NOT NULL, 
	student_id INTEGER NOT NULL, 
	subject_id INTEGER NOT NULL, 
	value INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(student_id) REFERENCES student (id), 
	FOREIGN KEY(subject_id) REFERENCES subject (id)
)


2025-05-11 07:22:32,183 - sqlalchemy.engine.Engine - INFO - [no key 0.00051s] ()
2025-05-11 07:22:32,183 - sqlalchemy.engine.Engine - INFO - [no key 0.00051s] ()
2025-05-11 07:22:32,188 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE attendance (
	id INTEGER NOT NULL, 
	student_id INTEGER NOT NULL, 
	date DATETIME NOT NULL, 
	status VARCHAR(7) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(student_id) REFERENCES student (id)
)


2025-05-11 07:22:32,188 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE attendance (
	id INTEGER NOT NULL, 
	student_id INTEGER NOT NULL, 
	date DATETIME NOT NULL, 
	status VARCHAR(7) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(student_id) REFERENCES student (id)
)


2025-05-11 07:22:32,189 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ()
2025-05-11 07:22:32,189 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ()
2025-05-11 07:22:32,193 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:22:32,193 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:22:32,194 - fastapi_app - INFO - Database models initialized
2025-05-11 07:22:32,194 - fastapi_app - INFO - Database models initialized
2025-05-11 07:22:32,195 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:22:32,195 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:22:32,215 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:22:32,215 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:22:32,216 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:22:32,216 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:22:32,217 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:22:32.216799', '2025-05-11 07:22:32.216805')
2025-05-11 07:22:32,217 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:22:32.216799', '2025-05-11 07:22:32.216805')
2025-05-11 07:22:32,218 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:22:32,218 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:22:32,222 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:22:32,222 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:22:32,224 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:22:32,224 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:22:32,224 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] (1,)
2025-05-11 07:22:32,224 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] (1,)
2025-05-11 07:22:32,227 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:22:32,227 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:22:32,227 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 1, '2025-05-11 07:22:32.227188', '2025-05-11 07:22:32.227193')
2025-05-11 07:22:32,227 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 1, '2025-05-11 07:22:32.227188', '2025-05-11 07:22:32.227193')
2025-05-11 07:22:32,228 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:22:32,228 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:22:32,228 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 1, '2025-05-11 07:22:32.227197', '2025-05-11 07:22:32.227200')
2025-05-11 07:22:32,228 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 1, '2025-05-11 07:22:32.227197', '2025-05-11 07:22:32.227200')
2025-05-11 07:22:32,229 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:22:32,229 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:22:32,229 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 1, '2025-05-11 07:22:32.227203', '2025-05-11 07:22:32.227206')
2025-05-11 07:22:32,229 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 1, '2025-05-11 07:22:32.227203', '2025-05-11 07:22:32.227206')
2025-05-11 07:22:32,229 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:22:32,229 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:22:32,230 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 1, '2025-05-11 07:22:32.227208', '2025-05-11 07:22:32.227211')
2025-05-11 07:22:32,230 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 1, '2025-05-11 07:22:32.227208', '2025-05-11 07:22:32.227211')
2025-05-11 07:22:32,230 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:22:32,230 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:22:32,230 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 1, '2025-05-11 07:22:32.227214', '2025-05-11 07:22:32.227217')
2025-05-11 07:22:32,230 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 1, '2025-05-11 07:22:32.227214', '2025-05-11 07:22:32.227217')
2025-05-11 07:22:32,231 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:22:32,231 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:22:32,235 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:22:32,235 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:22:32,236 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:22:32,236 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:22:32,236 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (1,)
2025-05-11 07:22:32,236 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (1,)
2025-05-11 07:22:32,237 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:22:32,237 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:22:32,238 - sqlalchemy.engine.Engine - INFO - [cached since 0.001486s ago] (2,)
2025-05-11 07:22:32,238 - sqlalchemy.engine.Engine - INFO - [cached since 0.001486s ago] (2,)
2025-05-11 07:22:32,239 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:22:32,239 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:22:32,239 - sqlalchemy.engine.Engine - INFO - [cached since 0.002761s ago] (3,)
2025-05-11 07:22:32,239 - sqlalchemy.engine.Engine - INFO - [cached since 0.002761s ago] (3,)
2025-05-11 07:22:32,240 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:22:32,240 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:22:32,240 - sqlalchemy.engine.Engine - INFO - [cached since 0.004023s ago] (4,)
2025-05-11 07:22:32,240 - sqlalchemy.engine.Engine - INFO - [cached since 0.004023s ago] (4,)
2025-05-11 07:22:32,241 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:22:32,241 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:22:32,242 - sqlalchemy.engine.Engine - INFO - [cached since 0.005521s ago] (5,)
2025-05-11 07:22:32,242 - sqlalchemy.engine.Engine - INFO - [cached since 0.005521s ago] (5,)
2025-05-11 07:22:32,244 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:22:32,244 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:22:32,244 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 1, '2025-05-11 07:22:32.244635', '2025-05-11 07:22:32.244640')
2025-05-11 07:22:32,244 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 1, '2025-05-11 07:22:32.244635', '2025-05-11 07:22:32.244640')
2025-05-11 07:22:32,246 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:22:32,246 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:22:32,246 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 1, '2025-05-11 07:22:32.244643', '2025-05-11 07:22:32.244646')
2025-05-11 07:22:32,246 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 1, '2025-05-11 07:22:32.244643', '2025-05-11 07:22:32.244646')
2025-05-11 07:22:32,246 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:22:32,246 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:22:32,246 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 1, '2025-05-11 07:22:32.244649', '2025-05-11 07:22:32.244652')
2025-05-11 07:22:32,246 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 1, '2025-05-11 07:22:32.244649', '2025-05-11 07:22:32.244652')
2025-05-11 07:22:32,247 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:22:32,247 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:22:32,248 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] [(2, 4), (3, 5), (1, 1), (1, 2), (2, 3)]
2025-05-11 07:22:32,248 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] [(2, 4), (3, 5), (1, 1), (1, 2), (2, 3)]
2025-05-11 07:22:32,249 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:22:32,249 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:22:32,253 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:22:32,253 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:22:32,254 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:22:32,254 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:22:32,254 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (1,)
2025-05-11 07:22:32,254 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (1,)
2025-05-11 07:22:32,255 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:22:32,255 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:22:32,255 - sqlalchemy.engine.Engine - INFO - [cached since 0.001686s ago] (2,)
2025-05-11 07:22:32,255 - sqlalchemy.engine.Engine - INFO - [cached since 0.001686s ago] (2,)
2025-05-11 07:22:32,257 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:22:32,257 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:22:32,257 - sqlalchemy.engine.Engine - INFO - [cached since 0.003067s ago] (3,)
2025-05-11 07:22:32,257 - sqlalchemy.engine.Engine - INFO - [cached since 0.003067s ago] (3,)
2025-05-11 07:22:32,258 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:22:32,258 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:22:32,259 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('9A', 1, 1, '2025-05-11 07:22:32.258795', '2025-05-11 07:22:32.258801')
2025-05-11 07:22:32,259 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('9A', 1, 1, '2025-05-11 07:22:32.258795', '2025-05-11 07:22:32.258801')
2025-05-11 07:22:32,260 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:22:32,260 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:22:32,263 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:22:32,263 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:22:32,264 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:22:32,264 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:22:32,264 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (1,)
2025-05-11 07:22:32,264 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (1,)
2025-05-11 07:22:32,265 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:22:32,265 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:22:32,266 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:22:32,266 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:22:32,379 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:22:32,379 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:23:09,280 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:09,280 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:09,282 - sqlalchemy.engine.Engine - INFO - SELECT student.id, student.uuid, student.name, student.class_id, student.created_at, student.updated_at 
FROM student 
WHERE student.uuid = ?
2025-05-11 07:23:09,282 - sqlalchemy.engine.Engine - INFO - SELECT student.id, student.uuid, student.name, student.class_id, student.created_at, student.updated_at 
FROM student 
WHERE student.uuid = ?
2025-05-11 07:23:09,282 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('6f080a36a47a4e8b92274b83e4272f43',)
2025-05-11 07:23:09,282 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('6f080a36a47a4e8b92274b83e4272f43',)
2025-05-11 07:23:09,284 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:23:09,284 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:23:52,754 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:52,754 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:52,754 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:23:52,754 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:23:52,754 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,754 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,756 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("teacher_subject")
2025-05-11 07:23:52,756 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("teacher_subject")
2025-05-11 07:23:52,756 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,756 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,757 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:23:52,757 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:23:52,757 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,757 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,758 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user")
2025-05-11 07:23:52,758 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user")
2025-05-11 07:23:52,759 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,759 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,759 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:23:52,759 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:23:52,760 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,760 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,761 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("school")
2025-05-11 07:23:52,761 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("school")
2025-05-11 07:23:52,761 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,761 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,762 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:23:52,762 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:23:52,762 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,762 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,763 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("subject")
2025-05-11 07:23:52,763 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("subject")
2025-05-11 07:23:52,764 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,764 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,765 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:23:52,765 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:23:52,765 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,765 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,766 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("teacher")
2025-05-11 07:23:52,766 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("teacher")
2025-05-11 07:23:52,766 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,766 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,767 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:23:52,767 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:23:52,769 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,769 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,769 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("class")
2025-05-11 07:23:52,769 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("class")
2025-05-11 07:23:52,770 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,770 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,771 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:23:52,771 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:23:52,771 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,771 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,772 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("student")
2025-05-11 07:23:52,772 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("student")
2025-05-11 07:23:52,772 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,772 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,773 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:23:52,773 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:23:52,773 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,773 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,774 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("grade")
2025-05-11 07:23:52,774 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("grade")
2025-05-11 07:23:52,775 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,775 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,776 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:23:52,776 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:23:52,776 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,776 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,777 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("attendance")
2025-05-11 07:23:52,777 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("attendance")
2025-05-11 07:23:52,777 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,777 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:52,784 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user (
	id INTEGER NOT NULL, 
	chat_id VARCHAR(100) NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	role VARCHAR(16) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (chat_id)
)


2025-05-11 07:23:52,784 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user (
	id INTEGER NOT NULL, 
	chat_id VARCHAR(100) NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	role VARCHAR(16) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (chat_id)
)


2025-05-11 07:23:52,784 - sqlalchemy.engine.Engine - INFO - [no key 0.00046s] ()
2025-05-11 07:23:52,784 - sqlalchemy.engine.Engine - INFO - [no key 0.00046s] ()
2025-05-11 07:23:52,790 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE school (
	id INTEGER NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	address VARCHAR(200) NOT NULL, 
	phone VARCHAR(20) NOT NULL, 
	email VARCHAR(100) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id)
)


2025-05-11 07:23:52,790 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE school (
	id INTEGER NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	address VARCHAR(200) NOT NULL, 
	phone VARCHAR(20) NOT NULL, 
	email VARCHAR(100) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id)
)


2025-05-11 07:23:52,791 - sqlalchemy.engine.Engine - INFO - [no key 0.00037s] ()
2025-05-11 07:23:52,791 - sqlalchemy.engine.Engine - INFO - [no key 0.00037s] ()
2025-05-11 07:23:52,796 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE subject (
	id INTEGER NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	school_id INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(school_id) REFERENCES school (id)
)


2025-05-11 07:23:52,796 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE subject (
	id INTEGER NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	school_id INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(school_id) REFERENCES school (id)
)


2025-05-11 07:23:52,797 - sqlalchemy.engine.Engine - INFO - [no key 0.00031s] ()
2025-05-11 07:23:52,797 - sqlalchemy.engine.Engine - INFO - [no key 0.00031s] ()
2025-05-11 07:23:52,802 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE teacher (
	id INTEGER NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	role VARCHAR(16) NOT NULL, 
	school_id INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(school_id) REFERENCES school (id)
)


2025-05-11 07:23:52,802 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE teacher (
	id INTEGER NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	role VARCHAR(16) NOT NULL, 
	school_id INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(school_id) REFERENCES school (id)
)


2025-05-11 07:23:52,802 - sqlalchemy.engine.Engine - INFO - [no key 0.00041s] ()
2025-05-11 07:23:52,802 - sqlalchemy.engine.Engine - INFO - [no key 0.00041s] ()
2025-05-11 07:23:52,809 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE teacher_subject (
	teacher_id INTEGER NOT NULL, 
	subject_id INTEGER NOT NULL, 
	PRIMARY KEY (teacher_id, subject_id), 
	FOREIGN KEY(teacher_id) REFERENCES teacher (id), 
	FOREIGN KEY(subject_id) REFERENCES subject (id)
)


2025-05-11 07:23:52,809 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE teacher_subject (
	teacher_id INTEGER NOT NULL, 
	subject_id INTEGER NOT NULL, 
	PRIMARY KEY (teacher_id, subject_id), 
	FOREIGN KEY(teacher_id) REFERENCES teacher (id), 
	FOREIGN KEY(subject_id) REFERENCES subject (id)
)


2025-05-11 07:23:52,809 - sqlalchemy.engine.Engine - INFO - [no key 0.00030s] ()
2025-05-11 07:23:52,809 - sqlalchemy.engine.Engine - INFO - [no key 0.00030s] ()
2025-05-11 07:23:52,815 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE class (
	id INTEGER NOT NULL, 
	name VARCHAR(50) NOT NULL, 
	school_id INTEGER NOT NULL, 
	homeroom_teacher_id INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(school_id) REFERENCES school (id), 
	FOREIGN KEY(homeroom_teacher_id) REFERENCES teacher (id)
)


2025-05-11 07:23:52,815 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE class (
	id INTEGER NOT NULL, 
	name VARCHAR(50) NOT NULL, 
	school_id INTEGER NOT NULL, 
	homeroom_teacher_id INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(school_id) REFERENCES school (id), 
	FOREIGN KEY(homeroom_teacher_id) REFERENCES teacher (id)
)


2025-05-11 07:23:52,816 - sqlalchemy.engine.Engine - INFO - [no key 0.00034s] ()
2025-05-11 07:23:52,816 - sqlalchemy.engine.Engine - INFO - [no key 0.00034s] ()
2025-05-11 07:23:52,821 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE student (
	id INTEGER NOT NULL, 
	uuid VARCHAR(36) NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	class_id INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (uuid), 
	FOREIGN KEY(class_id) REFERENCES class (id)
)


2025-05-11 07:23:52,821 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE student (
	id INTEGER NOT NULL, 
	uuid VARCHAR(36) NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	class_id INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (uuid), 
	FOREIGN KEY(class_id) REFERENCES class (id)
)


2025-05-11 07:23:52,822 - sqlalchemy.engine.Engine - INFO - [no key 0.00028s] ()
2025-05-11 07:23:52,822 - sqlalchemy.engine.Engine - INFO - [no key 0.00028s] ()
2025-05-11 07:23:52,827 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE grade (
	id INTEGER NOT NULL, 
	student_id INTEGER NOT NULL, 
	subject_id INTEGER NOT NULL, 
	value INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(student_id) REFERENCES student (id), 
	FOREIGN KEY(subject_id) REFERENCES subject (id)
)


2025-05-11 07:23:52,827 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE grade (
	id INTEGER NOT NULL, 
	student_id INTEGER NOT NULL, 
	subject_id INTEGER NOT NULL, 
	value INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(student_id) REFERENCES student (id), 
	FOREIGN KEY(subject_id) REFERENCES subject (id)
)


2025-05-11 07:23:52,827 - sqlalchemy.engine.Engine - INFO - [no key 0.00029s] ()
2025-05-11 07:23:52,827 - sqlalchemy.engine.Engine - INFO - [no key 0.00029s] ()
2025-05-11 07:23:52,832 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE attendance (
	id INTEGER NOT NULL, 
	student_id INTEGER NOT NULL, 
	date DATETIME NOT NULL, 
	status VARCHAR(7) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(student_id) REFERENCES student (id)
)


2025-05-11 07:23:52,832 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE attendance (
	id INTEGER NOT NULL, 
	student_id INTEGER NOT NULL, 
	date DATETIME NOT NULL, 
	status VARCHAR(7) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(student_id) REFERENCES student (id)
)


2025-05-11 07:23:52,832 - sqlalchemy.engine.Engine - INFO - [no key 0.00030s] ()
2025-05-11 07:23:52,832 - sqlalchemy.engine.Engine - INFO - [no key 0.00030s] ()
2025-05-11 07:23:52,837 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:52,837 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:52,838 - fastapi_app - INFO - Database models initialized
2025-05-11 07:23:52,838 - fastapi_app - INFO - Database models initialized
2025-05-11 07:23:52,838 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:23:52,838 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:23:52,858 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:52,858 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:52,859 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:23:52,859 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:23:52,859 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:23:52.859603', '2025-05-11 07:23:52.859609')
2025-05-11 07:23:52,859 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:23:52.859603', '2025-05-11 07:23:52.859609')
2025-05-11 07:23:52,861 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:52,861 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:52,865 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:52,865 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:52,867 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:23:52,867 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:23:52,868 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] (1,)
2025-05-11 07:23:52,868 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] (1,)
2025-05-11 07:23:52,870 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:52,870 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:52,871 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 1, '2025-05-11 07:23:52.870686', '2025-05-11 07:23:52.870691')
2025-05-11 07:23:52,871 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 1, '2025-05-11 07:23:52.870686', '2025-05-11 07:23:52.870691')
2025-05-11 07:23:52,872 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:52,872 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:52,872 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 1, '2025-05-11 07:23:52.870695', '2025-05-11 07:23:52.870698')
2025-05-11 07:23:52,872 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 1, '2025-05-11 07:23:52.870695', '2025-05-11 07:23:52.870698')
2025-05-11 07:23:52,873 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:52,873 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:52,873 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 1, '2025-05-11 07:23:52.870700', '2025-05-11 07:23:52.870703')
2025-05-11 07:23:52,873 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 1, '2025-05-11 07:23:52.870700', '2025-05-11 07:23:52.870703')
2025-05-11 07:23:52,873 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:52,873 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:52,874 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 1, '2025-05-11 07:23:52.870706', '2025-05-11 07:23:52.870708')
2025-05-11 07:23:52,874 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 1, '2025-05-11 07:23:52.870706', '2025-05-11 07:23:52.870708')
2025-05-11 07:23:52,874 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:52,874 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:52,874 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 1, '2025-05-11 07:23:52.870711', '2025-05-11 07:23:52.870713')
2025-05-11 07:23:52,874 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 1, '2025-05-11 07:23:52.870711', '2025-05-11 07:23:52.870713')
2025-05-11 07:23:52,875 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:52,875 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:52,879 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:52,879 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:52,880 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:52,880 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:52,880 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (1,)
2025-05-11 07:23:52,880 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (1,)
2025-05-11 07:23:52,881 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:52,881 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:52,882 - sqlalchemy.engine.Engine - INFO - [cached since 0.001807s ago] (2,)
2025-05-11 07:23:52,882 - sqlalchemy.engine.Engine - INFO - [cached since 0.001807s ago] (2,)
2025-05-11 07:23:52,883 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:52,883 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:52,883 - sqlalchemy.engine.Engine - INFO - [cached since 0.00296s ago] (3,)
2025-05-11 07:23:52,883 - sqlalchemy.engine.Engine - INFO - [cached since 0.00296s ago] (3,)
2025-05-11 07:23:52,884 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:52,884 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:52,884 - sqlalchemy.engine.Engine - INFO - [cached since 0.003987s ago] (4,)
2025-05-11 07:23:52,884 - sqlalchemy.engine.Engine - INFO - [cached since 0.003987s ago] (4,)
2025-05-11 07:23:52,885 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:52,885 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:52,885 - sqlalchemy.engine.Engine - INFO - [cached since 0.005172s ago] (5,)
2025-05-11 07:23:52,885 - sqlalchemy.engine.Engine - INFO - [cached since 0.005172s ago] (5,)
2025-05-11 07:23:52,887 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:23:52,887 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:23:52,888 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 1, '2025-05-11 07:23:52.887835', '2025-05-11 07:23:52.887840')
2025-05-11 07:23:52,888 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 1, '2025-05-11 07:23:52.887835', '2025-05-11 07:23:52.887840')
2025-05-11 07:23:52,889 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:23:52,889 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:23:52,889 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 1, '2025-05-11 07:23:52.887842', '2025-05-11 07:23:52.887845')
2025-05-11 07:23:52,889 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 1, '2025-05-11 07:23:52.887842', '2025-05-11 07:23:52.887845')
2025-05-11 07:23:52,889 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:23:52,889 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:23:52,890 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 1, '2025-05-11 07:23:52.887847', '2025-05-11 07:23:52.887849')
2025-05-11 07:23:52,890 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 1, '2025-05-11 07:23:52.887847', '2025-05-11 07:23:52.887849')
2025-05-11 07:23:52,891 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:23:52,891 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:23:52,891 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] [(2, 3), (2, 4), (1, 1), (3, 5), (1, 2)]
2025-05-11 07:23:52,891 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] [(2, 3), (2, 4), (1, 1), (3, 5), (1, 2)]
2025-05-11 07:23:52,892 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:52,892 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:52,896 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:52,896 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:52,896 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:23:52,896 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:23:52,897 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (1,)
2025-05-11 07:23:52,897 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (1,)
2025-05-11 07:23:52,898 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:23:52,898 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:23:52,898 - sqlalchemy.engine.Engine - INFO - [cached since 0.001835s ago] (2,)
2025-05-11 07:23:52,898 - sqlalchemy.engine.Engine - INFO - [cached since 0.001835s ago] (2,)
2025-05-11 07:23:52,899 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:23:52,899 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:23:52,899 - sqlalchemy.engine.Engine - INFO - [cached since 0.002995s ago] (3,)
2025-05-11 07:23:52,899 - sqlalchemy.engine.Engine - INFO - [cached since 0.002995s ago] (3,)
2025-05-11 07:23:52,901 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:23:52,901 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:23:52,901 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('9A', 1, 1, '2025-05-11 07:23:52.901279', '2025-05-11 07:23:52.901284')
2025-05-11 07:23:52,901 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('9A', 1, 1, '2025-05-11 07:23:52.901279', '2025-05-11 07:23:52.901284')
2025-05-11 07:23:52,902 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:52,902 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:52,906 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:52,906 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:52,907 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:23:52,907 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:23:52,907 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (1,)
2025-05-11 07:23:52,907 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (1,)
2025-05-11 07:23:52,908 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:23:52,908 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:23:52,908 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:23:52,908 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:23:53,025 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:23:53,025 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:23:54,220 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:54,220 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:54,221 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:23:54,221 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:23:54,221 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:54,221 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:54,222 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:23:54,222 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:23:54,222 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:54,222 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:54,223 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:23:54,223 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:23:54,223 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:54,223 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:54,224 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:23:54,224 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:23:54,224 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:54,224 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:54,225 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:23:54,225 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:23:54,225 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:54,225 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:54,226 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:23:54,226 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:23:54,226 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:54,226 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:54,227 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:23:54,227 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:23:54,227 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:54,227 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:54,228 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:23:54,228 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:23:54,228 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:54,228 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:54,229 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:23:54,229 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:23:54,229 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:54,229 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:54,230 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:54,230 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:54,231 - fastapi_app - INFO - Database models initialized
2025-05-11 07:23:54,231 - fastapi_app - INFO - Database models initialized
2025-05-11 07:23:54,231 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:23:54,231 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:23:54,254 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:54,254 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:54,256 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:23:54,256 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:23:54,256 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:23:54.256043', '2025-05-11 07:23:54.256050')
2025-05-11 07:23:54,256 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:23:54.256043', '2025-05-11 07:23:54.256050')
2025-05-11 07:23:54,257 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:54,257 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:54,263 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:54,263 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:54,265 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:23:54,265 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:23:54,265 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (2,)
2025-05-11 07:23:54,265 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (2,)
2025-05-11 07:23:54,268 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:54,268 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:54,268 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 2, '2025-05-11 07:23:54.268490', '2025-05-11 07:23:54.268496')
2025-05-11 07:23:54,268 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 2, '2025-05-11 07:23:54.268490', '2025-05-11 07:23:54.268496')
2025-05-11 07:23:54,269 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:54,269 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:54,270 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 2, '2025-05-11 07:23:54.268499', '2025-05-11 07:23:54.268503')
2025-05-11 07:23:54,270 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 2, '2025-05-11 07:23:54.268499', '2025-05-11 07:23:54.268503')
2025-05-11 07:23:54,270 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:54,270 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:54,270 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 2, '2025-05-11 07:23:54.268505', '2025-05-11 07:23:54.268508')
2025-05-11 07:23:54,270 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 2, '2025-05-11 07:23:54.268505', '2025-05-11 07:23:54.268508')
2025-05-11 07:23:54,271 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:54,271 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:54,271 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 2, '2025-05-11 07:23:54.268511', '2025-05-11 07:23:54.268513')
2025-05-11 07:23:54,271 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 2, '2025-05-11 07:23:54.268511', '2025-05-11 07:23:54.268513')
2025-05-11 07:23:54,272 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:54,272 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:54,272 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 2, '2025-05-11 07:23:54.268516', '2025-05-11 07:23:54.268518')
2025-05-11 07:23:54,272 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 2, '2025-05-11 07:23:54.268516', '2025-05-11 07:23:54.268518')
2025-05-11 07:23:54,273 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:54,273 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:54,277 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:54,277 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:54,278 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:54,278 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:54,278 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (6,)
2025-05-11 07:23:54,278 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (6,)
2025-05-11 07:23:54,279 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:54,279 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:54,279 - sqlalchemy.engine.Engine - INFO - [cached since 0.001701s ago] (7,)
2025-05-11 07:23:54,279 - sqlalchemy.engine.Engine - INFO - [cached since 0.001701s ago] (7,)
2025-05-11 07:23:54,281 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:54,281 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:54,281 - sqlalchemy.engine.Engine - INFO - [cached since 0.003174s ago] (8,)
2025-05-11 07:23:54,281 - sqlalchemy.engine.Engine - INFO - [cached since 0.003174s ago] (8,)
2025-05-11 07:23:54,282 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:54,282 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:54,282 - sqlalchemy.engine.Engine - INFO - [cached since 0.004383s ago] (9,)
2025-05-11 07:23:54,282 - sqlalchemy.engine.Engine - INFO - [cached since 0.004383s ago] (9,)
2025-05-11 07:23:54,283 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:54,283 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:54,283 - sqlalchemy.engine.Engine - INFO - [cached since 0.005618s ago] (10,)
2025-05-11 07:23:54,283 - sqlalchemy.engine.Engine - INFO - [cached since 0.005618s ago] (10,)
2025-05-11 07:23:54,286 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:23:54,286 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:23:54,286 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 2, '2025-05-11 07:23:54.286337', '2025-05-11 07:23:54.286343')
2025-05-11 07:23:54,286 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 2, '2025-05-11 07:23:54.286337', '2025-05-11 07:23:54.286343')
2025-05-11 07:23:54,287 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:23:54,287 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:23:54,287 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 2, '2025-05-11 07:23:54.286346', '2025-05-11 07:23:54.286348')
2025-05-11 07:23:54,287 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 2, '2025-05-11 07:23:54.286346', '2025-05-11 07:23:54.286348')
2025-05-11 07:23:54,288 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:23:54,288 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:23:54,288 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 2, '2025-05-11 07:23:54.286351', '2025-05-11 07:23:54.286354')
2025-05-11 07:23:54,288 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 2, '2025-05-11 07:23:54.286351', '2025-05-11 07:23:54.286354')
2025-05-11 07:23:54,289 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:23:54,289 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:23:54,289 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] [(6, 10), (4, 6), (5, 8), (4, 7), (5, 9)]
2025-05-11 07:23:54,289 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] [(6, 10), (4, 6), (5, 8), (4, 7), (5, 9)]
2025-05-11 07:23:54,291 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:54,291 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:54,294 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:54,294 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:54,295 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:23:54,295 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:23:54,295 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (4,)
2025-05-11 07:23:54,295 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (4,)
2025-05-11 07:23:54,296 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:23:54,296 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:23:54,297 - sqlalchemy.engine.Engine - INFO - [cached since 0.001702s ago] (5,)
2025-05-11 07:23:54,297 - sqlalchemy.engine.Engine - INFO - [cached since 0.001702s ago] (5,)
2025-05-11 07:23:54,298 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:23:54,298 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:23:54,298 - sqlalchemy.engine.Engine - INFO - [cached since 0.002842s ago] (6,)
2025-05-11 07:23:54,298 - sqlalchemy.engine.Engine - INFO - [cached since 0.002842s ago] (6,)
2025-05-11 07:23:54,300 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:23:54,300 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:23:54,300 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('9A', 2, 4, '2025-05-11 07:23:54.300230', '2025-05-11 07:23:54.300236')
2025-05-11 07:23:54,300 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('9A', 2, 4, '2025-05-11 07:23:54.300230', '2025-05-11 07:23:54.300236')
2025-05-11 07:23:54,301 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:54,301 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:54,305 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:54,305 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:54,306 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:23:54,306 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:23:54,306 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (2,)
2025-05-11 07:23:54,306 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (2,)
2025-05-11 07:23:54,307 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:23:54,307 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:23:54,307 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:23:54,307 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:23:54,422 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:23:54,422 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:23:59,751 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:59,751 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:59,752 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:23:59,752 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:23:59,752 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:59,752 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:59,754 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:23:59,754 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:23:59,754 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:59,754 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:59,755 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:23:59,755 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:23:59,755 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:59,755 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:59,756 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:23:59,756 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:23:59,756 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:59,756 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:59,757 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:23:59,757 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:23:59,757 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:59,757 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:59,758 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:23:59,758 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:23:59,758 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:59,758 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:59,759 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:23:59,759 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:23:59,759 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:59,759 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:59,760 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:23:59,760 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:23:59,760 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:59,760 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:59,761 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:23:59,761 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:23:59,761 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:59,761 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:23:59,762 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:59,762 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:59,763 - fastapi_app - INFO - Database models initialized
2025-05-11 07:23:59,763 - fastapi_app - INFO - Database models initialized
2025-05-11 07:23:59,763 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:23:59,763 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:23:59,789 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:59,789 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:59,791 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:23:59,791 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:23:59,791 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:23:59.791125', '2025-05-11 07:23:59.791130')
2025-05-11 07:23:59,791 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:23:59.791125', '2025-05-11 07:23:59.791130')
2025-05-11 07:23:59,792 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:59,792 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:59,799 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:59,799 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:59,801 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:23:59,801 - sqlalchemy.engine.Engine - INFO - SELECT school.id, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.id = ?
2025-05-11 07:23:59,801 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (3,)
2025-05-11 07:23:59,801 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (3,)
2025-05-11 07:23:59,804 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:59,804 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:59,804 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 3, '2025-05-11 07:23:59.804282', '2025-05-11 07:23:59.804286')
2025-05-11 07:23:59,804 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s (insertmanyvalues) 1/5 (ordered; batch not supported)] ('Mathematics', 3, '2025-05-11 07:23:59.804282', '2025-05-11 07:23:59.804286')
2025-05-11 07:23:59,805 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:59,805 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:59,806 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 3, '2025-05-11 07:23:59.804289', '2025-05-11 07:23:59.804291')
2025-05-11 07:23:59,806 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/5 (ordered; batch not supported)] ('Physics', 3, '2025-05-11 07:23:59.804289', '2025-05-11 07:23:59.804291')
2025-05-11 07:23:59,806 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:59,806 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:59,806 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 3, '2025-05-11 07:23:59.804294', '2025-05-11 07:23:59.804296')
2025-05-11 07:23:59,806 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/5 (ordered; batch not supported)] ('Chemistry', 3, '2025-05-11 07:23:59.804294', '2025-05-11 07:23:59.804296')
2025-05-11 07:23:59,807 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:59,807 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:59,807 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 3, '2025-05-11 07:23:59.804298', '2025-05-11 07:23:59.804301')
2025-05-11 07:23:59,807 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 4/5 (ordered; batch not supported)] ('Biology', 3, '2025-05-11 07:23:59.804298', '2025-05-11 07:23:59.804301')
2025-05-11 07:23:59,807 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:59,807 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (name, school_id, created_at, updated_at) VALUES (?, ?, ?, ?) RETURNING id
2025-05-11 07:23:59,807 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 3, '2025-05-11 07:23:59.804303', '2025-05-11 07:23:59.804306')
2025-05-11 07:23:59,807 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 5/5 (ordered; batch not supported)] ('English', 3, '2025-05-11 07:23:59.804303', '2025-05-11 07:23:59.804306')
2025-05-11 07:23:59,808 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:59,808 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:59,812 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:59,812 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:59,813 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:59,813 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:59,813 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (11,)
2025-05-11 07:23:59,813 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (11,)
2025-05-11 07:23:59,814 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:59,814 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:59,815 - sqlalchemy.engine.Engine - INFO - [cached since 0.001547s ago] (12,)
2025-05-11 07:23:59,815 - sqlalchemy.engine.Engine - INFO - [cached since 0.001547s ago] (12,)
2025-05-11 07:23:59,816 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:59,816 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:59,816 - sqlalchemy.engine.Engine - INFO - [cached since 0.002785s ago] (13,)
2025-05-11 07:23:59,816 - sqlalchemy.engine.Engine - INFO - [cached since 0.002785s ago] (13,)
2025-05-11 07:23:59,817 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:59,817 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:59,817 - sqlalchemy.engine.Engine - INFO - [cached since 0.004166s ago] (14,)
2025-05-11 07:23:59,817 - sqlalchemy.engine.Engine - INFO - [cached since 0.004166s ago] (14,)
2025-05-11 07:23:59,818 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:59,818 - sqlalchemy.engine.Engine - INFO - SELECT subject.id, subject.name, subject.school_id, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.id = ?
2025-05-11 07:23:59,819 - sqlalchemy.engine.Engine - INFO - [cached since 0.005508s ago] (15,)
2025-05-11 07:23:59,819 - sqlalchemy.engine.Engine - INFO - [cached since 0.005508s ago] (15,)
2025-05-11 07:23:59,821 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:23:59,821 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:23:59,821 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 3, '2025-05-11 07:23:59.821664', '2025-05-11 07:23:59.821668')
2025-05-11 07:23:59,821 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s (insertmanyvalues) 1/3 (ordered; batch not supported)] ('John Doe', 'homeroom_teacher', 3, '2025-05-11 07:23:59.821664', '2025-05-11 07:23:59.821668')
2025-05-11 07:23:59,822 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:23:59,822 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:23:59,822 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 3, '2025-05-11 07:23:59.821671', '2025-05-11 07:23:59.821673')
2025-05-11 07:23:59,822 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 2/3 (ordered; batch not supported)] ('Jane Smith', 'subject_teacher', 3, '2025-05-11 07:23:59.821671', '2025-05-11 07:23:59.821673')
2025-05-11 07:23:59,823 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:23:59,823 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher (name, role, school_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?) RETURNING id
2025-05-11 07:23:59,823 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 3, '2025-05-11 07:23:59.821675', '2025-05-11 07:23:59.821677')
2025-05-11 07:23:59,823 - sqlalchemy.engine.Engine - INFO - [insertmanyvalues 3/3 (ordered; batch not supported)] ('Bob Johnson', 'subject_teacher', 3, '2025-05-11 07:23:59.821675', '2025-05-11 07:23:59.821677')
2025-05-11 07:23:59,824 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:23:59,824 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_id, subject_id) VALUES (?, ?)
2025-05-11 07:23:59,825 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] [(8, 13), (8, 14), (9, 15), (7, 12), (7, 11)]
2025-05-11 07:23:59,825 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] [(8, 13), (8, 14), (9, 15), (7, 12), (7, 11)]
2025-05-11 07:23:59,826 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:59,826 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:59,830 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:59,830 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:59,831 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:23:59,831 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:23:59,831 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (7,)
2025-05-11 07:23:59,831 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (7,)
2025-05-11 07:23:59,832 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:23:59,832 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:23:59,832 - sqlalchemy.engine.Engine - INFO - [cached since 0.001545s ago] (8,)
2025-05-11 07:23:59,832 - sqlalchemy.engine.Engine - INFO - [cached since 0.001545s ago] (8,)
2025-05-11 07:23:59,833 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:23:59,833 - sqlalchemy.engine.Engine - INFO - SELECT teacher.id, teacher.name, teacher.role, teacher.school_id, teacher.created_at, teacher.updated_at 
FROM teacher 
WHERE teacher.id = ?
2025-05-11 07:23:59,834 - sqlalchemy.engine.Engine - INFO - [cached since 0.002712s ago] (9,)
2025-05-11 07:23:59,834 - sqlalchemy.engine.Engine - INFO - [cached since 0.002712s ago] (9,)
2025-05-11 07:23:59,836 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:23:59,836 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (name, school_id, homeroom_teacher_id, created_at, updated_at) VALUES (?, ?, ?, ?, ?)
2025-05-11 07:23:59,836 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('9A', 3, 7, '2025-05-11 07:23:59.836219', '2025-05-11 07:23:59.836229')
2025-05-11 07:23:59,836 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('9A', 3, 7, '2025-05-11 07:23:59.836219', '2025-05-11 07:23:59.836229')
2025-05-11 07:23:59,837 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:59,837 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:23:59,841 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:59,841 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:23:59,842 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:23:59,842 - sqlalchemy.engine.Engine - INFO - SELECT class.id, class.name, class.school_id, class.homeroom_teacher_id, class.created_at, class.updated_at 
FROM class 
WHERE class.id = ?
2025-05-11 07:23:59,842 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (3,)
2025-05-11 07:23:59,842 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (3,)
2025-05-11 07:23:59,843 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:23:59,843 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:23:59,844 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:23:59,844 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:23:59,956 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:23:59,956 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:24:08,303 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:24:08,303 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:24:08,305 - sqlalchemy.engine.Engine - INFO - SELECT student.id, student.uuid, student.name, student.class_id, student.created_at, student.updated_at 
FROM student 
WHERE student.uuid = ?
2025-05-11 07:24:08,305 - sqlalchemy.engine.Engine - INFO - SELECT student.id, student.uuid, student.name, student.class_id, student.created_at, student.updated_at 
FROM student 
WHERE student.uuid = ?
2025-05-11 07:24:08,306 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('6f080a36a47a4e8b92274b83e4272f43',)
2025-05-11 07:24:08,306 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('6f080a36a47a4e8b92274b83e4272f43',)
2025-05-11 07:24:08,308 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:24:08,308 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:24:12,840 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:24:12,840 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:24:12,854 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 07:24:12,854 - sqlalchemy.engine.Engine - INFO - SELECT users.uuid, users.chat_id, users.role, users.name, users.teacher_subjects, users.parent_children, users.created_at, users.updated_at 
FROM users 
WHERE users.chat_id = ?
2025-05-11 07:24:12,855 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] (896700645,)
2025-05-11 07:24:12,855 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] (896700645,)
2025-05-11 07:24:12,856 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:24:12,856 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:27:16,479 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:27:16,479 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:27:16,480 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:27:16,480 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:27:16,480 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,480 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,481 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:27:16,481 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:27:16,481 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,481 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,482 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("parent_child")
2025-05-11 07:27:16,482 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("parent_child")
2025-05-11 07:27:16,482 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,482 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,483 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:27:16,483 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:27:16,484 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,484 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,484 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_class")
2025-05-11 07:27:16,484 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_class")
2025-05-11 07:27:16,485 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,485 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,486 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:27:16,486 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:27:16,486 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,486 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,487 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:27:16,487 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:27:16,487 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,487 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,488 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:27:16,488 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:27:16,488 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,488 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,489 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:27:16,489 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:27:16,489 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,489 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,489 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:27:16,489 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:27:16,489 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,489 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,490 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:27:16,490 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:27:16,490 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,490 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,491 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:27:16,491 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:27:16,491 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,491 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,492 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:27:16,492 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:27:16,493 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,493 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:27:16,494 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE parent_child (
	parent_uuid UUID NOT NULL, 
	child_uuid UUID NOT NULL, 
	PRIMARY KEY (parent_uuid, child_uuid), 
	FOREIGN KEY(parent_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(child_uuid) REFERENCES user (uuid)
)


2025-05-11 07:27:16,494 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE parent_child (
	parent_uuid UUID NOT NULL, 
	child_uuid UUID NOT NULL, 
	PRIMARY KEY (parent_uuid, child_uuid), 
	FOREIGN KEY(parent_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(child_uuid) REFERENCES user (uuid)
)


2025-05-11 07:27:16,494 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ()
2025-05-11 07:27:16,494 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ()
2025-05-11 07:27:16,500 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_class (
	user_uuid UUID NOT NULL, 
	class_uuid UUID NOT NULL, 
	PRIMARY KEY (user_uuid, class_uuid), 
	FOREIGN KEY(user_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(class_uuid) REFERENCES class (uuid)
)


2025-05-11 07:27:16,500 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_class (
	user_uuid UUID NOT NULL, 
	class_uuid UUID NOT NULL, 
	PRIMARY KEY (user_uuid, class_uuid), 
	FOREIGN KEY(user_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(class_uuid) REFERENCES class (uuid)
)


2025-05-11 07:27:16,500 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ()
2025-05-11 07:27:16,500 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ()
2025-05-11 07:27:16,505 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:27:16,505 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:27:16,506 - fastapi_app - INFO - Database models initialized
2025-05-11 07:27:16,506 - fastapi_app - INFO - Database models initialized
2025-05-11 07:27:16,506 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:27:16,506 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:27:16,508 - tg_bot.setup.auto_init - ERROR - Error creating demo school: Could not determine join condition between parent/child tables on relationship User.grades - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-05-11 07:27:16,508 - tg_bot.setup.auto_init - ERROR - Error creating demo school: Could not determine join condition between parent/child tables on relationship User.grades - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-05-11 07:27:16,509 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:27:16,509 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:29:39,668 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:29:39,668 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:29:39,669 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:29:39,669 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:29:39,669 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:29:39,669 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:29:39,671 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:29:39,671 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:29:39,671 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:29:39,671 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:29:39,672 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:29:39,672 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:29:39,672 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:29:39,672 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:29:39,673 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:29:39,673 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:29:39,673 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:29:39,673 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:29:39,674 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:29:39,674 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:29:39,674 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:29:39,674 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:29:39,675 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:29:39,675 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:29:39,675 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:29:39,675 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:29:39,676 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:29:39,676 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:29:39,676 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:29:39,676 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:29:39,677 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:29:39,677 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:29:39,677 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:29:39,677 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:29:39,678 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:29:39,678 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:29:39,678 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:29:39,678 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:29:39,678 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:29:39,678 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:29:39,679 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:29:39,679 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:29:39,679 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:29:39,679 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:29:39,680 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:29:39,680 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:29:39,681 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:29:39,681 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:29:39,682 - fastapi_app - INFO - Database models initialized
2025-05-11 07:29:39,682 - fastapi_app - INFO - Database models initialized
2025-05-11 07:29:39,682 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:29:39,682 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:29:39,684 - tg_bot.setup.auto_init - ERROR - Error creating demo school: Could not determine join condition between parent/child tables on relationship User.grades - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-05-11 07:29:39,684 - tg_bot.setup.auto_init - ERROR - Error creating demo school: Could not determine join condition between parent/child tables on relationship User.grades - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-05-11 07:29:39,684 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:29:39,684 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:29:39,771 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:29:39,771 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:29:49,872 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:29:49,872 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:29:49,879 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:29:49,879 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:30:26,619 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:30:26,619 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:30:26,621 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:30:26,621 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:30:26,621 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:26,621 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:26,623 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:30:26,623 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:30:26,623 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:26,623 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:26,624 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:30:26,624 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:30:26,624 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:26,624 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:26,625 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:30:26,625 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:30:26,625 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:26,625 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:26,627 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:30:26,627 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:30:26,627 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:26,627 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:26,629 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:30:26,629 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:30:26,629 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:26,629 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:26,630 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:30:26,630 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:30:26,630 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:26,630 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:26,631 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:30:26,631 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:30:26,632 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:26,632 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:26,633 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:30:26,633 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:30:26,633 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:26,633 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:26,636 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:30:26,636 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:30:26,636 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:26,636 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:26,638 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:30:26,638 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:30:26,638 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:26,638 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:26,639 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:30:26,639 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:30:26,640 - fastapi_app - INFO - Database models initialized
2025-05-11 07:30:26,640 - fastapi_app - INFO - Database models initialized
2025-05-11 07:30:26,641 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:30:26,641 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:30:26,647 - tg_bot.setup.auto_init - ERROR - Error creating demo school: Could not determine join condition between parent/child tables on relationship User.managed_class - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-05-11 07:30:26,647 - tg_bot.setup.auto_init - ERROR - Error creating demo school: Could not determine join condition between parent/child tables on relationship User.managed_class - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-05-11 07:30:26,647 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:30:26,647 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:30:26,747 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:30:26,747 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:30:33,117 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:30:33,117 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:30:33,117 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:30:33,117 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:30:33,117 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:33,117 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:33,118 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:30:33,118 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:30:33,119 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:33,119 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:33,119 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:30:33,119 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:30:33,119 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:33,119 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:33,120 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:30:33,120 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:30:33,120 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:33,120 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:33,121 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:30:33,121 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:30:33,122 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:33,122 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:33,122 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:30:33,122 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:30:33,122 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:33,122 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:33,123 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:30:33,123 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:30:33,123 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:33,123 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:33,124 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:30:33,124 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:30:33,124 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:33,124 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:33,125 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:30:33,125 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:30:33,125 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:33,125 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:33,126 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:30:33,126 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:30:33,126 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:33,126 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:33,127 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:30:33,127 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:30:33,127 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:33,127 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:33,128 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:30:33,128 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:30:33,129 - fastapi_app - INFO - Database models initialized
2025-05-11 07:30:33,129 - fastapi_app - INFO - Database models initialized
2025-05-11 07:30:33,129 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:30:33,129 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:30:33,133 - tg_bot.setup.auto_init - ERROR - Error creating demo school: Could not determine join condition between parent/child tables on relationship User.managed_class - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-05-11 07:30:33,133 - tg_bot.setup.auto_init - ERROR - Error creating demo school: Could not determine join condition between parent/child tables on relationship User.managed_class - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-05-11 07:30:33,133 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:30:33,133 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:30:33,207 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:30:33,207 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:30:45,581 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:30:45,581 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:30:45,582 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:30:45,582 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:30:45,583 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:45,583 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:45,585 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:30:45,585 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:30:45,586 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:45,586 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:45,587 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:30:45,587 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:30:45,587 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:45,587 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:45,588 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:30:45,588 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:30:45,588 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:45,588 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:45,589 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:30:45,589 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:30:45,589 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:45,589 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:45,590 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:30:45,590 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:30:45,590 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:45,590 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:45,591 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:30:45,591 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:30:45,591 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:45,591 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:45,592 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:30:45,592 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:30:45,592 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:45,592 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:45,594 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:30:45,594 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:30:45,594 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:45,594 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:45,595 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:30:45,595 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:30:45,595 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:45,595 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:45,596 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:30:45,596 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:30:45,596 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:45,596 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:45,597 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:30:45,597 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:30:45,598 - fastapi_app - INFO - Database models initialized
2025-05-11 07:30:45,598 - fastapi_app - INFO - Database models initialized
2025-05-11 07:30:45,599 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:30:45,599 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:30:45,603 - tg_bot.setup.auto_init - ERROR - Error creating demo school: Could not determine join condition between parent/child tables on relationship User.managed_class - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-05-11 07:30:45,603 - tg_bot.setup.auto_init - ERROR - Error creating demo school: Could not determine join condition between parent/child tables on relationship User.managed_class - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-05-11 07:30:45,604 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:30:45,604 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:30:53,671 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:30:53,671 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:30:53,671 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:30:53,671 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:30:53,671 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:53,671 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:53,673 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:30:53,673 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:30:53,673 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:53,673 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:53,673 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:30:53,673 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:30:53,673 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:53,673 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:53,674 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:30:53,674 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:30:53,674 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:53,674 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:53,675 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:30:53,675 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:30:53,675 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:53,675 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:53,676 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:30:53,676 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:30:53,676 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:53,676 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:53,677 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:30:53,677 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:30:53,677 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:53,677 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:53,678 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:30:53,678 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:30:53,678 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:53,678 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:53,678 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:30:53,678 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:30:53,679 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:53,679 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:53,679 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:30:53,679 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:30:53,679 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:53,679 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:53,680 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:30:53,680 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:30:53,680 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:53,680 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:30:53,681 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:30:53,681 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:30:53,681 - fastapi_app - INFO - Database models initialized
2025-05-11 07:30:53,681 - fastapi_app - INFO - Database models initialized
2025-05-11 07:30:53,682 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:30:53,682 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:30:53,684 - tg_bot.setup.auto_init - ERROR - Error creating demo school: Could not determine join condition between parent/child tables on relationship User.managed_class - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-05-11 07:30:53,684 - tg_bot.setup.auto_init - ERROR - Error creating demo school: Could not determine join condition between parent/child tables on relationship User.managed_class - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-05-11 07:30:53,685 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:30:53,685 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:31:31,034 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:31:31,034 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:31:31,034 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:31:31,034 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:31:31,034 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:31:31,034 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:31:31,035 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:31:31,035 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:31:31,036 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:31:31,036 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:31:31,037 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:31:31,037 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:31:31,037 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:31:31,037 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:31:31,038 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:31:31,038 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:31:31,038 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:31:31,038 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:31:31,039 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:31:31,039 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:31:31,039 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:31:31,039 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:31:31,039 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:31:31,039 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:31:31,040 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:31:31,040 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:31:31,041 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:31:31,041 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:31:31,041 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:31:31,041 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:31:31,042 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:31:31,042 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:31:31,042 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:31:31,042 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:31:31,042 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:31:31,042 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:31:31,043 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:31:31,043 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:31:31,043 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:31:31,043 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:31:31,043 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:31:31,043 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:31:31,044 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:31:31,044 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:31:31,044 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:31:31,044 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:31:31,045 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:31:31,045 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:31:31,046 - fastapi_app - INFO - Database models initialized
2025-05-11 07:31:31,046 - fastapi_app - INFO - Database models initialized
2025-05-11 07:31:31,046 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:31:31,046 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:31:31,049 - tg_bot.setup.auto_init - ERROR - Error creating demo school: Could not determine join condition between parent/child tables on relationship User.managed_class - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-05-11 07:31:31,049 - tg_bot.setup.auto_init - ERROR - Error creating demo school: Could not determine join condition between parent/child tables on relationship User.managed_class - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-05-11 07:31:31,049 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:31:31,049 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:31:31,123 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:31:31,123 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:31:45,233 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:31:45,233 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:31:45,237 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:31:45,237 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:35:07,777 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:35:07,777 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:35:07,778 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:35:07,778 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:35:57,647 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:35:57,647 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:35:57,647 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:35:57,647 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:35:57,647 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,647 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,649 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("teacher_subject")
2025-05-11 07:35:57,649 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("teacher_subject")
2025-05-11 07:35:57,649 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,649 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,650 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:35:57,650 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:35:57,650 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,650 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,651 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("parent_child")
2025-05-11 07:35:57,651 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("parent_child")
2025-05-11 07:35:57,651 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,651 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,652 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:35:57,652 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:35:57,652 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,652 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,653 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_class")
2025-05-11 07:35:57,653 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_class")
2025-05-11 07:35:57,653 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,653 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,654 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:35:57,654 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:35:57,654 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,654 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,654 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user")
2025-05-11 07:35:57,654 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user")
2025-05-11 07:35:57,655 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,655 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,655 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:35:57,655 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:35:57,655 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,655 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,656 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("school")
2025-05-11 07:35:57,656 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("school")
2025-05-11 07:35:57,656 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,656 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,657 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:35:57,657 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:35:57,657 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,657 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,657 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("subject")
2025-05-11 07:35:57,657 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("subject")
2025-05-11 07:35:57,658 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,658 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,658 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:35:57,658 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:35:57,658 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,658 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,659 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("teacher")
2025-05-11 07:35:57,659 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("teacher")
2025-05-11 07:35:57,659 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,659 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,660 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:35:57,660 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:35:57,660 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,660 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,661 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("class")
2025-05-11 07:35:57,661 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("class")
2025-05-11 07:35:57,661 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,661 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,662 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:35:57,662 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:35:57,662 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,662 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,663 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("student")
2025-05-11 07:35:57,663 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("student")
2025-05-11 07:35:57,663 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,663 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,663 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:35:57,663 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:35:57,664 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,664 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,664 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("grade")
2025-05-11 07:35:57,664 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("grade")
2025-05-11 07:35:57,665 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,665 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,665 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:35:57,665 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:35:57,665 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,665 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,666 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("attendance")
2025-05-11 07:35:57,666 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("attendance")
2025-05-11 07:35:57,666 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,666 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:35:57,668 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user (
	uuid UUID NOT NULL, 
	chat_id INTEGER NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	role VARCHAR(16) NOT NULL, 
	teacher_subjects JSON, 
	parent_children JSON, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	UNIQUE (chat_id)
)


2025-05-11 07:35:57,668 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user (
	uuid UUID NOT NULL, 
	chat_id INTEGER NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	role VARCHAR(16) NOT NULL, 
	teacher_subjects JSON, 
	parent_children JSON, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	UNIQUE (chat_id)
)


2025-05-11 07:35:57,669 - sqlalchemy.engine.Engine - INFO - [no key 0.00035s] ()
2025-05-11 07:35:57,669 - sqlalchemy.engine.Engine - INFO - [no key 0.00035s] ()
2025-05-11 07:35:57,674 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE school (
	uuid UUID NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	address VARCHAR(200) NOT NULL, 
	phone VARCHAR(20) NOT NULL, 
	email VARCHAR(100) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid)
)


2025-05-11 07:35:57,674 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE school (
	uuid UUID NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	address VARCHAR(200) NOT NULL, 
	phone VARCHAR(20) NOT NULL, 
	email VARCHAR(100) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid)
)


2025-05-11 07:35:57,674 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ()
2025-05-11 07:35:57,674 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ()
2025-05-11 07:35:57,680 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE parent_child (
	parent_uuid UUID NOT NULL, 
	child_uuid UUID NOT NULL, 
	PRIMARY KEY (parent_uuid, child_uuid), 
	FOREIGN KEY(parent_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(child_uuid) REFERENCES user (uuid)
)


2025-05-11 07:35:57,680 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE parent_child (
	parent_uuid UUID NOT NULL, 
	child_uuid UUID NOT NULL, 
	PRIMARY KEY (parent_uuid, child_uuid), 
	FOREIGN KEY(parent_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(child_uuid) REFERENCES user (uuid)
)


2025-05-11 07:35:57,680 - sqlalchemy.engine.Engine - INFO - [no key 0.00026s] ()
2025-05-11 07:35:57,680 - sqlalchemy.engine.Engine - INFO - [no key 0.00026s] ()
2025-05-11 07:35:57,686 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE teacher (
	uuid UUID NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	role VARCHAR(16) NOT NULL, 
	school_uuid UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid)
)


2025-05-11 07:35:57,686 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE teacher (
	uuid UUID NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	role VARCHAR(16) NOT NULL, 
	school_uuid UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid)
)


2025-05-11 07:35:57,686 - sqlalchemy.engine.Engine - INFO - [no key 0.00039s] ()
2025-05-11 07:35:57,686 - sqlalchemy.engine.Engine - INFO - [no key 0.00039s] ()
2025-05-11 07:35:57,692 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE class (
	uuid UUID NOT NULL, 
	name VARCHAR(50) NOT NULL, 
	start_year INTEGER NOT NULL, 
	school_uuid UUID NOT NULL, 
	homeroom_teacher_uuid UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid), 
	FOREIGN KEY(homeroom_teacher_uuid) REFERENCES teacher (uuid)
)


2025-05-11 07:35:57,692 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE class (
	uuid UUID NOT NULL, 
	name VARCHAR(50) NOT NULL, 
	start_year INTEGER NOT NULL, 
	school_uuid UUID NOT NULL, 
	homeroom_teacher_uuid UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid), 
	FOREIGN KEY(homeroom_teacher_uuid) REFERENCES teacher (uuid)
)


2025-05-11 07:35:57,692 - sqlalchemy.engine.Engine - INFO - [no key 0.00045s] ()
2025-05-11 07:35:57,692 - sqlalchemy.engine.Engine - INFO - [no key 0.00045s] ()
2025-05-11 07:35:57,698 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_class (
	user_uuid UUID NOT NULL, 
	class_uuid UUID NOT NULL, 
	PRIMARY KEY (user_uuid, class_uuid), 
	FOREIGN KEY(user_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(class_uuid) REFERENCES class (uuid)
)


2025-05-11 07:35:57,698 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_class (
	user_uuid UUID NOT NULL, 
	class_uuid UUID NOT NULL, 
	PRIMARY KEY (user_uuid, class_uuid), 
	FOREIGN KEY(user_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(class_uuid) REFERENCES class (uuid)
)


2025-05-11 07:35:57,698 - sqlalchemy.engine.Engine - INFO - [no key 0.00038s] ()
2025-05-11 07:35:57,698 - sqlalchemy.engine.Engine - INFO - [no key 0.00038s] ()
2025-05-11 07:35:57,705 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE subject (
	uuid UUID NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	school_uuid UUID NOT NULL, 
	class_uuid UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid), 
	FOREIGN KEY(class_uuid) REFERENCES class (uuid)
)


2025-05-11 07:35:57,705 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE subject (
	uuid UUID NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	school_uuid UUID NOT NULL, 
	class_uuid UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid), 
	FOREIGN KEY(class_uuid) REFERENCES class (uuid)
)


2025-05-11 07:35:57,706 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ()
2025-05-11 07:35:57,706 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ()
2025-05-11 07:35:57,711 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE student (
	uuid UUID NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	class_uuid UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(class_uuid) REFERENCES class (uuid)
)


2025-05-11 07:35:57,711 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE student (
	uuid UUID NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	class_uuid UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(class_uuid) REFERENCES class (uuid)
)


2025-05-11 07:35:57,711 - sqlalchemy.engine.Engine - INFO - [no key 0.00026s] ()
2025-05-11 07:35:57,711 - sqlalchemy.engine.Engine - INFO - [no key 0.00026s] ()
2025-05-11 07:35:57,717 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE teacher_subject (
	teacher_uuid UUID NOT NULL, 
	subject_uuid UUID NOT NULL, 
	PRIMARY KEY (teacher_uuid, subject_uuid), 
	FOREIGN KEY(teacher_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(subject_uuid) REFERENCES subject (uuid)
)


2025-05-11 07:35:57,717 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE teacher_subject (
	teacher_uuid UUID NOT NULL, 
	subject_uuid UUID NOT NULL, 
	PRIMARY KEY (teacher_uuid, subject_uuid), 
	FOREIGN KEY(teacher_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(subject_uuid) REFERENCES subject (uuid)
)


2025-05-11 07:35:57,717 - sqlalchemy.engine.Engine - INFO - [no key 0.00028s] ()
2025-05-11 07:35:57,717 - sqlalchemy.engine.Engine - INFO - [no key 0.00028s] ()
2025-05-11 07:35:57,725 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE grade (
	uuid UUID NOT NULL, 
	user_uuid UUID NOT NULL, 
	subject_uuid UUID NOT NULL, 
	value FLOAT NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(user_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(subject_uuid) REFERENCES subject (uuid)
)


2025-05-11 07:35:57,725 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE grade (
	uuid UUID NOT NULL, 
	user_uuid UUID NOT NULL, 
	subject_uuid UUID NOT NULL, 
	value FLOAT NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(user_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(subject_uuid) REFERENCES subject (uuid)
)


2025-05-11 07:35:57,725 - sqlalchemy.engine.Engine - INFO - [no key 0.00047s] ()
2025-05-11 07:35:57,725 - sqlalchemy.engine.Engine - INFO - [no key 0.00047s] ()
2025-05-11 07:35:57,731 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE attendance (
	uuid UUID NOT NULL, 
	student_uuid UUID NOT NULL, 
	date DATETIME NOT NULL, 
	status VARCHAR(7) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(student_uuid) REFERENCES student (uuid)
)


2025-05-11 07:35:57,731 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE attendance (
	uuid UUID NOT NULL, 
	student_uuid UUID NOT NULL, 
	date DATETIME NOT NULL, 
	status VARCHAR(7) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(student_uuid) REFERENCES student (uuid)
)


2025-05-11 07:35:57,731 - sqlalchemy.engine.Engine - INFO - [no key 0.00033s] ()
2025-05-11 07:35:57,731 - sqlalchemy.engine.Engine - INFO - [no key 0.00033s] ()
2025-05-11 07:35:57,737 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:35:57,737 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:35:57,738 - fastapi_app - INFO - Database models initialized
2025-05-11 07:35:57,738 - fastapi_app - INFO - Database models initialized
2025-05-11 07:35:57,739 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:35:57,739 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:35:57,745 - tg_bot.setup.auto_init - ERROR - Error creating demo school: Could not determine join condition between parent/child tables on relationship User.managed_class - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-05-11 07:35:57,745 - tg_bot.setup.auto_init - ERROR - Error creating demo school: Could not determine join condition between parent/child tables on relationship User.managed_class - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-05-11 07:35:57,745 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:35:57,745 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:35:57,862 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:35:57,862 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:36:34,793 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:36:34,793 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:36:34,793 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:36:34,793 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:36:34,793 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:34,793 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:34,795 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:36:34,795 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:36:34,795 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:34,795 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:34,796 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:36:34,796 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:36:34,796 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:34,796 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:34,797 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:36:34,797 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:36:34,797 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:34,797 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:34,798 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:36:34,798 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:36:34,798 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:34,798 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:34,800 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:36:34,800 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:36:34,800 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:34,800 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:34,801 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:36:34,801 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:36:34,801 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:34,801 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:34,802 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:36:34,802 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:36:34,802 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:34,802 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:34,803 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:36:34,803 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:36:34,803 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:34,803 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:34,803 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:36:34,803 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:36:34,804 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:34,804 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:34,805 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:36:34,805 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:36:34,805 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:34,805 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:34,806 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:36:34,806 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:36:34,807 - fastapi_app - INFO - Database models initialized
2025-05-11 07:36:34,807 - fastapi_app - INFO - Database models initialized
2025-05-11 07:36:34,808 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:36:34,808 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:36:34,813 - tg_bot.setup.auto_init - ERROR - Error creating demo school: reverse_property 'homeroom_teacher' on relationship User.managed_class references relationship Class.homeroom_teacher, which does not reference mapper Mapper[User(user)]
2025-05-11 07:36:34,813 - tg_bot.setup.auto_init - ERROR - Error creating demo school: reverse_property 'homeroom_teacher' on relationship User.managed_class references relationship Class.homeroom_teacher, which does not reference mapper Mapper[User(user)]
2025-05-11 07:36:34,814 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:36:34,814 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:36:34,901 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:36:34,901 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:36:42,101 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:36:42,101 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:36:42,101 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:36:42,101 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:36:42,102 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:42,102 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:42,103 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:36:42,103 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:36:42,103 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:42,103 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:42,104 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:36:42,104 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:36:42,104 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:42,104 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:42,105 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:36:42,105 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:36:42,106 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:42,106 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:42,106 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:36:42,106 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:36:42,107 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:42,107 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:42,107 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:36:42,107 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:36:42,107 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:42,107 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:42,108 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:36:42,108 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:36:42,108 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:42,108 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:42,109 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:36:42,109 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:36:42,109 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:42,109 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:42,110 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:36:42,110 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:36:42,110 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:42,110 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:42,111 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:36:42,111 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:36:42,111 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:42,111 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:42,111 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:36:42,111 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:36:42,112 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:42,112 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:36:42,112 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:36:42,112 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:36:42,113 - fastapi_app - INFO - Database models initialized
2025-05-11 07:36:42,113 - fastapi_app - INFO - Database models initialized
2025-05-11 07:36:42,113 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:36:42,113 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:36:42,127 - tg_bot.setup.auto_init - ERROR - Error creating demo school: Could not determine join condition between parent/child tables on relationship Subject.teachers - there are no foreign keys linking these tables via secondary table 'teacher_subject'.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify 'primaryjoin' and 'secondaryjoin' expressions.
2025-05-11 07:36:42,127 - tg_bot.setup.auto_init - ERROR - Error creating demo school: Could not determine join condition between parent/child tables on relationship Subject.teachers - there are no foreign keys linking these tables via secondary table 'teacher_subject'.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify 'primaryjoin' and 'secondaryjoin' expressions.
2025-05-11 07:36:42,127 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:36:42,127 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:36:42,200 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:36:42,200 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:37:02,705 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:37:02,705 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:37:02,705 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:37:02,705 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:37:02,706 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:02,706 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:02,707 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:37:02,707 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:37:02,708 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:02,708 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:02,709 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:37:02,709 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:37:02,709 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:02,709 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:02,710 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:37:02,710 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:37:02,710 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:02,710 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:02,711 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:37:02,711 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:37:02,711 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:02,711 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:02,712 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:37:02,712 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:37:02,713 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:02,713 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:02,713 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:37:02,713 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:37:02,713 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:02,713 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:02,714 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:37:02,714 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:37:02,714 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:02,714 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:02,716 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:37:02,716 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:37:02,716 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:02,716 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:02,717 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:37:02,717 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:37:02,717 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:02,717 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:02,718 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:37:02,718 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:37:02,718 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:02,718 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:02,720 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:37:02,720 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:37:02,720 - fastapi_app - INFO - Database models initialized
2025-05-11 07:37:02,720 - fastapi_app - INFO - Database models initialized
2025-05-11 07:37:02,721 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:37:02,721 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:37:02,738 - tg_bot.setup.auto_init - ERROR - Error creating demo school: Class <class 'app.db.models.User'> does not have a mapped column named 'school_uuid'
2025-05-11 07:37:02,738 - tg_bot.setup.auto_init - ERROR - Error creating demo school: Class <class 'app.db.models.User'> does not have a mapped column named 'school_uuid'
2025-05-11 07:37:02,739 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:37:02,739 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:37:02,833 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:37:02,833 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:37:12,538 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:37:12,538 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:37:12,538 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:37:12,538 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:37:12,539 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:12,539 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:12,541 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:37:12,541 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:37:12,541 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:12,541 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:12,542 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:37:12,542 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:37:12,542 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:12,542 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:12,543 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:37:12,543 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:37:12,543 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:12,543 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:12,544 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:37:12,544 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:37:12,544 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:12,544 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:12,545 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:37:12,545 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:37:12,545 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:12,545 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:12,545 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:37:12,545 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher")
2025-05-11 07:37:12,546 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:12,546 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:12,546 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:37:12,546 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:37:12,547 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:12,547 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:12,547 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:37:12,547 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:37:12,547 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:12,547 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:12,548 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:37:12,548 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:37:12,548 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:12,548 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:12,549 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:37:12,549 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:37:12,549 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:12,549 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:37:12,551 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:37:12,551 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:37:12,552 - fastapi_app - INFO - Database models initialized
2025-05-11 07:37:12,552 - fastapi_app - INFO - Database models initialized
2025-05-11 07:37:12,552 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:37:12,552 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:37:12,577 - tg_bot.setup.auto_init - ERROR - Error creating demo school: reverse_property 'teachers' on relationship Teacher.school references relationship School.teachers, which does not reference mapper Mapper[Teacher(teacher)]
2025-05-11 07:37:12,577 - tg_bot.setup.auto_init - ERROR - Error creating demo school: reverse_property 'teachers' on relationship Teacher.school references relationship School.teachers, which does not reference mapper Mapper[Teacher(teacher)]
2025-05-11 07:37:12,578 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:37:12,578 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:37:12,665 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:37:12,665 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:38:12,119 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:12,119 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:12,120 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:38:12,120 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:38:12,120 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:12,120 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:12,121 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:38:12,121 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:38:12,121 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:12,121 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:12,122 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:38:12,122 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:38:12,122 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:12,122 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:12,123 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:38:12,123 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:38:12,123 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:12,123 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:12,123 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:38:12,123 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:38:12,123 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:12,123 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:12,124 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:38:12,124 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:38:12,124 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:12,124 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:12,124 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:38:12,124 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:38:12,125 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:12,125 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:12,125 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:38:12,125 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:38:12,125 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:12,125 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:12,126 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:38:12,126 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:38:12,126 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:12,126 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:12,127 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:38:12,127 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:38:12,127 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:12,127 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:12,128 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:38:12,128 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:38:12,128 - fastapi_app - INFO - Database models initialized
2025-05-11 07:38:12,128 - fastapi_app - INFO - Database models initialized
2025-05-11 07:38:12,128 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:38:12,128 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:38:12,158 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:12,158 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:12,159 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:38:12,159 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:38:12,160 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('910172f5bbf04912bf20d9092e9ee30a', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:38:12.159802', '2025-05-11 07:38:12.159807')
2025-05-11 07:38:12,160 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('910172f5bbf04912bf20d9092e9ee30a', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:38:12.159802', '2025-05-11 07:38:12.159807')
2025-05-11 07:38:12,161 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:38:12,161 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:38:12,169 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:12,169 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:12,171 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:38:12,171 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:38:12,171 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('910172f5bbf04912bf20d9092e9ee30a',)
2025-05-11 07:38:12,171 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('910172f5bbf04912bf20d9092e9ee30a',)
2025-05-11 07:38:12,172 - tg_bot.setup.auto_init - ERROR - Error creating demo subjects: 'School' object has no attribute 'id'
2025-05-11 07:38:12,172 - tg_bot.setup.auto_init - ERROR - Error creating demo subjects: 'School' object has no attribute 'id'
2025-05-11 07:38:12,172 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:38:12,172 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:38:12,173 - tg_bot.setup.auto_init - ERROR - Failed to create demo subjects
2025-05-11 07:38:12,173 - tg_bot.setup.auto_init - ERROR - Failed to create demo subjects
2025-05-11 07:38:12,256 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:38:12,256 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:38:27,611 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:27,611 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:27,612 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:38:27,612 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:38:27,612 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:27,612 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:27,613 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:38:27,613 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:38:27,613 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:27,613 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:27,614 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:38:27,614 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:38:27,614 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:27,614 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:27,615 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:38:27,615 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:38:27,616 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:27,616 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:27,616 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:38:27,616 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:38:27,616 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:27,616 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:27,617 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:38:27,617 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:38:27,617 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:27,617 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:27,618 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:38:27,618 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:38:27,618 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:27,618 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:27,619 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:38:27,619 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:38:27,619 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:27,619 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:27,620 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:38:27,620 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:38:27,620 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:27,620 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:27,621 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:38:27,621 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:38:27,622 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:27,622 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:27,622 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:38:27,622 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:38:27,623 - fastapi_app - INFO - Database models initialized
2025-05-11 07:38:27,623 - fastapi_app - INFO - Database models initialized
2025-05-11 07:38:27,623 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:38:27,623 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:38:27,654 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:27,654 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:27,656 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:38:27,656 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:38:27,656 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('d21bb1a44d324973b2f3ea137237dd86', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:38:27.656124', '2025-05-11 07:38:27.656130')
2025-05-11 07:38:27,656 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('d21bb1a44d324973b2f3ea137237dd86', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:38:27.656124', '2025-05-11 07:38:27.656130')
2025-05-11 07:38:27,658 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:38:27,658 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:38:27,667 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:27,667 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:27,670 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:38:27,670 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:38:27,670 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('d21bb1a44d324973b2f3ea137237dd86',)
2025-05-11 07:38:27,670 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('d21bb1a44d324973b2f3ea137237dd86',)
2025-05-11 07:38:27,672 - tg_bot.setup.auto_init - ERROR - Error creating demo subjects: 'School' object has no attribute 'id'
2025-05-11 07:38:27,672 - tg_bot.setup.auto_init - ERROR - Error creating demo subjects: 'School' object has no attribute 'id'
2025-05-11 07:38:27,672 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:38:27,672 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:38:27,673 - tg_bot.setup.auto_init - ERROR - Failed to create demo subjects
2025-05-11 07:38:27,673 - tg_bot.setup.auto_init - ERROR - Failed to create demo subjects
2025-05-11 07:38:27,794 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:38:27,794 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:38:43,247 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:43,247 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:43,248 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:38:43,248 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:38:43,249 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:43,249 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:43,251 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:38:43,251 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:38:43,252 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:43,252 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:43,253 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:38:43,253 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:38:43,253 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:43,253 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:43,254 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:38:43,254 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:38:43,254 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:43,254 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:43,255 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:38:43,255 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:38:43,255 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:43,255 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:43,256 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:38:43,256 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:38:43,256 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:43,256 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:43,257 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:38:43,257 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:38:43,257 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:43,257 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:43,258 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:38:43,258 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:38:43,258 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:43,258 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:43,259 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:38:43,259 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:38:43,259 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:43,259 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:43,259 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:38:43,259 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:38:43,260 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:43,260 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:43,260 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:38:43,260 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:38:43,261 - fastapi_app - INFO - Database models initialized
2025-05-11 07:38:43,261 - fastapi_app - INFO - Database models initialized
2025-05-11 07:38:43,261 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:38:43,261 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:38:43,290 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:43,290 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:43,292 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:38:43,292 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:38:43,292 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('194a9e7876a24a9bb0fb3568079e7122', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:38:43.292248', '2025-05-11 07:38:43.292254')
2025-05-11 07:38:43,292 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('194a9e7876a24a9bb0fb3568079e7122', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:38:43.292248', '2025-05-11 07:38:43.292254')
2025-05-11 07:38:43,294 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:38:43,294 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:38:43,301 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:43,301 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:43,304 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:38:43,304 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:38:43,304 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('194a9e7876a24a9bb0fb3568079e7122',)
2025-05-11 07:38:43,304 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('194a9e7876a24a9bb0fb3568079e7122',)
2025-05-11 07:38:43,305 - tg_bot.setup.auto_init - ERROR - Error creating demo subjects: 'School' object has no attribute 'id'
2025-05-11 07:38:43,305 - tg_bot.setup.auto_init - ERROR - Error creating demo subjects: 'School' object has no attribute 'id'
2025-05-11 07:38:43,305 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:38:43,305 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:38:43,306 - tg_bot.setup.auto_init - ERROR - Failed to create demo subjects
2025-05-11 07:38:43,306 - tg_bot.setup.auto_init - ERROR - Failed to create demo subjects
2025-05-11 07:38:43,386 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:38:43,386 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:38:57,893 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:57,893 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:57,893 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:38:57,893 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:38:57,894 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:57,894 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:57,895 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:38:57,895 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:38:57,895 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:57,895 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:57,896 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:38:57,896 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:38:57,896 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:57,896 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:57,896 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:38:57,896 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:38:57,897 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:57,897 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:57,897 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:38:57,897 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:38:57,897 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:57,897 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:57,898 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:38:57,898 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:38:57,898 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:57,898 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:57,899 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:38:57,899 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:38:57,899 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:57,899 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:57,900 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:38:57,900 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:38:57,900 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:57,900 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:57,900 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:38:57,900 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:38:57,900 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:57,900 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:57,901 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:38:57,901 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:38:57,901 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:57,901 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:38:57,902 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:38:57,902 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:38:57,902 - fastapi_app - INFO - Database models initialized
2025-05-11 07:38:57,902 - fastapi_app - INFO - Database models initialized
2025-05-11 07:38:57,902 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:38:57,902 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:38:57,932 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:57,932 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:57,934 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:38:57,934 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:38:57,934 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('16a4d3234e3e49e09012da7849667819', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:38:57.934145', '2025-05-11 07:38:57.934151')
2025-05-11 07:38:57,934 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('16a4d3234e3e49e09012da7849667819', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:38:57.934145', '2025-05-11 07:38:57.934151')
2025-05-11 07:38:57,936 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:38:57,936 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:38:57,943 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:57,943 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:38:57,946 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:38:57,946 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:38:57,946 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('16a4d3234e3e49e09012da7849667819',)
2025-05-11 07:38:57,946 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('16a4d3234e3e49e09012da7849667819',)
2025-05-11 07:38:57,948 - tg_bot.setup.auto_init - ERROR - Error creating demo subjects: 'School' object has no attribute 'id'
2025-05-11 07:38:57,948 - tg_bot.setup.auto_init - ERROR - Error creating demo subjects: 'School' object has no attribute 'id'
2025-05-11 07:38:57,948 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:38:57,948 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:38:57,948 - tg_bot.setup.auto_init - ERROR - Failed to create demo subjects
2025-05-11 07:38:57,948 - tg_bot.setup.auto_init - ERROR - Failed to create demo subjects
2025-05-11 07:38:58,060 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:38:58,060 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:39:13,512 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:39:13,512 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:39:13,512 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:39:13,512 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:39:13,512 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:13,512 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:13,514 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:39:13,514 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:39:13,514 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:13,514 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:13,515 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:39:13,515 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:39:13,515 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:13,515 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:13,516 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:39:13,516 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:39:13,516 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:13,516 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:13,517 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:39:13,517 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:39:13,517 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:13,517 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:13,518 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:39:13,518 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:39:13,518 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:13,518 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:13,518 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:39:13,518 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:39:13,519 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:13,519 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:13,519 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:39:13,519 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:39:13,519 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:13,519 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:13,520 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:39:13,520 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:39:13,520 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:13,520 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:13,521 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:39:13,521 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:39:13,521 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:13,521 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:13,522 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:39:13,522 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:39:13,523 - fastapi_app - INFO - Database models initialized
2025-05-11 07:39:13,523 - fastapi_app - INFO - Database models initialized
2025-05-11 07:39:13,523 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:39:13,523 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:39:13,554 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:39:13,554 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:39:13,556 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:39:13,556 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:39:13,556 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('04844a13b5b142dda7df4069b1b44223', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:39:13.556149', '2025-05-11 07:39:13.556155')
2025-05-11 07:39:13,556 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('04844a13b5b142dda7df4069b1b44223', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:39:13.556149', '2025-05-11 07:39:13.556155')
2025-05-11 07:39:13,557 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:39:13,557 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:39:13,563 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:39:13,563 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:39:13,566 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:39:13,566 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:39:13,566 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('04844a13b5b142dda7df4069b1b44223',)
2025-05-11 07:39:13,566 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('04844a13b5b142dda7df4069b1b44223',)
2025-05-11 07:39:13,568 - tg_bot.setup.auto_init - ERROR - Error creating demo subjects: 'School' object has no attribute 'id'
2025-05-11 07:39:13,568 - tg_bot.setup.auto_init - ERROR - Error creating demo subjects: 'School' object has no attribute 'id'
2025-05-11 07:39:13,568 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:39:13,568 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:39:13,569 - tg_bot.setup.auto_init - ERROR - Failed to create demo subjects
2025-05-11 07:39:13,569 - tg_bot.setup.auto_init - ERROR - Failed to create demo subjects
2025-05-11 07:39:13,654 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:39:13,654 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:39:30,834 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:39:30,834 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:39:30,834 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:39:30,834 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:39:30,835 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:30,835 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:30,836 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:39:30,836 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:39:30,837 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:30,837 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:30,837 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:39:30,837 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:39:30,838 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:30,838 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:30,839 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:39:30,839 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:39:30,839 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:30,839 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:30,840 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:39:30,840 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:39:30,840 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:30,840 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:30,841 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:39:30,841 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:39:30,841 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:30,841 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:30,842 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:39:30,842 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:39:30,842 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:30,842 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:30,843 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:39:30,843 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:39:30,843 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:30,843 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:30,844 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:39:30,844 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:39:30,844 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:30,844 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:30,845 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:39:30,845 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:39:30,845 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:30,845 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:30,846 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:39:30,846 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:39:30,847 - fastapi_app - INFO - Database models initialized
2025-05-11 07:39:30,847 - fastapi_app - INFO - Database models initialized
2025-05-11 07:39:30,847 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:39:30,847 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:39:30,876 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:39:30,876 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:39:30,878 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:39:30,878 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:39:30,878 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('9e400e89bc4b48db908df07568000750', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:39:30.878627', '2025-05-11 07:39:30.878633')
2025-05-11 07:39:30,878 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('9e400e89bc4b48db908df07568000750', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:39:30.878627', '2025-05-11 07:39:30.878633')
2025-05-11 07:39:30,880 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:39:30,880 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:39:30,888 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:39:30,888 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:39:30,890 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:39:30,890 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:39:30,890 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('9e400e89bc4b48db908df07568000750',)
2025-05-11 07:39:30,890 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('9e400e89bc4b48db908df07568000750',)
2025-05-11 07:39:30,892 - tg_bot.setup.auto_init - ERROR - Error creating demo subjects: 'School' object has no attribute 'id'
2025-05-11 07:39:30,892 - tg_bot.setup.auto_init - ERROR - Error creating demo subjects: 'School' object has no attribute 'id'
2025-05-11 07:39:30,892 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:39:30,892 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:39:30,893 - tg_bot.setup.auto_init - ERROR - Failed to create demo subjects
2025-05-11 07:39:30,893 - tg_bot.setup.auto_init - ERROR - Failed to create demo subjects
2025-05-11 07:39:50,233 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:39:50,233 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:39:50,234 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:39:50,234 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:39:50,234 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:50,234 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:50,235 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:39:50,235 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:39:50,236 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:50,236 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:50,236 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:39:50,236 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:39:50,236 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:50,236 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:50,237 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:39:50,237 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:39:50,237 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:50,237 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:50,238 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:39:50,238 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:39:50,238 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:50,238 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:50,239 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:39:50,239 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:39:50,239 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:50,239 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:50,240 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:39:50,240 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:39:50,240 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:50,240 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:50,241 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:39:50,241 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:39:50,241 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:50,241 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:50,242 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:39:50,242 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:39:50,242 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:50,242 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:50,242 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:39:50,242 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:39:50,243 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:50,243 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:39:50,243 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:39:50,243 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:39:50,244 - fastapi_app - INFO - Database models initialized
2025-05-11 07:39:50,244 - fastapi_app - INFO - Database models initialized
2025-05-11 07:39:50,244 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:39:50,244 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:39:50,270 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:39:50,270 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:39:50,272 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:39:50,272 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:39:50,272 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('0cb4ec06fba74223a494b6a2cafd8662', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:39:50.272329', '2025-05-11 07:39:50.272334')
2025-05-11 07:39:50,272 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('0cb4ec06fba74223a494b6a2cafd8662', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:39:50.272329', '2025-05-11 07:39:50.272334')
2025-05-11 07:39:50,273 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:39:50,273 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:39:50,284 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:39:50,284 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:39:50,286 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:39:50,286 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:39:50,286 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('0cb4ec06fba74223a494b6a2cafd8662',)
2025-05-11 07:39:50,286 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('0cb4ec06fba74223a494b6a2cafd8662',)
2025-05-11 07:39:50,287 - tg_bot.setup.auto_init - ERROR - Error creating demo subjects: 'School' object has no attribute 'id'
2025-05-11 07:39:50,287 - tg_bot.setup.auto_init - ERROR - Error creating demo subjects: 'School' object has no attribute 'id'
2025-05-11 07:39:50,287 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:39:50,287 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:39:50,288 - tg_bot.setup.auto_init - ERROR - Failed to create demo subjects
2025-05-11 07:39:50,288 - tg_bot.setup.auto_init - ERROR - Failed to create demo subjects
2025-05-11 07:40:47,240 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:40:47,240 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:40:47,241 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:40:47,241 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:40:47,241 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:40:47,241 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:40:47,243 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:40:47,243 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:40:47,243 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:40:47,243 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:40:47,244 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:40:47,244 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:40:47,244 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:40:47,244 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:40:47,245 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:40:47,245 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:40:47,245 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:40:47,245 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:40:47,246 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:40:47,246 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:40:47,246 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:40:47,246 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:40:47,247 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:40:47,247 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:40:47,247 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:40:47,247 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:40:47,248 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:40:47,248 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:40:47,248 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:40:47,248 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:40:47,249 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:40:47,249 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:40:47,249 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:40:47,249 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:40:47,249 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:40:47,249 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:40:47,250 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:40:47,250 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:40:47,250 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:40:47,250 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:40:47,250 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:40:47,250 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:40:47,251 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:40:47,251 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:40:47,252 - fastapi_app - INFO - Database models initialized
2025-05-11 07:40:47,252 - fastapi_app - INFO - Database models initialized
2025-05-11 07:40:47,252 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:40:47,252 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:40:47,280 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:40:47,280 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:40:47,281 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:40:47,281 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:40:47,282 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] ('51829a7917e147b193f539dce789ab81', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:40:47.281709', '2025-05-11 07:40:47.281715')
2025-05-11 07:40:47,282 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] ('51829a7917e147b193f539dce789ab81', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:40:47.281709', '2025-05-11 07:40:47.281715')
2025-05-11 07:40:47,283 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:40:47,283 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:40:47,290 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:40:47,290 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:40:47,292 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:40:47,292 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:40:47,292 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('51829a7917e147b193f539dce789ab81',)
2025-05-11 07:40:47,292 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('51829a7917e147b193f539dce789ab81',)
2025-05-11 07:40:47,294 - tg_bot.setup.auto_init - ERROR - Error creating demo subjects: 'School' object has no attribute 'id'
2025-05-11 07:40:47,294 - tg_bot.setup.auto_init - ERROR - Error creating demo subjects: 'School' object has no attribute 'id'
2025-05-11 07:40:47,295 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:40:47,295 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:40:47,295 - tg_bot.setup.auto_init - ERROR - Failed to create demo subjects
2025-05-11 07:40:47,295 - tg_bot.setup.auto_init - ERROR - Failed to create demo subjects
2025-05-11 07:40:47,377 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:40:47,377 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:41:21,742 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:41:21,742 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:41:21,743 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:41:21,743 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:41:21,743 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:21,743 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:21,745 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:41:21,745 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:41:21,745 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:21,745 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:21,746 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:41:21,746 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:41:21,746 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:21,746 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:21,747 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:41:21,747 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:41:21,747 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:21,747 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:21,748 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:41:21,748 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:41:21,748 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:21,748 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:21,749 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:41:21,749 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:41:21,750 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:21,750 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:21,750 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:41:21,750 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:41:21,751 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:21,751 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:21,752 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:41:21,752 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:41:21,752 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:21,752 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:21,753 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:41:21,753 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:41:21,753 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:21,753 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:21,754 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:41:21,754 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:41:21,754 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:21,754 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:21,755 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:41:21,755 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:41:21,756 - fastapi_app - INFO - Database models initialized
2025-05-11 07:41:21,756 - fastapi_app - INFO - Database models initialized
2025-05-11 07:41:21,756 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:41:21,756 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:41:21,798 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:41:21,798 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:41:21,801 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:41:21,801 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:41:21,801 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] ('38a13fd46bdb40d48485e8b707a44ca1', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:41:21.801303', '2025-05-11 07:41:21.801310')
2025-05-11 07:41:21,801 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] ('38a13fd46bdb40d48485e8b707a44ca1', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:41:21.801303', '2025-05-11 07:41:21.801310')
2025-05-11 07:41:21,803 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:41:21,803 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:41:21,810 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:41:21,810 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:41:21,812 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:41:21,812 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:41:21,812 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] ('38a13fd46bdb40d48485e8b707a44ca1',)
2025-05-11 07:41:21,812 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] ('38a13fd46bdb40d48485e8b707a44ca1',)
2025-05-11 07:41:21,816 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:41:21,816 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:41:21,817 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s (insertmanyvalues) 1/1 (unordered)] ('8e179ae1b8384f2bb134e0a1267e6ca3', 'Mathematics', '38a13fd46bdb40d48485e8b707a44ca1', None, '2025-05-11 07:41:21.816411', '2025-05-11 07:41:21.816417', '89711e41c0b2444285ffc3ebea155460', 'Physics', '38a13fd46bdb40d48485e8b707a44ca1', None, '2025-05-11 07:41:21.816426', '2025-05-11 07:41:21.816428', '996086c6c62e404d92bba1ad7e7ba981', 'Chemistry', '38a13fd46bdb40d48485e8b707a44ca1', None, '2025-05-11 07:41:21.816434', '2025-05-11 07:41:21.816437', 'ea77578a0d284699a4d8702d4dabb6df', 'Biology', '38a13fd46bdb40d48485e8b707a44ca1', None, '2025-05-11 07:41:21.816444', '2025-05-11 07:41:21.816447', 'f6853aef47434b9fb3462d85d42df007', 'English', '38a13fd46bdb40d48485e8b707a44ca1', None, '2025-05-11 07:41:21.816454', '2025-05-11 07:41:21.816481')
2025-05-11 07:41:21,817 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s (insertmanyvalues) 1/1 (unordered)] ('8e179ae1b8384f2bb134e0a1267e6ca3', 'Mathematics', '38a13fd46bdb40d48485e8b707a44ca1', None, '2025-05-11 07:41:21.816411', '2025-05-11 07:41:21.816417', '89711e41c0b2444285ffc3ebea155460', 'Physics', '38a13fd46bdb40d48485e8b707a44ca1', None, '2025-05-11 07:41:21.816426', '2025-05-11 07:41:21.816428', '996086c6c62e404d92bba1ad7e7ba981', 'Chemistry', '38a13fd46bdb40d48485e8b707a44ca1', None, '2025-05-11 07:41:21.816434', '2025-05-11 07:41:21.816437', 'ea77578a0d284699a4d8702d4dabb6df', 'Biology', '38a13fd46bdb40d48485e8b707a44ca1', None, '2025-05-11 07:41:21.816444', '2025-05-11 07:41:21.816447', 'f6853aef47434b9fb3462d85d42df007', 'English', '38a13fd46bdb40d48485e8b707a44ca1', None, '2025-05-11 07:41:21.816454', '2025-05-11 07:41:21.816481')
2025-05-11 07:41:21,819 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:41:21,819 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:41:21,820 - tg_bot.setup.auto_init - ERROR - Error creating demo subjects: (sqlite3.IntegrityError) NOT NULL constraint failed: subject.class_uuid
[SQL: INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)]
[parameters: ('8e179ae1b8384f2bb134e0a1267e6ca3', 'Mathematics', '38a13fd46bdb40d48485e8b707a44ca1', None, '2025-05-11 07:41:21.816411', '2025-05-11 07:41:21.816417', '89711e41c0b2444285ffc3ebea155460', 'Physics', '38a13fd46bdb40d48485e8b707a44ca1', None, '2025-05-11 07:41:21.816426', '2025-05-11 07:41:21.816428', '996086c6c62e404d92bba1ad7e7ba981', 'Chemistry', '38a13fd46bdb40d48485e8b707a44ca1', None, '2025-05-11 07:41:21.816434', '2025-05-11 07:41:21.816437', 'ea77578a0d284699a4d8702d4dabb6df', 'Biology', '38a13fd46bdb40d48485e8b707a44ca1', None, '2025-05-11 07:41:21.816444', '2025-05-11 07:41:21.816447', 'f6853aef47434b9fb3462d85d42df007', 'English', '38a13fd46bdb40d48485e8b707a44ca1', None, '2025-05-11 07:41:21.816454', '2025-05-11 07:41:21.816481')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-05-11 07:41:21,820 - tg_bot.setup.auto_init - ERROR - Error creating demo subjects: (sqlite3.IntegrityError) NOT NULL constraint failed: subject.class_uuid
[SQL: INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)]
[parameters: ('8e179ae1b8384f2bb134e0a1267e6ca3', 'Mathematics', '38a13fd46bdb40d48485e8b707a44ca1', None, '2025-05-11 07:41:21.816411', '2025-05-11 07:41:21.816417', '89711e41c0b2444285ffc3ebea155460', 'Physics', '38a13fd46bdb40d48485e8b707a44ca1', None, '2025-05-11 07:41:21.816426', '2025-05-11 07:41:21.816428', '996086c6c62e404d92bba1ad7e7ba981', 'Chemistry', '38a13fd46bdb40d48485e8b707a44ca1', None, '2025-05-11 07:41:21.816434', '2025-05-11 07:41:21.816437', 'ea77578a0d284699a4d8702d4dabb6df', 'Biology', '38a13fd46bdb40d48485e8b707a44ca1', None, '2025-05-11 07:41:21.816444', '2025-05-11 07:41:21.816447', 'f6853aef47434b9fb3462d85d42df007', 'English', '38a13fd46bdb40d48485e8b707a44ca1', None, '2025-05-11 07:41:21.816454', '2025-05-11 07:41:21.816481')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-05-11 07:41:21,820 - tg_bot.setup.auto_init - ERROR - Failed to create demo subjects
2025-05-11 07:41:21,820 - tg_bot.setup.auto_init - ERROR - Failed to create demo subjects
2025-05-11 07:41:21,898 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:41:21,898 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:41:34,748 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:41:34,748 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:41:34,749 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:41:34,749 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:41:34,749 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:34,749 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:34,751 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:41:34,751 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:41:34,751 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:34,751 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:34,752 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:41:34,752 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:41:34,752 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:34,752 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:34,754 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:41:34,754 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:41:34,754 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:34,754 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:34,755 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:41:34,755 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:41:34,755 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:34,755 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:34,756 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:41:34,756 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:41:34,756 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:34,756 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:34,757 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:41:34,757 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:41:34,757 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:34,757 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:34,757 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:41:34,757 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:41:34,758 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:34,758 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:34,758 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:41:34,758 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:41:34,758 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:34,758 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:34,759 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:41:34,759 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:41:34,759 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:34,759 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:34,760 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:41:34,760 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:41:34,761 - fastapi_app - INFO - Database models initialized
2025-05-11 07:41:34,761 - fastapi_app - INFO - Database models initialized
2025-05-11 07:41:34,761 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:41:34,761 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:41:34,787 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:41:34,787 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:41:34,788 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:41:34,788 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:41:34,788 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('22ba6c6e292041d6aef584e8979f7a09', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:41:34.788545', '2025-05-11 07:41:34.788551')
2025-05-11 07:41:34,788 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('22ba6c6e292041d6aef584e8979f7a09', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:41:34.788545', '2025-05-11 07:41:34.788551')
2025-05-11 07:41:34,790 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:41:34,790 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:41:34,796 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:41:34,796 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:41:34,798 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:41:34,798 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:41:34,798 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('22ba6c6e292041d6aef584e8979f7a09',)
2025-05-11 07:41:34,798 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('22ba6c6e292041d6aef584e8979f7a09',)
2025-05-11 07:41:34,801 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:41:34,801 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:41:34,801 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/1 (unordered)] ('dca5a910bdbd4f04849e543793f3d62a', 'Mathematics', '22ba6c6e292041d6aef584e8979f7a09', None, '2025-05-11 07:41:34.801066', '2025-05-11 07:41:34.801071', '7a8baa8a0a8d4d17b0104e7cbc462dae', 'Physics', '22ba6c6e292041d6aef584e8979f7a09', None, '2025-05-11 07:41:34.801078', '2025-05-11 07:41:34.801081', '2f56a135225946408bf17118cb9b2e36', 'Chemistry', '22ba6c6e292041d6aef584e8979f7a09', None, '2025-05-11 07:41:34.801086', '2025-05-11 07:41:34.801089', '5cc1634d489f43a580b45697c5948f6a', 'Biology', '22ba6c6e292041d6aef584e8979f7a09', None, '2025-05-11 07:41:34.801095', '2025-05-11 07:41:34.801097', 'ec9703f8ee1c4bfa8a9c7b27887eb722', 'English', '22ba6c6e292041d6aef584e8979f7a09', None, '2025-05-11 07:41:34.801102', '2025-05-11 07:41:34.801105')
2025-05-11 07:41:34,801 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/1 (unordered)] ('dca5a910bdbd4f04849e543793f3d62a', 'Mathematics', '22ba6c6e292041d6aef584e8979f7a09', None, '2025-05-11 07:41:34.801066', '2025-05-11 07:41:34.801071', '7a8baa8a0a8d4d17b0104e7cbc462dae', 'Physics', '22ba6c6e292041d6aef584e8979f7a09', None, '2025-05-11 07:41:34.801078', '2025-05-11 07:41:34.801081', '2f56a135225946408bf17118cb9b2e36', 'Chemistry', '22ba6c6e292041d6aef584e8979f7a09', None, '2025-05-11 07:41:34.801086', '2025-05-11 07:41:34.801089', '5cc1634d489f43a580b45697c5948f6a', 'Biology', '22ba6c6e292041d6aef584e8979f7a09', None, '2025-05-11 07:41:34.801095', '2025-05-11 07:41:34.801097', 'ec9703f8ee1c4bfa8a9c7b27887eb722', 'English', '22ba6c6e292041d6aef584e8979f7a09', None, '2025-05-11 07:41:34.801102', '2025-05-11 07:41:34.801105')
2025-05-11 07:41:34,802 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:41:34,802 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:41:34,802 - tg_bot.setup.auto_init - ERROR - Error creating demo subjects: (sqlite3.IntegrityError) NOT NULL constraint failed: subject.class_uuid
[SQL: INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)]
[parameters: ('dca5a910bdbd4f04849e543793f3d62a', 'Mathematics', '22ba6c6e292041d6aef584e8979f7a09', None, '2025-05-11 07:41:34.801066', '2025-05-11 07:41:34.801071', '7a8baa8a0a8d4d17b0104e7cbc462dae', 'Physics', '22ba6c6e292041d6aef584e8979f7a09', None, '2025-05-11 07:41:34.801078', '2025-05-11 07:41:34.801081', '2f56a135225946408bf17118cb9b2e36', 'Chemistry', '22ba6c6e292041d6aef584e8979f7a09', None, '2025-05-11 07:41:34.801086', '2025-05-11 07:41:34.801089', '5cc1634d489f43a580b45697c5948f6a', 'Biology', '22ba6c6e292041d6aef584e8979f7a09', None, '2025-05-11 07:41:34.801095', '2025-05-11 07:41:34.801097', 'ec9703f8ee1c4bfa8a9c7b27887eb722', 'English', '22ba6c6e292041d6aef584e8979f7a09', None, '2025-05-11 07:41:34.801102', '2025-05-11 07:41:34.801105')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-05-11 07:41:34,802 - tg_bot.setup.auto_init - ERROR - Error creating demo subjects: (sqlite3.IntegrityError) NOT NULL constraint failed: subject.class_uuid
[SQL: INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)]
[parameters: ('dca5a910bdbd4f04849e543793f3d62a', 'Mathematics', '22ba6c6e292041d6aef584e8979f7a09', None, '2025-05-11 07:41:34.801066', '2025-05-11 07:41:34.801071', '7a8baa8a0a8d4d17b0104e7cbc462dae', 'Physics', '22ba6c6e292041d6aef584e8979f7a09', None, '2025-05-11 07:41:34.801078', '2025-05-11 07:41:34.801081', '2f56a135225946408bf17118cb9b2e36', 'Chemistry', '22ba6c6e292041d6aef584e8979f7a09', None, '2025-05-11 07:41:34.801086', '2025-05-11 07:41:34.801089', '5cc1634d489f43a580b45697c5948f6a', 'Biology', '22ba6c6e292041d6aef584e8979f7a09', None, '2025-05-11 07:41:34.801095', '2025-05-11 07:41:34.801097', 'ec9703f8ee1c4bfa8a9c7b27887eb722', 'English', '22ba6c6e292041d6aef584e8979f7a09', None, '2025-05-11 07:41:34.801102', '2025-05-11 07:41:34.801105')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-05-11 07:41:34,802 - tg_bot.setup.auto_init - ERROR - Failed to create demo subjects
2025-05-11 07:41:34,802 - tg_bot.setup.auto_init - ERROR - Failed to create demo subjects
2025-05-11 07:41:34,875 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:41:34,875 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:41:59,042 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:41:59,042 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:41:59,043 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:41:59,043 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:41:59,043 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:59,043 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:59,045 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:41:59,045 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:41:59,046 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:59,046 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:59,047 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:41:59,047 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:41:59,047 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:59,047 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:59,048 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:41:59,048 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:41:59,048 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:59,048 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:59,049 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:41:59,049 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:41:59,049 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:59,049 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:59,050 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:41:59,050 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:41:59,050 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:59,050 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:59,051 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:41:59,051 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:41:59,051 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:59,051 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:59,052 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:41:59,052 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:41:59,052 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:59,052 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:59,053 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:41:59,053 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:41:59,053 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:59,053 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:59,054 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:41:59,054 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:41:59,054 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:59,054 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:41:59,056 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:41:59,056 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:41:59,056 - fastapi_app - INFO - Database models initialized
2025-05-11 07:41:59,056 - fastapi_app - INFO - Database models initialized
2025-05-11 07:41:59,057 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:41:59,057 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:41:59,092 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:41:59,092 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:41:59,094 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:41:59,094 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:41:59,095 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] ('7fe95b24fb614f5cb9ca467f38b86bba', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:41:59.094835', '2025-05-11 07:41:59.094843')
2025-05-11 07:41:59,095 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] ('7fe95b24fb614f5cb9ca467f38b86bba', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:41:59.094835', '2025-05-11 07:41:59.094843')
2025-05-11 07:41:59,097 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:41:59,097 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:41:59,104 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:41:59,104 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:41:59,106 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:41:59,106 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:41:59,106 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] ('7fe95b24fb614f5cb9ca467f38b86bba',)
2025-05-11 07:41:59,106 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] ('7fe95b24fb614f5cb9ca467f38b86bba',)
2025-05-11 07:41:59,111 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:41:59,111 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:41:59,111 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s (insertmanyvalues) 1/1 (unordered)] ('8d4c8213da2b40eb97b0af0d46a264ac', 'Mathematics', '7fe95b24fb614f5cb9ca467f38b86bba', None, '2025-05-11 07:41:59.111082', '2025-05-11 07:41:59.111090', '17cec503bdcc4c3f8762bce5c01d7a07', 'Physics', '7fe95b24fb614f5cb9ca467f38b86bba', None, '2025-05-11 07:41:59.111098', '2025-05-11 07:41:59.111101', 'e6fc4f5d44274ec884b1dada0e291061', 'Chemistry', '7fe95b24fb614f5cb9ca467f38b86bba', None, '2025-05-11 07:41:59.111108', '2025-05-11 07:41:59.111111', '5e326b36bff94f759d93c1024e76a830', 'Biology', '7fe95b24fb614f5cb9ca467f38b86bba', None, '2025-05-11 07:41:59.111117', '2025-05-11 07:41:59.111120', 'f326daa5d28f46b4b8ec6f25f24ae24d', 'English', '7fe95b24fb614f5cb9ca467f38b86bba', None, '2025-05-11 07:41:59.111126', '2025-05-11 07:41:59.111129')
2025-05-11 07:41:59,111 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s (insertmanyvalues) 1/1 (unordered)] ('8d4c8213da2b40eb97b0af0d46a264ac', 'Mathematics', '7fe95b24fb614f5cb9ca467f38b86bba', None, '2025-05-11 07:41:59.111082', '2025-05-11 07:41:59.111090', '17cec503bdcc4c3f8762bce5c01d7a07', 'Physics', '7fe95b24fb614f5cb9ca467f38b86bba', None, '2025-05-11 07:41:59.111098', '2025-05-11 07:41:59.111101', 'e6fc4f5d44274ec884b1dada0e291061', 'Chemistry', '7fe95b24fb614f5cb9ca467f38b86bba', None, '2025-05-11 07:41:59.111108', '2025-05-11 07:41:59.111111', '5e326b36bff94f759d93c1024e76a830', 'Biology', '7fe95b24fb614f5cb9ca467f38b86bba', None, '2025-05-11 07:41:59.111117', '2025-05-11 07:41:59.111120', 'f326daa5d28f46b4b8ec6f25f24ae24d', 'English', '7fe95b24fb614f5cb9ca467f38b86bba', None, '2025-05-11 07:41:59.111126', '2025-05-11 07:41:59.111129')
2025-05-11 07:41:59,112 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:41:59,112 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:41:59,113 - tg_bot.setup.auto_init - ERROR - Error creating demo subjects: (sqlite3.IntegrityError) NOT NULL constraint failed: subject.class_uuid
[SQL: INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)]
[parameters: ('8d4c8213da2b40eb97b0af0d46a264ac', 'Mathematics', '7fe95b24fb614f5cb9ca467f38b86bba', None, '2025-05-11 07:41:59.111082', '2025-05-11 07:41:59.111090', '17cec503bdcc4c3f8762bce5c01d7a07', 'Physics', '7fe95b24fb614f5cb9ca467f38b86bba', None, '2025-05-11 07:41:59.111098', '2025-05-11 07:41:59.111101', 'e6fc4f5d44274ec884b1dada0e291061', 'Chemistry', '7fe95b24fb614f5cb9ca467f38b86bba', None, '2025-05-11 07:41:59.111108', '2025-05-11 07:41:59.111111', '5e326b36bff94f759d93c1024e76a830', 'Biology', '7fe95b24fb614f5cb9ca467f38b86bba', None, '2025-05-11 07:41:59.111117', '2025-05-11 07:41:59.111120', 'f326daa5d28f46b4b8ec6f25f24ae24d', 'English', '7fe95b24fb614f5cb9ca467f38b86bba', None, '2025-05-11 07:41:59.111126', '2025-05-11 07:41:59.111129')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-05-11 07:41:59,113 - tg_bot.setup.auto_init - ERROR - Error creating demo subjects: (sqlite3.IntegrityError) NOT NULL constraint failed: subject.class_uuid
[SQL: INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)]
[parameters: ('8d4c8213da2b40eb97b0af0d46a264ac', 'Mathematics', '7fe95b24fb614f5cb9ca467f38b86bba', None, '2025-05-11 07:41:59.111082', '2025-05-11 07:41:59.111090', '17cec503bdcc4c3f8762bce5c01d7a07', 'Physics', '7fe95b24fb614f5cb9ca467f38b86bba', None, '2025-05-11 07:41:59.111098', '2025-05-11 07:41:59.111101', 'e6fc4f5d44274ec884b1dada0e291061', 'Chemistry', '7fe95b24fb614f5cb9ca467f38b86bba', None, '2025-05-11 07:41:59.111108', '2025-05-11 07:41:59.111111', '5e326b36bff94f759d93c1024e76a830', 'Biology', '7fe95b24fb614f5cb9ca467f38b86bba', None, '2025-05-11 07:41:59.111117', '2025-05-11 07:41:59.111120', 'f326daa5d28f46b4b8ec6f25f24ae24d', 'English', '7fe95b24fb614f5cb9ca467f38b86bba', None, '2025-05-11 07:41:59.111126', '2025-05-11 07:41:59.111129')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-05-11 07:41:59,114 - tg_bot.setup.auto_init - ERROR - Failed to create demo subjects
2025-05-11 07:41:59,114 - tg_bot.setup.auto_init - ERROR - Failed to create demo subjects
2025-05-11 07:41:59,213 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:41:59,213 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:42:29,422 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:42:29,422 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:42:29,422 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:42:29,422 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:42:29,422 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:29,422 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:29,424 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:42:29,424 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:42:29,424 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:29,424 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:29,425 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:42:29,425 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:42:29,425 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:29,425 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:29,426 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:42:29,426 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:42:29,426 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:29,426 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:29,427 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:42:29,427 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:42:29,427 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:29,427 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:29,428 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:42:29,428 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:42:29,428 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:29,428 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:29,428 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:42:29,428 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:42:29,429 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:29,429 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:29,429 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:42:29,429 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:42:29,430 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:29,430 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:29,431 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:42:29,431 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:42:29,431 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:29,431 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:29,431 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:42:29,431 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:42:29,432 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:29,432 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:29,433 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:42:29,433 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:42:29,433 - fastapi_app - INFO - Database models initialized
2025-05-11 07:42:29,433 - fastapi_app - INFO - Database models initialized
2025-05-11 07:42:29,434 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:42:29,434 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:42:29,463 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:42:29,463 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:42:29,465 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:42:29,465 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:42:29,465 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] ('2032d03a5888489cb5191569efa1c051', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:42:29.465165', '2025-05-11 07:42:29.465175')
2025-05-11 07:42:29,465 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] ('2032d03a5888489cb5191569efa1c051', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:42:29.465165', '2025-05-11 07:42:29.465175')
2025-05-11 07:42:29,468 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:42:29,468 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:42:29,473 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:42:29,473 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:42:29,476 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:42:29,476 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:42:29,476 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('2032d03a5888489cb5191569efa1c051',)
2025-05-11 07:42:29,476 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('2032d03a5888489cb5191569efa1c051',)
2025-05-11 07:42:29,478 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:42:29,478 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:42:29,478 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('109c003da36d4506b1a7bc5b42e3e934', '9A', 2024, '2032d03a5888489cb5191569efa1c051', '2025-05-11 07:42:29.478647', '2025-05-11 07:42:29.478653')
2025-05-11 07:42:29,478 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('109c003da36d4506b1a7bc5b42e3e934', '9A', 2024, '2032d03a5888489cb5191569efa1c051', '2025-05-11 07:42:29.478647', '2025-05-11 07:42:29.478653')
2025-05-11 07:42:29,479 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:42:29,479 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:42:29,480 - tg_bot.setup.auto_init - ERROR - Error creating demo class: (sqlite3.IntegrityError) NOT NULL constraint failed: class.homeroom_teacher_uuid
[SQL: INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: ('109c003da36d4506b1a7bc5b42e3e934', '9A', 2024, '2032d03a5888489cb5191569efa1c051', '2025-05-11 07:42:29.478647', '2025-05-11 07:42:29.478653')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-05-11 07:42:29,480 - tg_bot.setup.auto_init - ERROR - Error creating demo class: (sqlite3.IntegrityError) NOT NULL constraint failed: class.homeroom_teacher_uuid
[SQL: INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: ('109c003da36d4506b1a7bc5b42e3e934', '9A', 2024, '2032d03a5888489cb5191569efa1c051', '2025-05-11 07:42:29.478647', '2025-05-11 07:42:29.478653')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-05-11 07:42:29,480 - tg_bot.setup.auto_init - ERROR - Failed to create demo class
2025-05-11 07:42:29,480 - tg_bot.setup.auto_init - ERROR - Failed to create demo class
2025-05-11 07:42:29,567 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:42:29,567 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:42:47,662 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:42:47,662 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:42:47,663 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:42:47,663 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:42:47,663 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,663 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,664 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("teacher_subject")
2025-05-11 07:42:47,664 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("teacher_subject")
2025-05-11 07:42:47,664 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,664 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,665 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:42:47,665 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:42:47,666 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,666 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,666 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("parent_child")
2025-05-11 07:42:47,666 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("parent_child")
2025-05-11 07:42:47,667 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,667 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,667 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:42:47,667 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:42:47,668 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,668 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,668 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_class")
2025-05-11 07:42:47,668 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_class")
2025-05-11 07:42:47,668 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,668 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,669 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:42:47,669 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:42:47,669 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,669 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,670 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user")
2025-05-11 07:42:47,670 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user")
2025-05-11 07:42:47,670 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,670 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,671 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:42:47,671 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:42:47,671 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,671 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,672 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("school")
2025-05-11 07:42:47,672 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("school")
2025-05-11 07:42:47,672 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,672 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,672 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:42:47,672 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:42:47,672 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,672 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,673 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("subject")
2025-05-11 07:42:47,673 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("subject")
2025-05-11 07:42:47,673 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,673 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,674 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:42:47,674 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:42:47,674 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,674 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,675 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("class")
2025-05-11 07:42:47,675 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("class")
2025-05-11 07:42:47,675 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,675 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,675 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:42:47,675 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:42:47,675 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,675 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,676 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("student")
2025-05-11 07:42:47,676 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("student")
2025-05-11 07:42:47,676 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,676 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,677 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:42:47,677 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:42:47,677 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,677 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,677 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("grade")
2025-05-11 07:42:47,677 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("grade")
2025-05-11 07:42:47,677 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,677 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,678 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:42:47,678 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:42:47,678 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,678 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,678 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("attendance")
2025-05-11 07:42:47,678 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("attendance")
2025-05-11 07:42:47,679 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,679 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:42:47,680 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE school (
	uuid UUID NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	address VARCHAR(200) NOT NULL, 
	phone VARCHAR(20) NOT NULL, 
	email VARCHAR(100) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid)
)


2025-05-11 07:42:47,680 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE school (
	uuid UUID NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	address VARCHAR(200) NOT NULL, 
	phone VARCHAR(20) NOT NULL, 
	email VARCHAR(100) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid)
)


2025-05-11 07:42:47,680 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ()
2025-05-11 07:42:47,680 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ()
2025-05-11 07:42:47,688 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE class (
	uuid UUID NOT NULL, 
	name VARCHAR(50) NOT NULL, 
	start_year INTEGER NOT NULL, 
	school_uuid UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid)
)


2025-05-11 07:42:47,688 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE class (
	uuid UUID NOT NULL, 
	name VARCHAR(50) NOT NULL, 
	start_year INTEGER NOT NULL, 
	school_uuid UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid)
)


2025-05-11 07:42:47,688 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ()
2025-05-11 07:42:47,688 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ()
2025-05-11 07:42:47,694 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user (
	uuid UUID NOT NULL, 
	chat_id INTEGER NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	role VARCHAR(16) NOT NULL, 
	teacher_subjects JSON, 
	parent_children JSON, 
	managed_class_uuid UUID, 
	school_uuid UUID, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	UNIQUE (chat_id), 
	FOREIGN KEY(managed_class_uuid) REFERENCES class (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid)
)


2025-05-11 07:42:47,694 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user (
	uuid UUID NOT NULL, 
	chat_id INTEGER NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	role VARCHAR(16) NOT NULL, 
	teacher_subjects JSON, 
	parent_children JSON, 
	managed_class_uuid UUID, 
	school_uuid UUID, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	UNIQUE (chat_id), 
	FOREIGN KEY(managed_class_uuid) REFERENCES class (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid)
)


2025-05-11 07:42:47,694 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ()
2025-05-11 07:42:47,694 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ()
2025-05-11 07:42:47,699 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE subject (
	uuid UUID NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	school_uuid UUID NOT NULL, 
	class_uuid UUID, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid), 
	FOREIGN KEY(class_uuid) REFERENCES class (uuid)
)


2025-05-11 07:42:47,699 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE subject (
	uuid UUID NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	school_uuid UUID NOT NULL, 
	class_uuid UUID, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid), 
	FOREIGN KEY(class_uuid) REFERENCES class (uuid)
)


2025-05-11 07:42:47,700 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ()
2025-05-11 07:42:47,700 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ()
2025-05-11 07:42:47,705 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE student (
	uuid UUID NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	class_uuid UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(class_uuid) REFERENCES class (uuid)
)


2025-05-11 07:42:47,705 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE student (
	uuid UUID NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	class_uuid UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(class_uuid) REFERENCES class (uuid)
)


2025-05-11 07:42:47,705 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ()
2025-05-11 07:42:47,705 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ()
2025-05-11 07:42:47,710 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE teacher_subject (
	teacher_uuid UUID NOT NULL, 
	subject_uuid UUID NOT NULL, 
	PRIMARY KEY (teacher_uuid, subject_uuid), 
	FOREIGN KEY(teacher_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(subject_uuid) REFERENCES subject (uuid)
)


2025-05-11 07:42:47,710 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE teacher_subject (
	teacher_uuid UUID NOT NULL, 
	subject_uuid UUID NOT NULL, 
	PRIMARY KEY (teacher_uuid, subject_uuid), 
	FOREIGN KEY(teacher_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(subject_uuid) REFERENCES subject (uuid)
)


2025-05-11 07:42:47,710 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ()
2025-05-11 07:42:47,710 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ()
2025-05-11 07:42:47,715 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE parent_child (
	parent_uuid UUID NOT NULL, 
	child_uuid UUID NOT NULL, 
	PRIMARY KEY (parent_uuid, child_uuid), 
	FOREIGN KEY(parent_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(child_uuid) REFERENCES user (uuid)
)


2025-05-11 07:42:47,715 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE parent_child (
	parent_uuid UUID NOT NULL, 
	child_uuid UUID NOT NULL, 
	PRIMARY KEY (parent_uuid, child_uuid), 
	FOREIGN KEY(parent_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(child_uuid) REFERENCES user (uuid)
)


2025-05-11 07:42:47,716 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ()
2025-05-11 07:42:47,716 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ()
2025-05-11 07:42:47,720 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_class (
	user_uuid UUID NOT NULL, 
	class_uuid UUID NOT NULL, 
	PRIMARY KEY (user_uuid, class_uuid), 
	FOREIGN KEY(user_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(class_uuid) REFERENCES class (uuid)
)


2025-05-11 07:42:47,720 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_class (
	user_uuid UUID NOT NULL, 
	class_uuid UUID NOT NULL, 
	PRIMARY KEY (user_uuid, class_uuid), 
	FOREIGN KEY(user_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(class_uuid) REFERENCES class (uuid)
)


2025-05-11 07:42:47,721 - sqlalchemy.engine.Engine - INFO - [no key 0.00036s] ()
2025-05-11 07:42:47,721 - sqlalchemy.engine.Engine - INFO - [no key 0.00036s] ()
2025-05-11 07:42:47,725 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE grade (
	uuid UUID NOT NULL, 
	user_uuid UUID NOT NULL, 
	subject_uuid UUID NOT NULL, 
	value FLOAT NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(user_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(subject_uuid) REFERENCES subject (uuid)
)


2025-05-11 07:42:47,725 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE grade (
	uuid UUID NOT NULL, 
	user_uuid UUID NOT NULL, 
	subject_uuid UUID NOT NULL, 
	value FLOAT NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(user_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(subject_uuid) REFERENCES subject (uuid)
)


2025-05-11 07:42:47,726 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ()
2025-05-11 07:42:47,726 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ()
2025-05-11 07:42:47,731 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE attendance (
	uuid UUID NOT NULL, 
	student_uuid UUID NOT NULL, 
	date DATETIME NOT NULL, 
	status VARCHAR(7) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(student_uuid) REFERENCES student (uuid)
)


2025-05-11 07:42:47,731 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE attendance (
	uuid UUID NOT NULL, 
	student_uuid UUID NOT NULL, 
	date DATETIME NOT NULL, 
	status VARCHAR(7) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(student_uuid) REFERENCES student (uuid)
)


2025-05-11 07:42:47,731 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ()
2025-05-11 07:42:47,731 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ()
2025-05-11 07:42:47,735 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:42:47,735 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:42:47,736 - fastapi_app - INFO - Database models initialized
2025-05-11 07:42:47,736 - fastapi_app - INFO - Database models initialized
2025-05-11 07:42:47,736 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:42:47,736 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:42:47,762 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:42:47,762 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:42:47,763 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:42:47,763 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:42:47,764 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('6b6ffdda4c3b4fb59af74c63774f1ac5', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:42:47.763843', '2025-05-11 07:42:47.763849')
2025-05-11 07:42:47,764 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('6b6ffdda4c3b4fb59af74c63774f1ac5', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:42:47.763843', '2025-05-11 07:42:47.763849')
2025-05-11 07:42:47,765 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:42:47,765 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:42:47,769 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:42:47,769 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:42:47,771 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:42:47,771 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:42:47,771 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('6b6ffdda4c3b4fb59af74c63774f1ac5',)
2025-05-11 07:42:47,771 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('6b6ffdda4c3b4fb59af74c63774f1ac5',)
2025-05-11 07:42:47,774 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:42:47,774 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:42:47,774 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('d3248d8bae6f4fbe86372a492d53cb9f', '9A', 2024, '6b6ffdda4c3b4fb59af74c63774f1ac5', '2025-05-11 07:42:47.774172', '2025-05-11 07:42:47.774176')
2025-05-11 07:42:47,774 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('d3248d8bae6f4fbe86372a492d53cb9f', '9A', 2024, '6b6ffdda4c3b4fb59af74c63774f1ac5', '2025-05-11 07:42:47.774172', '2025-05-11 07:42:47.774176')
2025-05-11 07:42:47,775 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:42:47,775 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:42:47,780 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:42:47,780 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:42:47,781 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:42:47,781 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:42:47,781 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('d3248d8bae6f4fbe86372a492d53cb9f',)
2025-05-11 07:42:47,781 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('d3248d8bae6f4fbe86372a492d53cb9f',)
2025-05-11 07:42:47,784 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:42:47,784 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:42:47,784 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s (insertmanyvalues) 1/1 (unordered)] ('bf88a31152e3440eba6de81baa29dd4c', 'Mathematics', '6b6ffdda4c3b4fb59af74c63774f1ac5', 'd3248d8bae6f4fbe86372a492d53cb9f', '2025-05-11 07:42:47.784307', '2025-05-11 07:42:47.784311', 'fca77e4164d14921bcab96f8190c5e85', 'Physics', '6b6ffdda4c3b4fb59af74c63774f1ac5', 'd3248d8bae6f4fbe86372a492d53cb9f', '2025-05-11 07:42:47.784319', '2025-05-11 07:42:47.784322', 'f4cfe78debe04452ad0af014f5b9b262', 'Chemistry', '6b6ffdda4c3b4fb59af74c63774f1ac5', 'd3248d8bae6f4fbe86372a492d53cb9f', '2025-05-11 07:42:47.784330', '2025-05-11 07:42:47.784332', 'f3fe2192c58640998a7716d51fb353e6', 'Biology', '6b6ffdda4c3b4fb59af74c63774f1ac5', 'd3248d8bae6f4fbe86372a492d53cb9f', '2025-05-11 07:42:47.784339', '2025-05-11 07:42:47.784343', 'b4634173812d4e49976a5d701078ebad', 'English', '6b6ffdda4c3b4fb59af74c63774f1ac5', 'd3248d8bae6f4fbe86372a492d53cb9f', '2025-05-11 07:42:47.784349', '2025-05-11 07:42:47.784352')
2025-05-11 07:42:47,784 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s (insertmanyvalues) 1/1 (unordered)] ('bf88a31152e3440eba6de81baa29dd4c', 'Mathematics', '6b6ffdda4c3b4fb59af74c63774f1ac5', 'd3248d8bae6f4fbe86372a492d53cb9f', '2025-05-11 07:42:47.784307', '2025-05-11 07:42:47.784311', 'fca77e4164d14921bcab96f8190c5e85', 'Physics', '6b6ffdda4c3b4fb59af74c63774f1ac5', 'd3248d8bae6f4fbe86372a492d53cb9f', '2025-05-11 07:42:47.784319', '2025-05-11 07:42:47.784322', 'f4cfe78debe04452ad0af014f5b9b262', 'Chemistry', '6b6ffdda4c3b4fb59af74c63774f1ac5', 'd3248d8bae6f4fbe86372a492d53cb9f', '2025-05-11 07:42:47.784330', '2025-05-11 07:42:47.784332', 'f3fe2192c58640998a7716d51fb353e6', 'Biology', '6b6ffdda4c3b4fb59af74c63774f1ac5', 'd3248d8bae6f4fbe86372a492d53cb9f', '2025-05-11 07:42:47.784339', '2025-05-11 07:42:47.784343', 'b4634173812d4e49976a5d701078ebad', 'English', '6b6ffdda4c3b4fb59af74c63774f1ac5', 'd3248d8bae6f4fbe86372a492d53cb9f', '2025-05-11 07:42:47.784349', '2025-05-11 07:42:47.784352')
2025-05-11 07:42:47,786 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:42:47,786 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:42:47,789 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:42:47,789 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:42:47,790 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:42:47,790 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:42:47,790 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('bf88a31152e3440eba6de81baa29dd4c',)
2025-05-11 07:42:47,790 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('bf88a31152e3440eba6de81baa29dd4c',)
2025-05-11 07:42:47,792 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:42:47,792 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:42:47,792 - sqlalchemy.engine.Engine - INFO - [cached since 0.001967s ago] ('fca77e4164d14921bcab96f8190c5e85',)
2025-05-11 07:42:47,792 - sqlalchemy.engine.Engine - INFO - [cached since 0.001967s ago] ('fca77e4164d14921bcab96f8190c5e85',)
2025-05-11 07:42:47,793 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:42:47,793 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:42:47,793 - sqlalchemy.engine.Engine - INFO - [cached since 0.00337s ago] ('f4cfe78debe04452ad0af014f5b9b262',)
2025-05-11 07:42:47,793 - sqlalchemy.engine.Engine - INFO - [cached since 0.00337s ago] ('f4cfe78debe04452ad0af014f5b9b262',)
2025-05-11 07:42:47,795 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:42:47,795 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:42:47,795 - sqlalchemy.engine.Engine - INFO - [cached since 0.005164s ago] ('f3fe2192c58640998a7716d51fb353e6',)
2025-05-11 07:42:47,795 - sqlalchemy.engine.Engine - INFO - [cached since 0.005164s ago] ('f3fe2192c58640998a7716d51fb353e6',)
2025-05-11 07:42:47,796 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:42:47,796 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:42:47,796 - sqlalchemy.engine.Engine - INFO - [cached since 0.006339s ago] ('b4634173812d4e49976a5d701078ebad',)
2025-05-11 07:42:47,796 - sqlalchemy.engine.Engine - INFO - [cached since 0.006339s ago] ('b4634173812d4e49976a5d701078ebad',)
2025-05-11 07:42:47,799 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, teacher_subjects, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:42:47,799 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, teacher_subjects, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:42:47,799 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s (insertmanyvalues) 1/1 (unordered)] ('74920d6cee7845189198e679b4d7fcf3', None, 'John Doe', 'homeroom_teacher', '["bf88a311-52e3-440e-ba6d-e81baa29dd4c", "fca77e41-64d1-4921-bcab-96f8190c5e85"]', None, '6b6ffdda4c3b4fb59af74c63774f1ac5', '2025-05-11 07:42:47.799127', '2025-05-11 07:42:47.799133', '2d2e9fd00c8b4932a3fbe9e84edf3e87', None, 'Jane Smith', 'subject_teacher', '["f4cfe78d-ebe0-4452-ad0a-f014f5b9b262", "f3fe2192-c586-4099-8a77-16d51fb353e6"]', None, '6b6ffdda4c3b4fb59af74c63774f1ac5', '2025-05-11 07:42:47.799140', '2025-05-11 07:42:47.799143', '254aa0ba6d6b4acd9cc702e82bcfe647', None, 'Bob Johnson', 'subject_teacher', '["b4634173-812d-4e49-976a-5d701078ebad"]', None, '6b6ffdda4c3b4fb59af74c63774f1ac5', '2025-05-11 07:42:47.799149', '2025-05-11 07:42:47.799152')
2025-05-11 07:42:47,799 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s (insertmanyvalues) 1/1 (unordered)] ('74920d6cee7845189198e679b4d7fcf3', None, 'John Doe', 'homeroom_teacher', '["bf88a311-52e3-440e-ba6d-e81baa29dd4c", "fca77e41-64d1-4921-bcab-96f8190c5e85"]', None, '6b6ffdda4c3b4fb59af74c63774f1ac5', '2025-05-11 07:42:47.799127', '2025-05-11 07:42:47.799133', '2d2e9fd00c8b4932a3fbe9e84edf3e87', None, 'Jane Smith', 'subject_teacher', '["f4cfe78d-ebe0-4452-ad0a-f014f5b9b262", "f3fe2192-c586-4099-8a77-16d51fb353e6"]', None, '6b6ffdda4c3b4fb59af74c63774f1ac5', '2025-05-11 07:42:47.799140', '2025-05-11 07:42:47.799143', '254aa0ba6d6b4acd9cc702e82bcfe647', None, 'Bob Johnson', 'subject_teacher', '["b4634173-812d-4e49-976a-5d701078ebad"]', None, '6b6ffdda4c3b4fb59af74c63774f1ac5', '2025-05-11 07:42:47.799149', '2025-05-11 07:42:47.799152')
2025-05-11 07:42:47,800 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:42:47,800 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:42:47,800 - tg_bot.setup.auto_init - ERROR - Error creating demo teachers: (sqlite3.IntegrityError) NOT NULL constraint failed: user.chat_id
[SQL: INSERT INTO user (uuid, chat_id, name, role, teacher_subjects, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('74920d6cee7845189198e679b4d7fcf3', None, 'John Doe', 'homeroom_teacher', '["bf88a311-52e3-440e-ba6d-e81baa29dd4c", "fca77e41-64d1-4921-bcab-96f8190c5e85"]', None, '6b6ffdda4c3b4fb59af74c63774f1ac5', '2025-05-11 07:42:47.799127', '2025-05-11 07:42:47.799133', '2d2e9fd00c8b4932a3fbe9e84edf3e87', None, 'Jane Smith', 'subject_teacher', '["f4cfe78d-ebe0-4452-ad0a-f014f5b9b262", "f3fe2192-c586-4099-8a77-16d51fb353e6"]', None, '6b6ffdda4c3b4fb59af74c63774f1ac5', '2025-05-11 07:42:47.799140', '2025-05-11 07:42:47.799143', '254aa0ba6d6b4acd9cc702e82bcfe647', None, 'Bob Johnson', 'subject_teacher', '["b4634173-812d-4e49-976a-5d701078ebad"]', None, '6b6ffdda4c3b4fb59af74c63774f1ac5', '2025-05-11 07:42:47.799149', '2025-05-11 07:42:47.799152')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-05-11 07:42:47,800 - tg_bot.setup.auto_init - ERROR - Error creating demo teachers: (sqlite3.IntegrityError) NOT NULL constraint failed: user.chat_id
[SQL: INSERT INTO user (uuid, chat_id, name, role, teacher_subjects, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('74920d6cee7845189198e679b4d7fcf3', None, 'John Doe', 'homeroom_teacher', '["bf88a311-52e3-440e-ba6d-e81baa29dd4c", "fca77e41-64d1-4921-bcab-96f8190c5e85"]', None, '6b6ffdda4c3b4fb59af74c63774f1ac5', '2025-05-11 07:42:47.799127', '2025-05-11 07:42:47.799133', '2d2e9fd00c8b4932a3fbe9e84edf3e87', None, 'Jane Smith', 'subject_teacher', '["f4cfe78d-ebe0-4452-ad0a-f014f5b9b262", "f3fe2192-c586-4099-8a77-16d51fb353e6"]', None, '6b6ffdda4c3b4fb59af74c63774f1ac5', '2025-05-11 07:42:47.799140', '2025-05-11 07:42:47.799143', '254aa0ba6d6b4acd9cc702e82bcfe647', None, 'Bob Johnson', 'subject_teacher', '["b4634173-812d-4e49-976a-5d701078ebad"]', None, '6b6ffdda4c3b4fb59af74c63774f1ac5', '2025-05-11 07:42:47.799149', '2025-05-11 07:42:47.799152')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-05-11 07:42:47,801 - tg_bot.setup.auto_init - ERROR - Failed to create demo teachers
2025-05-11 07:42:47,801 - tg_bot.setup.auto_init - ERROR - Failed to create demo teachers
2025-05-11 07:42:47,877 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:42:47,877 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:43:15,406 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:15,406 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:15,406 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:43:15,406 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:43:15,407 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:15,407 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:15,408 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:43:15,408 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:43:15,408 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:15,408 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:15,409 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:43:15,409 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:43:15,409 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:15,409 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:15,410 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:43:15,410 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:43:15,410 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:15,410 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:15,410 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:43:15,410 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:43:15,411 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:15,411 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:15,411 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:43:15,411 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:43:15,411 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:15,411 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:15,412 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:43:15,412 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:43:15,412 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:15,412 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:15,413 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:43:15,413 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:43:15,413 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:15,413 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:15,414 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:43:15,414 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:43:15,414 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:15,414 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:15,414 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:43:15,414 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:43:15,415 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:15,415 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:15,415 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:15,415 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:15,416 - fastapi_app - INFO - Database models initialized
2025-05-11 07:43:15,416 - fastapi_app - INFO - Database models initialized
2025-05-11 07:43:15,416 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:43:15,416 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:43:15,449 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:15,449 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:15,451 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:43:15,451 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:43:15,452 - sqlalchemy.engine.Engine - INFO - [generated in 0.00068s] ('6390628b4481478989b9dbf6c1673f94', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:43:15.451686', '2025-05-11 07:43:15.451693')
2025-05-11 07:43:15,452 - sqlalchemy.engine.Engine - INFO - [generated in 0.00068s] ('6390628b4481478989b9dbf6c1673f94', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:43:15.451686', '2025-05-11 07:43:15.451693')
2025-05-11 07:43:15,453 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:15,453 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:15,458 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:15,458 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:15,461 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:43:15,461 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:43:15,461 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('6390628b4481478989b9dbf6c1673f94',)
2025-05-11 07:43:15,461 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('6390628b4481478989b9dbf6c1673f94',)
2025-05-11 07:43:15,463 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:43:15,463 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:43:15,463 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('be070218e2b54424aa7c29047c4f2c66', '9A', 2024, '6390628b4481478989b9dbf6c1673f94', '2025-05-11 07:43:15.463718', '2025-05-11 07:43:15.463722')
2025-05-11 07:43:15,463 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('be070218e2b54424aa7c29047c4f2c66', '9A', 2024, '6390628b4481478989b9dbf6c1673f94', '2025-05-11 07:43:15.463718', '2025-05-11 07:43:15.463722')
2025-05-11 07:43:15,465 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:15,465 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:15,470 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:15,470 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:15,471 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:43:15,471 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:43:15,472 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('be070218e2b54424aa7c29047c4f2c66',)
2025-05-11 07:43:15,472 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('be070218e2b54424aa7c29047c4f2c66',)
2025-05-11 07:43:15,475 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:43:15,475 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:43:15,476 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s (insertmanyvalues) 1/1 (unordered)] ('2862a9b699624a32a2cbeeddc8a210ed', 'Mathematics', '6390628b4481478989b9dbf6c1673f94', 'be070218e2b54424aa7c29047c4f2c66', '2025-05-11 07:43:15.475702', '2025-05-11 07:43:15.475707', 'dcb28499a1f9432e904b34287391caa7', 'Physics', '6390628b4481478989b9dbf6c1673f94', 'be070218e2b54424aa7c29047c4f2c66', '2025-05-11 07:43:15.475714', '2025-05-11 07:43:15.475718', 'd12f6f38573f4439b45945e2214b4860', 'Chemistry', '6390628b4481478989b9dbf6c1673f94', 'be070218e2b54424aa7c29047c4f2c66', '2025-05-11 07:43:15.475725', '2025-05-11 07:43:15.475727', 'a8c99d6061d84df38531d67f6e8646b1', 'Biology', '6390628b4481478989b9dbf6c1673f94', 'be070218e2b54424aa7c29047c4f2c66', '2025-05-11 07:43:15.475735', '2025-05-11 07:43:15.475738', '560973dd075f4afd9fef493e6982fd9c', 'English', '6390628b4481478989b9dbf6c1673f94', 'be070218e2b54424aa7c29047c4f2c66', '2025-05-11 07:43:15.475744', '2025-05-11 07:43:15.475746')
2025-05-11 07:43:15,476 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s (insertmanyvalues) 1/1 (unordered)] ('2862a9b699624a32a2cbeeddc8a210ed', 'Mathematics', '6390628b4481478989b9dbf6c1673f94', 'be070218e2b54424aa7c29047c4f2c66', '2025-05-11 07:43:15.475702', '2025-05-11 07:43:15.475707', 'dcb28499a1f9432e904b34287391caa7', 'Physics', '6390628b4481478989b9dbf6c1673f94', 'be070218e2b54424aa7c29047c4f2c66', '2025-05-11 07:43:15.475714', '2025-05-11 07:43:15.475718', 'd12f6f38573f4439b45945e2214b4860', 'Chemistry', '6390628b4481478989b9dbf6c1673f94', 'be070218e2b54424aa7c29047c4f2c66', '2025-05-11 07:43:15.475725', '2025-05-11 07:43:15.475727', 'a8c99d6061d84df38531d67f6e8646b1', 'Biology', '6390628b4481478989b9dbf6c1673f94', 'be070218e2b54424aa7c29047c4f2c66', '2025-05-11 07:43:15.475735', '2025-05-11 07:43:15.475738', '560973dd075f4afd9fef493e6982fd9c', 'English', '6390628b4481478989b9dbf6c1673f94', 'be070218e2b54424aa7c29047c4f2c66', '2025-05-11 07:43:15.475744', '2025-05-11 07:43:15.475746')
2025-05-11 07:43:15,477 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:15,477 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:15,481 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:15,481 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:15,482 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:15,482 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:15,482 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('2862a9b699624a32a2cbeeddc8a210ed',)
2025-05-11 07:43:15,482 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('2862a9b699624a32a2cbeeddc8a210ed',)
2025-05-11 07:43:15,484 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:15,484 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:15,484 - sqlalchemy.engine.Engine - INFO - [cached since 0.002274s ago] ('dcb28499a1f9432e904b34287391caa7',)
2025-05-11 07:43:15,484 - sqlalchemy.engine.Engine - INFO - [cached since 0.002274s ago] ('dcb28499a1f9432e904b34287391caa7',)
2025-05-11 07:43:15,485 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:15,485 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:15,486 - sqlalchemy.engine.Engine - INFO - [cached since 0.003749s ago] ('d12f6f38573f4439b45945e2214b4860',)
2025-05-11 07:43:15,486 - sqlalchemy.engine.Engine - INFO - [cached since 0.003749s ago] ('d12f6f38573f4439b45945e2214b4860',)
2025-05-11 07:43:15,487 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:15,487 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:15,488 - sqlalchemy.engine.Engine - INFO - [cached since 0.005805s ago] ('a8c99d6061d84df38531d67f6e8646b1',)
2025-05-11 07:43:15,488 - sqlalchemy.engine.Engine - INFO - [cached since 0.005805s ago] ('a8c99d6061d84df38531d67f6e8646b1',)
2025-05-11 07:43:15,489 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:15,489 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:15,489 - sqlalchemy.engine.Engine - INFO - [cached since 0.007288s ago] ('560973dd075f4afd9fef493e6982fd9c',)
2025-05-11 07:43:15,489 - sqlalchemy.engine.Engine - INFO - [cached since 0.007288s ago] ('560973dd075f4afd9fef493e6982fd9c',)
2025-05-11 07:43:15,490 - tg_bot.setup.auto_init - ERROR - Error creating demo teachers: 'teacher_subjects' is an invalid keyword argument for User
2025-05-11 07:43:15,490 - tg_bot.setup.auto_init - ERROR - Error creating demo teachers: 'teacher_subjects' is an invalid keyword argument for User
2025-05-11 07:43:15,490 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:43:15,490 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:43:15,491 - tg_bot.setup.auto_init - ERROR - Failed to create demo teachers
2025-05-11 07:43:15,491 - tg_bot.setup.auto_init - ERROR - Failed to create demo teachers
2025-05-11 07:43:15,572 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:43:15,572 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:43:30,021 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:30,021 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:30,022 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:43:30,022 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:43:30,022 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:30,022 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:30,024 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:43:30,024 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:43:30,024 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:30,024 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:30,026 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:43:30,026 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:43:30,027 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:30,027 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:30,027 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:43:30,027 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:43:30,027 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:30,027 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:30,028 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:43:30,028 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:43:30,028 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:30,028 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:30,029 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:43:30,029 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:43:30,029 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:30,029 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:30,030 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:43:30,030 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:43:30,030 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:30,030 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:30,031 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:43:30,031 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("student")
2025-05-11 07:43:30,031 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:30,031 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:30,032 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:43:30,032 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:43:30,033 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:30,033 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:30,033 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:43:30,033 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:43:30,034 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:30,034 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:30,035 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:30,035 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:30,036 - fastapi_app - INFO - Database models initialized
2025-05-11 07:43:30,036 - fastapi_app - INFO - Database models initialized
2025-05-11 07:43:30,036 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:43:30,036 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:43:30,068 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:30,068 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:30,070 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:43:30,070 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:43:30,070 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('5c58a8706e83457f95007fd83dea5f6f', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:43:30.070215', '2025-05-11 07:43:30.070219')
2025-05-11 07:43:30,070 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('5c58a8706e83457f95007fd83dea5f6f', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:43:30.070215', '2025-05-11 07:43:30.070219')
2025-05-11 07:43:30,071 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:30,071 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:30,078 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:30,078 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:30,080 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:43:30,080 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:43:30,080 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('5c58a8706e83457f95007fd83dea5f6f',)
2025-05-11 07:43:30,080 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('5c58a8706e83457f95007fd83dea5f6f',)
2025-05-11 07:43:30,083 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:43:30,083 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:43:30,083 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('4e6b9f7a5100458392a70470e39dc111', '9A', 2024, '5c58a8706e83457f95007fd83dea5f6f', '2025-05-11 07:43:30.083091', '2025-05-11 07:43:30.083096')
2025-05-11 07:43:30,083 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('4e6b9f7a5100458392a70470e39dc111', '9A', 2024, '5c58a8706e83457f95007fd83dea5f6f', '2025-05-11 07:43:30.083091', '2025-05-11 07:43:30.083096')
2025-05-11 07:43:30,084 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:30,084 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:30,088 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:30,088 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:30,090 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:43:30,090 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:43:30,090 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('4e6b9f7a5100458392a70470e39dc111',)
2025-05-11 07:43:30,090 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('4e6b9f7a5100458392a70470e39dc111',)
2025-05-11 07:43:30,093 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:43:30,093 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:43:30,093 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s (insertmanyvalues) 1/1 (unordered)] ('4ee84bdfb74b45c1856dc5a34da8f99e', 'Mathematics', '5c58a8706e83457f95007fd83dea5f6f', '4e6b9f7a5100458392a70470e39dc111', '2025-05-11 07:43:30.093299', '2025-05-11 07:43:30.093305', '3d4a7c1199c546e7916949ea8e721333', 'Physics', '5c58a8706e83457f95007fd83dea5f6f', '4e6b9f7a5100458392a70470e39dc111', '2025-05-11 07:43:30.093314', '2025-05-11 07:43:30.093316', '89873fdb97c547ebb0e56b35ea7425ee', 'Chemistry', '5c58a8706e83457f95007fd83dea5f6f', '4e6b9f7a5100458392a70470e39dc111', '2025-05-11 07:43:30.093326', '2025-05-11 07:43:30.093329', '35256913033a4d0ebb25103e98be1362', 'Biology', '5c58a8706e83457f95007fd83dea5f6f', '4e6b9f7a5100458392a70470e39dc111', '2025-05-11 07:43:30.093336', '2025-05-11 07:43:30.093339', '79dfa6ab29f8449a9b984c14c8513fb8', 'English', '5c58a8706e83457f95007fd83dea5f6f', '4e6b9f7a5100458392a70470e39dc111', '2025-05-11 07:43:30.093346', '2025-05-11 07:43:30.093349')
2025-05-11 07:43:30,093 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s (insertmanyvalues) 1/1 (unordered)] ('4ee84bdfb74b45c1856dc5a34da8f99e', 'Mathematics', '5c58a8706e83457f95007fd83dea5f6f', '4e6b9f7a5100458392a70470e39dc111', '2025-05-11 07:43:30.093299', '2025-05-11 07:43:30.093305', '3d4a7c1199c546e7916949ea8e721333', 'Physics', '5c58a8706e83457f95007fd83dea5f6f', '4e6b9f7a5100458392a70470e39dc111', '2025-05-11 07:43:30.093314', '2025-05-11 07:43:30.093316', '89873fdb97c547ebb0e56b35ea7425ee', 'Chemistry', '5c58a8706e83457f95007fd83dea5f6f', '4e6b9f7a5100458392a70470e39dc111', '2025-05-11 07:43:30.093326', '2025-05-11 07:43:30.093329', '35256913033a4d0ebb25103e98be1362', 'Biology', '5c58a8706e83457f95007fd83dea5f6f', '4e6b9f7a5100458392a70470e39dc111', '2025-05-11 07:43:30.093336', '2025-05-11 07:43:30.093339', '79dfa6ab29f8449a9b984c14c8513fb8', 'English', '5c58a8706e83457f95007fd83dea5f6f', '4e6b9f7a5100458392a70470e39dc111', '2025-05-11 07:43:30.093346', '2025-05-11 07:43:30.093349')
2025-05-11 07:43:30,095 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:30,095 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:30,099 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:30,099 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:30,100 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:30,100 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:30,100 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('4ee84bdfb74b45c1856dc5a34da8f99e',)
2025-05-11 07:43:30,100 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('4ee84bdfb74b45c1856dc5a34da8f99e',)
2025-05-11 07:43:30,101 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:30,101 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:30,102 - sqlalchemy.engine.Engine - INFO - [cached since 0.001996s ago] ('3d4a7c1199c546e7916949ea8e721333',)
2025-05-11 07:43:30,102 - sqlalchemy.engine.Engine - INFO - [cached since 0.001996s ago] ('3d4a7c1199c546e7916949ea8e721333',)
2025-05-11 07:43:30,103 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:30,103 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:30,103 - sqlalchemy.engine.Engine - INFO - [cached since 0.003246s ago] ('89873fdb97c547ebb0e56b35ea7425ee',)
2025-05-11 07:43:30,103 - sqlalchemy.engine.Engine - INFO - [cached since 0.003246s ago] ('89873fdb97c547ebb0e56b35ea7425ee',)
2025-05-11 07:43:30,104 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:30,104 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:30,104 - sqlalchemy.engine.Engine - INFO - [cached since 0.004644s ago] ('35256913033a4d0ebb25103e98be1362',)
2025-05-11 07:43:30,104 - sqlalchemy.engine.Engine - INFO - [cached since 0.004644s ago] ('35256913033a4d0ebb25103e98be1362',)
2025-05-11 07:43:30,105 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:30,105 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:30,106 - sqlalchemy.engine.Engine - INFO - [cached since 0.005984s ago] ('79dfa6ab29f8449a9b984c14c8513fb8',)
2025-05-11 07:43:30,106 - sqlalchemy.engine.Engine - INFO - [cached since 0.005984s ago] ('79dfa6ab29f8449a9b984c14c8513fb8',)
2025-05-11 07:43:30,108 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:43:30,108 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:43:30,109 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s (insertmanyvalues) 1/1 (unordered)] ('31924a55039f4d6683ebe392532b2065', None, 'John Doe', 'homeroom_teacher', None, '5c58a8706e83457f95007fd83dea5f6f', '2025-05-11 07:43:30.108696', '2025-05-11 07:43:30.108700', '2c56659e10ad41249b11336fb06610e3', None, 'Jane Smith', 'subject_teacher', None, '5c58a8706e83457f95007fd83dea5f6f', '2025-05-11 07:43:30.108706', '2025-05-11 07:43:30.108709', 'd9d1d2bf099748deafadc541dd0c18de', None, 'Bob Johnson', 'subject_teacher', None, '5c58a8706e83457f95007fd83dea5f6f', '2025-05-11 07:43:30.108715', '2025-05-11 07:43:30.108717')
2025-05-11 07:43:30,109 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s (insertmanyvalues) 1/1 (unordered)] ('31924a55039f4d6683ebe392532b2065', None, 'John Doe', 'homeroom_teacher', None, '5c58a8706e83457f95007fd83dea5f6f', '2025-05-11 07:43:30.108696', '2025-05-11 07:43:30.108700', '2c56659e10ad41249b11336fb06610e3', None, 'Jane Smith', 'subject_teacher', None, '5c58a8706e83457f95007fd83dea5f6f', '2025-05-11 07:43:30.108706', '2025-05-11 07:43:30.108709', 'd9d1d2bf099748deafadc541dd0c18de', None, 'Bob Johnson', 'subject_teacher', None, '5c58a8706e83457f95007fd83dea5f6f', '2025-05-11 07:43:30.108715', '2025-05-11 07:43:30.108717')
2025-05-11 07:43:30,109 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:43:30,109 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:43:30,110 - tg_bot.setup.auto_init - ERROR - Error creating demo teachers: (sqlite3.IntegrityError) NOT NULL constraint failed: user.chat_id
[SQL: INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('31924a55039f4d6683ebe392532b2065', None, 'John Doe', 'homeroom_teacher', None, '5c58a8706e83457f95007fd83dea5f6f', '2025-05-11 07:43:30.108696', '2025-05-11 07:43:30.108700', '2c56659e10ad41249b11336fb06610e3', None, 'Jane Smith', 'subject_teacher', None, '5c58a8706e83457f95007fd83dea5f6f', '2025-05-11 07:43:30.108706', '2025-05-11 07:43:30.108709', 'd9d1d2bf099748deafadc541dd0c18de', None, 'Bob Johnson', 'subject_teacher', None, '5c58a8706e83457f95007fd83dea5f6f', '2025-05-11 07:43:30.108715', '2025-05-11 07:43:30.108717')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-05-11 07:43:30,110 - tg_bot.setup.auto_init - ERROR - Error creating demo teachers: (sqlite3.IntegrityError) NOT NULL constraint failed: user.chat_id
[SQL: INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('31924a55039f4d6683ebe392532b2065', None, 'John Doe', 'homeroom_teacher', None, '5c58a8706e83457f95007fd83dea5f6f', '2025-05-11 07:43:30.108696', '2025-05-11 07:43:30.108700', '2c56659e10ad41249b11336fb06610e3', None, 'Jane Smith', 'subject_teacher', None, '5c58a8706e83457f95007fd83dea5f6f', '2025-05-11 07:43:30.108706', '2025-05-11 07:43:30.108709', 'd9d1d2bf099748deafadc541dd0c18de', None, 'Bob Johnson', 'subject_teacher', None, '5c58a8706e83457f95007fd83dea5f6f', '2025-05-11 07:43:30.108715', '2025-05-11 07:43:30.108717')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-05-11 07:43:30,110 - tg_bot.setup.auto_init - ERROR - Failed to create demo teachers
2025-05-11 07:43:30,110 - tg_bot.setup.auto_init - ERROR - Failed to create demo teachers
2025-05-11 07:43:30,192 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:43:30,192 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:43:44,205 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:44,205 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:44,206 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:43:44,206 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:43:44,206 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:44,206 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:44,208 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:43:44,208 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:43:44,209 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:44,209 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:44,210 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:43:44,210 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:43:44,210 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:44,210 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:44,210 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:43:44,210 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:43:44,211 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:44,211 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:44,211 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:43:44,211 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:43:44,211 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:44,211 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:44,212 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:43:44,212 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:43:44,212 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:44,212 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:44,212 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:43:44,212 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:43:44,213 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:44,213 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:44,213 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:43:44,213 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:43:44,214 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:44,214 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:44,214 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:43:44,214 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:43:44,214 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:44,214 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:44,215 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:44,215 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:44,216 - fastapi_app - INFO - Database models initialized
2025-05-11 07:43:44,216 - fastapi_app - INFO - Database models initialized
2025-05-11 07:43:44,216 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:43:44,216 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:43:44,244 - tg_bot.setup.auto_init - ERROR - Error creating demo school: Mapper 'Mapper[User(user)]' has no property 'attendance'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2025-05-11 07:43:44,244 - tg_bot.setup.auto_init - ERROR - Error creating demo school: Mapper 'Mapper[User(user)]' has no property 'attendance'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2025-05-11 07:43:44,244 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:43:44,244 - tg_bot.setup.auto_init - ERROR - Failed to create demo school
2025-05-11 07:43:52,714 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:52,714 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:52,715 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:43:52,715 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:43:52,715 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:52,715 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:52,717 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:43:52,717 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:43:52,718 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:52,718 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:52,718 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:43:52,718 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:43:52,719 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:52,719 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:52,719 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:43:52,719 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:43:52,719 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:52,719 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:52,720 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:43:52,720 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:43:52,721 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:52,721 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:52,721 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:43:52,721 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:43:52,721 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:52,721 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:52,722 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:43:52,722 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:43:52,722 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:52,722 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:52,723 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:43:52,723 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:43:52,723 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:52,723 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:52,724 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:43:52,724 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:43:52,724 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:52,724 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:43:52,725 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:52,725 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:52,725 - fastapi_app - INFO - Database models initialized
2025-05-11 07:43:52,725 - fastapi_app - INFO - Database models initialized
2025-05-11 07:43:52,726 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:43:52,726 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:43:52,754 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:52,754 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:52,756 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:43:52,756 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:43:52,756 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] ('f89e9b6d74c94cc1826d384259eaabba', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:43:52.756125', '2025-05-11 07:43:52.756134')
2025-05-11 07:43:52,756 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] ('f89e9b6d74c94cc1826d384259eaabba', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:43:52.756125', '2025-05-11 07:43:52.756134')
2025-05-11 07:43:52,758 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:52,758 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:52,763 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:52,763 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:52,765 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:43:52,765 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:43:52,765 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('f89e9b6d74c94cc1826d384259eaabba',)
2025-05-11 07:43:52,765 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('f89e9b6d74c94cc1826d384259eaabba',)
2025-05-11 07:43:52,767 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:43:52,767 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:43:52,768 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ('97353c91680643098c6487037b90cb13', '9A', 2024, 'f89e9b6d74c94cc1826d384259eaabba', '2025-05-11 07:43:52.767696', '2025-05-11 07:43:52.767701')
2025-05-11 07:43:52,768 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ('97353c91680643098c6487037b90cb13', '9A', 2024, 'f89e9b6d74c94cc1826d384259eaabba', '2025-05-11 07:43:52.767696', '2025-05-11 07:43:52.767701')
2025-05-11 07:43:52,769 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:52,769 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:52,775 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:52,775 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:52,776 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:43:52,776 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:43:52,776 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('97353c91680643098c6487037b90cb13',)
2025-05-11 07:43:52,776 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('97353c91680643098c6487037b90cb13',)
2025-05-11 07:43:52,780 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:43:52,780 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:43:52,780 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s (insertmanyvalues) 1/1 (unordered)] ('3519b513e4bc4840a1d57f7a6eeab903', 'Mathematics', 'f89e9b6d74c94cc1826d384259eaabba', '97353c91680643098c6487037b90cb13', '2025-05-11 07:43:52.780131', '2025-05-11 07:43:52.780139', '8265d8727a734051885f136b49b1d6fd', 'Physics', 'f89e9b6d74c94cc1826d384259eaabba', '97353c91680643098c6487037b90cb13', '2025-05-11 07:43:52.780147', '2025-05-11 07:43:52.780149', 'a9be02cba8324b45bfec07c35eab160c', 'Chemistry', 'f89e9b6d74c94cc1826d384259eaabba', '97353c91680643098c6487037b90cb13', '2025-05-11 07:43:52.780156', '2025-05-11 07:43:52.780160', '0b106f38b1e64beea2b33cb959d2efbf', 'Biology', 'f89e9b6d74c94cc1826d384259eaabba', '97353c91680643098c6487037b90cb13', '2025-05-11 07:43:52.780166', '2025-05-11 07:43:52.780169', '6a1ac29c8786482f973dc27626dff0dd', 'English', 'f89e9b6d74c94cc1826d384259eaabba', '97353c91680643098c6487037b90cb13', '2025-05-11 07:43:52.780176', '2025-05-11 07:43:52.780179')
2025-05-11 07:43:52,780 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s (insertmanyvalues) 1/1 (unordered)] ('3519b513e4bc4840a1d57f7a6eeab903', 'Mathematics', 'f89e9b6d74c94cc1826d384259eaabba', '97353c91680643098c6487037b90cb13', '2025-05-11 07:43:52.780131', '2025-05-11 07:43:52.780139', '8265d8727a734051885f136b49b1d6fd', 'Physics', 'f89e9b6d74c94cc1826d384259eaabba', '97353c91680643098c6487037b90cb13', '2025-05-11 07:43:52.780147', '2025-05-11 07:43:52.780149', 'a9be02cba8324b45bfec07c35eab160c', 'Chemistry', 'f89e9b6d74c94cc1826d384259eaabba', '97353c91680643098c6487037b90cb13', '2025-05-11 07:43:52.780156', '2025-05-11 07:43:52.780160', '0b106f38b1e64beea2b33cb959d2efbf', 'Biology', 'f89e9b6d74c94cc1826d384259eaabba', '97353c91680643098c6487037b90cb13', '2025-05-11 07:43:52.780166', '2025-05-11 07:43:52.780169', '6a1ac29c8786482f973dc27626dff0dd', 'English', 'f89e9b6d74c94cc1826d384259eaabba', '97353c91680643098c6487037b90cb13', '2025-05-11 07:43:52.780176', '2025-05-11 07:43:52.780179')
2025-05-11 07:43:52,783 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:52,783 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:43:52,788 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:52,788 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:43:52,789 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:52,789 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:52,789 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('3519b513e4bc4840a1d57f7a6eeab903',)
2025-05-11 07:43:52,789 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('3519b513e4bc4840a1d57f7a6eeab903',)
2025-05-11 07:43:52,791 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:52,791 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:52,791 - sqlalchemy.engine.Engine - INFO - [cached since 0.002411s ago] ('8265d8727a734051885f136b49b1d6fd',)
2025-05-11 07:43:52,791 - sqlalchemy.engine.Engine - INFO - [cached since 0.002411s ago] ('8265d8727a734051885f136b49b1d6fd',)
2025-05-11 07:43:52,792 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:52,792 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:52,792 - sqlalchemy.engine.Engine - INFO - [cached since 0.00361s ago] ('a9be02cba8324b45bfec07c35eab160c',)
2025-05-11 07:43:52,792 - sqlalchemy.engine.Engine - INFO - [cached since 0.00361s ago] ('a9be02cba8324b45bfec07c35eab160c',)
2025-05-11 07:43:52,794 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:52,794 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:52,794 - sqlalchemy.engine.Engine - INFO - [cached since 0.005051s ago] ('0b106f38b1e64beea2b33cb959d2efbf',)
2025-05-11 07:43:52,794 - sqlalchemy.engine.Engine - INFO - [cached since 0.005051s ago] ('0b106f38b1e64beea2b33cb959d2efbf',)
2025-05-11 07:43:52,795 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:52,795 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:43:52,795 - sqlalchemy.engine.Engine - INFO - [cached since 0.00629s ago] ('6a1ac29c8786482f973dc27626dff0dd',)
2025-05-11 07:43:52,795 - sqlalchemy.engine.Engine - INFO - [cached since 0.00629s ago] ('6a1ac29c8786482f973dc27626dff0dd',)
2025-05-11 07:43:52,798 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:43:52,798 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:43:52,799 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s (insertmanyvalues) 1/1 (unordered)] ('f9c46286321b40fe845de97dd7ea451d', None, 'John Doe', 'homeroom_teacher', None, 'f89e9b6d74c94cc1826d384259eaabba', '2025-05-11 07:43:52.798597', '2025-05-11 07:43:52.798602', 'bffbcfd4bb3d4f3b9e597a9a69e9522c', None, 'Jane Smith', 'subject_teacher', None, 'f89e9b6d74c94cc1826d384259eaabba', '2025-05-11 07:43:52.798610', '2025-05-11 07:43:52.798613', '55a70df6b6214249a27d065643361241', None, 'Bob Johnson', 'subject_teacher', None, 'f89e9b6d74c94cc1826d384259eaabba', '2025-05-11 07:43:52.798618', '2025-05-11 07:43:52.798620')
2025-05-11 07:43:52,799 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s (insertmanyvalues) 1/1 (unordered)] ('f9c46286321b40fe845de97dd7ea451d', None, 'John Doe', 'homeroom_teacher', None, 'f89e9b6d74c94cc1826d384259eaabba', '2025-05-11 07:43:52.798597', '2025-05-11 07:43:52.798602', 'bffbcfd4bb3d4f3b9e597a9a69e9522c', None, 'Jane Smith', 'subject_teacher', None, 'f89e9b6d74c94cc1826d384259eaabba', '2025-05-11 07:43:52.798610', '2025-05-11 07:43:52.798613', '55a70df6b6214249a27d065643361241', None, 'Bob Johnson', 'subject_teacher', None, 'f89e9b6d74c94cc1826d384259eaabba', '2025-05-11 07:43:52.798618', '2025-05-11 07:43:52.798620')
2025-05-11 07:43:52,800 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:43:52,800 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:43:52,800 - tg_bot.setup.auto_init - ERROR - Error creating demo teachers: (sqlite3.IntegrityError) NOT NULL constraint failed: user.chat_id
[SQL: INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('f9c46286321b40fe845de97dd7ea451d', None, 'John Doe', 'homeroom_teacher', None, 'f89e9b6d74c94cc1826d384259eaabba', '2025-05-11 07:43:52.798597', '2025-05-11 07:43:52.798602', 'bffbcfd4bb3d4f3b9e597a9a69e9522c', None, 'Jane Smith', 'subject_teacher', None, 'f89e9b6d74c94cc1826d384259eaabba', '2025-05-11 07:43:52.798610', '2025-05-11 07:43:52.798613', '55a70df6b6214249a27d065643361241', None, 'Bob Johnson', 'subject_teacher', None, 'f89e9b6d74c94cc1826d384259eaabba', '2025-05-11 07:43:52.798618', '2025-05-11 07:43:52.798620')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-05-11 07:43:52,800 - tg_bot.setup.auto_init - ERROR - Error creating demo teachers: (sqlite3.IntegrityError) NOT NULL constraint failed: user.chat_id
[SQL: INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('f9c46286321b40fe845de97dd7ea451d', None, 'John Doe', 'homeroom_teacher', None, 'f89e9b6d74c94cc1826d384259eaabba', '2025-05-11 07:43:52.798597', '2025-05-11 07:43:52.798602', 'bffbcfd4bb3d4f3b9e597a9a69e9522c', None, 'Jane Smith', 'subject_teacher', None, 'f89e9b6d74c94cc1826d384259eaabba', '2025-05-11 07:43:52.798610', '2025-05-11 07:43:52.798613', '55a70df6b6214249a27d065643361241', None, 'Bob Johnson', 'subject_teacher', None, 'f89e9b6d74c94cc1826d384259eaabba', '2025-05-11 07:43:52.798618', '2025-05-11 07:43:52.798620')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-05-11 07:43:52,801 - tg_bot.setup.auto_init - ERROR - Failed to create demo teachers
2025-05-11 07:43:52,801 - tg_bot.setup.auto_init - ERROR - Failed to create demo teachers
2025-05-11 07:47:03,852 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:03,852 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:03,853 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:47:03,853 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:47:03,853 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:03,853 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:03,855 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:47:03,855 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:47:03,855 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:03,855 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:03,855 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:47:03,855 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:47:03,856 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:03,856 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:03,856 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:47:03,856 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:47:03,856 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:03,856 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:03,857 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:47:03,857 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:47:03,857 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:03,857 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:03,858 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:47:03,858 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:47:03,858 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:03,858 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:03,859 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:47:03,859 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:47:03,859 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:03,859 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:03,859 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:47:03,859 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:47:03,860 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:03,860 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:03,860 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:47:03,860 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:47:03,860 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:03,860 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:03,861 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:47:03,861 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:47:03,862 - fastapi_app - INFO - Database models initialized
2025-05-11 07:47:03,862 - fastapi_app - INFO - Database models initialized
2025-05-11 07:47:03,862 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:47:03,862 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:47:03,883 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:03,883 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:03,885 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:47:03,885 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:47:03,885 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('9102a4a271914893aaae17e71b059351', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:47:03.885002', '2025-05-11 07:47:03.885007')
2025-05-11 07:47:03,885 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('9102a4a271914893aaae17e71b059351', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:47:03.885002', '2025-05-11 07:47:03.885007')
2025-05-11 07:47:03,886 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:47:03,886 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:47:03,892 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:03,892 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:03,894 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:47:03,894 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:47:03,894 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('9102a4a271914893aaae17e71b059351',)
2025-05-11 07:47:03,894 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('9102a4a271914893aaae17e71b059351',)
2025-05-11 07:47:03,896 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:47:03,896 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:47:03,897 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('3416bdc13e6448e5af6c44f360fe0d85', '9A', 2024, '9102a4a271914893aaae17e71b059351', '2025-05-11 07:47:03.896867', '2025-05-11 07:47:03.896872')
2025-05-11 07:47:03,897 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('3416bdc13e6448e5af6c44f360fe0d85', '9A', 2024, '9102a4a271914893aaae17e71b059351', '2025-05-11 07:47:03.896867', '2025-05-11 07:47:03.896872')
2025-05-11 07:47:03,898 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:47:03,898 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:47:03,903 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:03,903 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:03,905 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:47:03,905 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:47:03,905 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('3416bdc13e6448e5af6c44f360fe0d85',)
2025-05-11 07:47:03,905 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('3416bdc13e6448e5af6c44f360fe0d85',)
2025-05-11 07:47:03,907 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:47:03,907 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:47:03,907 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s (insertmanyvalues) 1/1 (unordered)] ('e25c9f48a41b4f1c8156af87d77a2dcb', 'Mathematics', '9102a4a271914893aaae17e71b059351', '3416bdc13e6448e5af6c44f360fe0d85', '2025-05-11 07:47:03.907598', '2025-05-11 07:47:03.907602', '68cf50f9554445a8ab3a4edfebe506f9', 'Physics', '9102a4a271914893aaae17e71b059351', '3416bdc13e6448e5af6c44f360fe0d85', '2025-05-11 07:47:03.907608', '2025-05-11 07:47:03.907611', '27361996d5f94222a4494f4f2e7dddb4', 'Chemistry', '9102a4a271914893aaae17e71b059351', '3416bdc13e6448e5af6c44f360fe0d85', '2025-05-11 07:47:03.907616', '2025-05-11 07:47:03.907619', '9b6aedecdd934c3ab06593196d8244f3', 'Biology', '9102a4a271914893aaae17e71b059351', '3416bdc13e6448e5af6c44f360fe0d85', '2025-05-11 07:47:03.907624', '2025-05-11 07:47:03.907626', '88ab7b0e90354433a97311b84852a7d1', 'English', '9102a4a271914893aaae17e71b059351', '3416bdc13e6448e5af6c44f360fe0d85', '2025-05-11 07:47:03.907630', '2025-05-11 07:47:03.907633')
2025-05-11 07:47:03,907 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s (insertmanyvalues) 1/1 (unordered)] ('e25c9f48a41b4f1c8156af87d77a2dcb', 'Mathematics', '9102a4a271914893aaae17e71b059351', '3416bdc13e6448e5af6c44f360fe0d85', '2025-05-11 07:47:03.907598', '2025-05-11 07:47:03.907602', '68cf50f9554445a8ab3a4edfebe506f9', 'Physics', '9102a4a271914893aaae17e71b059351', '3416bdc13e6448e5af6c44f360fe0d85', '2025-05-11 07:47:03.907608', '2025-05-11 07:47:03.907611', '27361996d5f94222a4494f4f2e7dddb4', 'Chemistry', '9102a4a271914893aaae17e71b059351', '3416bdc13e6448e5af6c44f360fe0d85', '2025-05-11 07:47:03.907616', '2025-05-11 07:47:03.907619', '9b6aedecdd934c3ab06593196d8244f3', 'Biology', '9102a4a271914893aaae17e71b059351', '3416bdc13e6448e5af6c44f360fe0d85', '2025-05-11 07:47:03.907624', '2025-05-11 07:47:03.907626', '88ab7b0e90354433a97311b84852a7d1', 'English', '9102a4a271914893aaae17e71b059351', '3416bdc13e6448e5af6c44f360fe0d85', '2025-05-11 07:47:03.907630', '2025-05-11 07:47:03.907633')
2025-05-11 07:47:03,909 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:47:03,909 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:47:03,914 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:03,914 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:03,915 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:47:03,915 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:47:03,915 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('e25c9f48a41b4f1c8156af87d77a2dcb',)
2025-05-11 07:47:03,915 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('e25c9f48a41b4f1c8156af87d77a2dcb',)
2025-05-11 07:47:03,916 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:47:03,916 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:47:03,916 - sqlalchemy.engine.Engine - INFO - [cached since 0.001622s ago] ('68cf50f9554445a8ab3a4edfebe506f9',)
2025-05-11 07:47:03,916 - sqlalchemy.engine.Engine - INFO - [cached since 0.001622s ago] ('68cf50f9554445a8ab3a4edfebe506f9',)
2025-05-11 07:47:03,917 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:47:03,917 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:47:03,918 - sqlalchemy.engine.Engine - INFO - [cached since 0.003013s ago] ('27361996d5f94222a4494f4f2e7dddb4',)
2025-05-11 07:47:03,918 - sqlalchemy.engine.Engine - INFO - [cached since 0.003013s ago] ('27361996d5f94222a4494f4f2e7dddb4',)
2025-05-11 07:47:03,918 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:47:03,918 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:47:03,919 - sqlalchemy.engine.Engine - INFO - [cached since 0.004167s ago] ('9b6aedecdd934c3ab06593196d8244f3',)
2025-05-11 07:47:03,919 - sqlalchemy.engine.Engine - INFO - [cached since 0.004167s ago] ('9b6aedecdd934c3ab06593196d8244f3',)
2025-05-11 07:47:03,920 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:47:03,920 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:47:03,920 - sqlalchemy.engine.Engine - INFO - [cached since 0.005257s ago] ('88ab7b0e90354433a97311b84852a7d1',)
2025-05-11 07:47:03,920 - sqlalchemy.engine.Engine - INFO - [cached since 0.005257s ago] ('88ab7b0e90354433a97311b84852a7d1',)
2025-05-11 07:47:03,922 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:47:03,922 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:47:03,923 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/1 (unordered)] ('963e57cccd4a430c8aabd40bf0336ef0', None, 'John Doe', 'homeroom_teacher', None, '9102a4a271914893aaae17e71b059351', '2025-05-11 07:47:03.922662', '2025-05-11 07:47:03.922666', '0be7c497f862401b8f05faad887885de', None, 'Jane Smith', 'subject_teacher', None, '9102a4a271914893aaae17e71b059351', '2025-05-11 07:47:03.922672', '2025-05-11 07:47:03.922674', '42f1507c7e4347a5af88f021c06895e0', None, 'Bob Johnson', 'subject_teacher', None, '9102a4a271914893aaae17e71b059351', '2025-05-11 07:47:03.922681', '2025-05-11 07:47:03.922682')
2025-05-11 07:47:03,923 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/1 (unordered)] ('963e57cccd4a430c8aabd40bf0336ef0', None, 'John Doe', 'homeroom_teacher', None, '9102a4a271914893aaae17e71b059351', '2025-05-11 07:47:03.922662', '2025-05-11 07:47:03.922666', '0be7c497f862401b8f05faad887885de', None, 'Jane Smith', 'subject_teacher', None, '9102a4a271914893aaae17e71b059351', '2025-05-11 07:47:03.922672', '2025-05-11 07:47:03.922674', '42f1507c7e4347a5af88f021c06895e0', None, 'Bob Johnson', 'subject_teacher', None, '9102a4a271914893aaae17e71b059351', '2025-05-11 07:47:03.922681', '2025-05-11 07:47:03.922682')
2025-05-11 07:47:03,923 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:47:03,923 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:47:03,924 - tg_bot.setup.auto_init - ERROR - Error creating demo teachers: (sqlite3.IntegrityError) NOT NULL constraint failed: user.chat_id
[SQL: INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('963e57cccd4a430c8aabd40bf0336ef0', None, 'John Doe', 'homeroom_teacher', None, '9102a4a271914893aaae17e71b059351', '2025-05-11 07:47:03.922662', '2025-05-11 07:47:03.922666', '0be7c497f862401b8f05faad887885de', None, 'Jane Smith', 'subject_teacher', None, '9102a4a271914893aaae17e71b059351', '2025-05-11 07:47:03.922672', '2025-05-11 07:47:03.922674', '42f1507c7e4347a5af88f021c06895e0', None, 'Bob Johnson', 'subject_teacher', None, '9102a4a271914893aaae17e71b059351', '2025-05-11 07:47:03.922681', '2025-05-11 07:47:03.922682')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-05-11 07:47:03,924 - tg_bot.setup.auto_init - ERROR - Error creating demo teachers: (sqlite3.IntegrityError) NOT NULL constraint failed: user.chat_id
[SQL: INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('963e57cccd4a430c8aabd40bf0336ef0', None, 'John Doe', 'homeroom_teacher', None, '9102a4a271914893aaae17e71b059351', '2025-05-11 07:47:03.922662', '2025-05-11 07:47:03.922666', '0be7c497f862401b8f05faad887885de', None, 'Jane Smith', 'subject_teacher', None, '9102a4a271914893aaae17e71b059351', '2025-05-11 07:47:03.922672', '2025-05-11 07:47:03.922674', '42f1507c7e4347a5af88f021c06895e0', None, 'Bob Johnson', 'subject_teacher', None, '9102a4a271914893aaae17e71b059351', '2025-05-11 07:47:03.922681', '2025-05-11 07:47:03.922682')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-05-11 07:47:03,924 - tg_bot.setup.auto_init - ERROR - Failed to create demo teachers
2025-05-11 07:47:03,924 - tg_bot.setup.auto_init - ERROR - Failed to create demo teachers
2025-05-11 07:47:27,791 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:27,791 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:27,792 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:47:27,792 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:47:27,792 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,792 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,793 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("teacher_subject")
2025-05-11 07:47:27,793 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("teacher_subject")
2025-05-11 07:47:27,793 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,793 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,794 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:47:27,794 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:47:27,794 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,794 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,794 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("parent_child")
2025-05-11 07:47:27,794 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("parent_child")
2025-05-11 07:47:27,794 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,794 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,795 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:47:27,795 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:47:27,795 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,795 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,796 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_class")
2025-05-11 07:47:27,796 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_class")
2025-05-11 07:47:27,796 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,796 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,796 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:47:27,796 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:47:27,797 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,797 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,797 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user")
2025-05-11 07:47:27,797 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user")
2025-05-11 07:47:27,797 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,797 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,798 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:47:27,798 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:47:27,798 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,798 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,799 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("school")
2025-05-11 07:47:27,799 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("school")
2025-05-11 07:47:27,799 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,799 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,799 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:47:27,799 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:47:27,800 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,800 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,800 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("subject")
2025-05-11 07:47:27,800 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("subject")
2025-05-11 07:47:27,800 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,800 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,801 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:47:27,801 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:47:27,801 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,801 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,802 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("class")
2025-05-11 07:47:27,802 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("class")
2025-05-11 07:47:27,802 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,802 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,802 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:47:27,802 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:47:27,802 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,802 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,803 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("grade")
2025-05-11 07:47:27,803 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("grade")
2025-05-11 07:47:27,803 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,803 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,804 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:47:27,804 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:47:27,804 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,804 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,804 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("attendance")
2025-05-11 07:47:27,804 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("attendance")
2025-05-11 07:47:27,804 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,804 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:47:27,805 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE school (
	uuid UUID NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	address VARCHAR(200) NOT NULL, 
	phone VARCHAR(20) NOT NULL, 
	email VARCHAR(100) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid)
)


2025-05-11 07:47:27,805 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE school (
	uuid UUID NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	address VARCHAR(200) NOT NULL, 
	phone VARCHAR(20) NOT NULL, 
	email VARCHAR(100) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid)
)


2025-05-11 07:47:27,806 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ()
2025-05-11 07:47:27,806 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ()
2025-05-11 07:47:27,813 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE class (
	uuid UUID NOT NULL, 
	name VARCHAR(50) NOT NULL, 
	start_year INTEGER NOT NULL, 
	school_uuid UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid)
)


2025-05-11 07:47:27,813 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE class (
	uuid UUID NOT NULL, 
	name VARCHAR(50) NOT NULL, 
	start_year INTEGER NOT NULL, 
	school_uuid UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid)
)


2025-05-11 07:47:27,813 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ()
2025-05-11 07:47:27,813 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ()
2025-05-11 07:47:27,818 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user (
	uuid UUID NOT NULL, 
	chat_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	role VARCHAR(16) NOT NULL, 
	managed_class_uuid UUID, 
	school_uuid UUID, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	UNIQUE (chat_id), 
	FOREIGN KEY(managed_class_uuid) REFERENCES class (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid)
)


2025-05-11 07:47:27,818 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user (
	uuid UUID NOT NULL, 
	chat_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	role VARCHAR(16) NOT NULL, 
	managed_class_uuid UUID, 
	school_uuid UUID, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	UNIQUE (chat_id), 
	FOREIGN KEY(managed_class_uuid) REFERENCES class (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid)
)


2025-05-11 07:47:27,818 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ()
2025-05-11 07:47:27,818 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ()
2025-05-11 07:47:27,824 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE subject (
	uuid UUID NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	school_uuid UUID NOT NULL, 
	class_uuid UUID, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid), 
	FOREIGN KEY(class_uuid) REFERENCES class (uuid)
)


2025-05-11 07:47:27,824 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE subject (
	uuid UUID NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	school_uuid UUID NOT NULL, 
	class_uuid UUID, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid), 
	FOREIGN KEY(class_uuid) REFERENCES class (uuid)
)


2025-05-11 07:47:27,825 - sqlalchemy.engine.Engine - INFO - [no key 0.00037s] ()
2025-05-11 07:47:27,825 - sqlalchemy.engine.Engine - INFO - [no key 0.00037s] ()
2025-05-11 07:47:27,830 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE teacher_subject (
	teacher_uuid UUID NOT NULL, 
	subject_uuid UUID NOT NULL, 
	PRIMARY KEY (teacher_uuid, subject_uuid), 
	FOREIGN KEY(teacher_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(subject_uuid) REFERENCES subject (uuid)
)


2025-05-11 07:47:27,830 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE teacher_subject (
	teacher_uuid UUID NOT NULL, 
	subject_uuid UUID NOT NULL, 
	PRIMARY KEY (teacher_uuid, subject_uuid), 
	FOREIGN KEY(teacher_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(subject_uuid) REFERENCES subject (uuid)
)


2025-05-11 07:47:27,831 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ()
2025-05-11 07:47:27,831 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ()
2025-05-11 07:47:27,836 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE parent_child (
	parent_uuid UUID NOT NULL, 
	child_uuid UUID NOT NULL, 
	PRIMARY KEY (parent_uuid, child_uuid), 
	FOREIGN KEY(parent_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(child_uuid) REFERENCES user (uuid)
)


2025-05-11 07:47:27,836 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE parent_child (
	parent_uuid UUID NOT NULL, 
	child_uuid UUID NOT NULL, 
	PRIMARY KEY (parent_uuid, child_uuid), 
	FOREIGN KEY(parent_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(child_uuid) REFERENCES user (uuid)
)


2025-05-11 07:47:27,836 - sqlalchemy.engine.Engine - INFO - [no key 0.00026s] ()
2025-05-11 07:47:27,836 - sqlalchemy.engine.Engine - INFO - [no key 0.00026s] ()
2025-05-11 07:47:27,841 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_class (
	user_uuid UUID NOT NULL, 
	class_uuid UUID NOT NULL, 
	PRIMARY KEY (user_uuid, class_uuid), 
	FOREIGN KEY(user_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(class_uuid) REFERENCES class (uuid)
)


2025-05-11 07:47:27,841 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_class (
	user_uuid UUID NOT NULL, 
	class_uuid UUID NOT NULL, 
	PRIMARY KEY (user_uuid, class_uuid), 
	FOREIGN KEY(user_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(class_uuid) REFERENCES class (uuid)
)


2025-05-11 07:47:27,841 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ()
2025-05-11 07:47:27,841 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ()
2025-05-11 07:47:27,846 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE grade (
	uuid UUID NOT NULL, 
	user_uuid UUID NOT NULL, 
	subject_uuid UUID NOT NULL, 
	value FLOAT NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(user_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(subject_uuid) REFERENCES subject (uuid)
)


2025-05-11 07:47:27,846 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE grade (
	uuid UUID NOT NULL, 
	user_uuid UUID NOT NULL, 
	subject_uuid UUID NOT NULL, 
	value FLOAT NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(user_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(subject_uuid) REFERENCES subject (uuid)
)


2025-05-11 07:47:27,846 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ()
2025-05-11 07:47:27,846 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ()
2025-05-11 07:47:27,851 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE attendance (
	uuid UUID NOT NULL, 
	user_uuid UUID NOT NULL, 
	date DATETIME NOT NULL, 
	status VARCHAR(7) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(user_uuid) REFERENCES user (uuid)
)


2025-05-11 07:47:27,851 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE attendance (
	uuid UUID NOT NULL, 
	user_uuid UUID NOT NULL, 
	date DATETIME NOT NULL, 
	status VARCHAR(7) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(user_uuid) REFERENCES user (uuid)
)


2025-05-11 07:47:27,851 - sqlalchemy.engine.Engine - INFO - [no key 0.00026s] ()
2025-05-11 07:47:27,851 - sqlalchemy.engine.Engine - INFO - [no key 0.00026s] ()
2025-05-11 07:47:27,856 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:47:27,856 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:47:27,857 - fastapi_app - INFO - Database models initialized
2025-05-11 07:47:27,857 - fastapi_app - INFO - Database models initialized
2025-05-11 07:47:27,857 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:47:27,857 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:47:27,883 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:27,883 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:27,884 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:47:27,884 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:47:27,885 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('0d98e6c7ec5844acb6f68364e60c4259', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:47:27.884880', '2025-05-11 07:47:27.884885')
2025-05-11 07:47:27,885 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('0d98e6c7ec5844acb6f68364e60c4259', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:47:27.884880', '2025-05-11 07:47:27.884885')
2025-05-11 07:47:27,886 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:47:27,886 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:47:27,890 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:27,890 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:27,893 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:47:27,893 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:47:27,893 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('0d98e6c7ec5844acb6f68364e60c4259',)
2025-05-11 07:47:27,893 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('0d98e6c7ec5844acb6f68364e60c4259',)
2025-05-11 07:47:27,895 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:47:27,895 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:47:27,895 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('bfefcd681e0849e79c9ebd98e2ad2ae0', '9A', 2024, '0d98e6c7ec5844acb6f68364e60c4259', '2025-05-11 07:47:27.895577', '2025-05-11 07:47:27.895581')
2025-05-11 07:47:27,895 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('bfefcd681e0849e79c9ebd98e2ad2ae0', '9A', 2024, '0d98e6c7ec5844acb6f68364e60c4259', '2025-05-11 07:47:27.895577', '2025-05-11 07:47:27.895581')
2025-05-11 07:47:27,896 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:47:27,896 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:47:27,900 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:27,900 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:27,901 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:47:27,901 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:47:27,902 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('bfefcd681e0849e79c9ebd98e2ad2ae0',)
2025-05-11 07:47:27,902 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('bfefcd681e0849e79c9ebd98e2ad2ae0',)
2025-05-11 07:47:27,904 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:47:27,904 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:47:27,904 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/1 (unordered)] ('3e6c7fe1de97420eb906a1eb54a6f3c7', 'Mathematics', '0d98e6c7ec5844acb6f68364e60c4259', 'bfefcd681e0849e79c9ebd98e2ad2ae0', '2025-05-11 07:47:27.904388', '2025-05-11 07:47:27.904393', '629facb8490240b7a33c1482a3a8ca19', 'Physics', '0d98e6c7ec5844acb6f68364e60c4259', 'bfefcd681e0849e79c9ebd98e2ad2ae0', '2025-05-11 07:47:27.904399', '2025-05-11 07:47:27.904401', 'b1b3aca719c74798b221feaf7da1fe99', 'Chemistry', '0d98e6c7ec5844acb6f68364e60c4259', 'bfefcd681e0849e79c9ebd98e2ad2ae0', '2025-05-11 07:47:27.904408', '2025-05-11 07:47:27.904410', '953cc1d9696b45839ba974c990c4580a', 'Biology', '0d98e6c7ec5844acb6f68364e60c4259', 'bfefcd681e0849e79c9ebd98e2ad2ae0', '2025-05-11 07:47:27.904416', '2025-05-11 07:47:27.904418', '7799c1b381e5491797828656029ea8c9', 'English', '0d98e6c7ec5844acb6f68364e60c4259', 'bfefcd681e0849e79c9ebd98e2ad2ae0', '2025-05-11 07:47:27.904423', '2025-05-11 07:47:27.904426')
2025-05-11 07:47:27,904 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/1 (unordered)] ('3e6c7fe1de97420eb906a1eb54a6f3c7', 'Mathematics', '0d98e6c7ec5844acb6f68364e60c4259', 'bfefcd681e0849e79c9ebd98e2ad2ae0', '2025-05-11 07:47:27.904388', '2025-05-11 07:47:27.904393', '629facb8490240b7a33c1482a3a8ca19', 'Physics', '0d98e6c7ec5844acb6f68364e60c4259', 'bfefcd681e0849e79c9ebd98e2ad2ae0', '2025-05-11 07:47:27.904399', '2025-05-11 07:47:27.904401', 'b1b3aca719c74798b221feaf7da1fe99', 'Chemistry', '0d98e6c7ec5844acb6f68364e60c4259', 'bfefcd681e0849e79c9ebd98e2ad2ae0', '2025-05-11 07:47:27.904408', '2025-05-11 07:47:27.904410', '953cc1d9696b45839ba974c990c4580a', 'Biology', '0d98e6c7ec5844acb6f68364e60c4259', 'bfefcd681e0849e79c9ebd98e2ad2ae0', '2025-05-11 07:47:27.904416', '2025-05-11 07:47:27.904418', '7799c1b381e5491797828656029ea8c9', 'English', '0d98e6c7ec5844acb6f68364e60c4259', 'bfefcd681e0849e79c9ebd98e2ad2ae0', '2025-05-11 07:47:27.904423', '2025-05-11 07:47:27.904426')
2025-05-11 07:47:27,906 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:47:27,906 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:47:27,911 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:27,911 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:27,912 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:47:27,912 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:47:27,912 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('3e6c7fe1de97420eb906a1eb54a6f3c7',)
2025-05-11 07:47:27,912 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('3e6c7fe1de97420eb906a1eb54a6f3c7',)
2025-05-11 07:47:27,914 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:47:27,914 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:47:27,914 - sqlalchemy.engine.Engine - INFO - [cached since 0.00198s ago] ('629facb8490240b7a33c1482a3a8ca19',)
2025-05-11 07:47:27,914 - sqlalchemy.engine.Engine - INFO - [cached since 0.00198s ago] ('629facb8490240b7a33c1482a3a8ca19',)
2025-05-11 07:47:27,915 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:47:27,915 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:47:27,916 - sqlalchemy.engine.Engine - INFO - [cached since 0.003655s ago] ('b1b3aca719c74798b221feaf7da1fe99',)
2025-05-11 07:47:27,916 - sqlalchemy.engine.Engine - INFO - [cached since 0.003655s ago] ('b1b3aca719c74798b221feaf7da1fe99',)
2025-05-11 07:47:27,917 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:47:27,917 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:47:27,917 - sqlalchemy.engine.Engine - INFO - [cached since 0.005365s ago] ('953cc1d9696b45839ba974c990c4580a',)
2025-05-11 07:47:27,917 - sqlalchemy.engine.Engine - INFO - [cached since 0.005365s ago] ('953cc1d9696b45839ba974c990c4580a',)
2025-05-11 07:47:27,918 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:47:27,918 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:47:27,919 - sqlalchemy.engine.Engine - INFO - [cached since 0.00654s ago] ('7799c1b381e5491797828656029ea8c9',)
2025-05-11 07:47:27,919 - sqlalchemy.engine.Engine - INFO - [cached since 0.00654s ago] ('7799c1b381e5491797828656029ea8c9',)
2025-05-11 07:47:27,922 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:47:27,922 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:47:27,922 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s (insertmanyvalues) 1/1 (unordered)] ('e6734ddb24434637be5e4100cbcad720', None, 'John Doe', 'homeroom_teacher', None, '0d98e6c7ec5844acb6f68364e60c4259', '2025-05-11 07:47:27.921901', '2025-05-11 07:47:27.921906', 'b61770c6843d4088b7c0500abac899c0', None, 'Jane Smith', 'subject_teacher', None, '0d98e6c7ec5844acb6f68364e60c4259', '2025-05-11 07:47:27.921914', '2025-05-11 07:47:27.921916', 'b18d0776d8d349939f02d119693462fe', None, 'Bob Johnson', 'subject_teacher', None, '0d98e6c7ec5844acb6f68364e60c4259', '2025-05-11 07:47:27.921923', '2025-05-11 07:47:27.921926')
2025-05-11 07:47:27,922 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s (insertmanyvalues) 1/1 (unordered)] ('e6734ddb24434637be5e4100cbcad720', None, 'John Doe', 'homeroom_teacher', None, '0d98e6c7ec5844acb6f68364e60c4259', '2025-05-11 07:47:27.921901', '2025-05-11 07:47:27.921906', 'b61770c6843d4088b7c0500abac899c0', None, 'Jane Smith', 'subject_teacher', None, '0d98e6c7ec5844acb6f68364e60c4259', '2025-05-11 07:47:27.921914', '2025-05-11 07:47:27.921916', 'b18d0776d8d349939f02d119693462fe', None, 'Bob Johnson', 'subject_teacher', None, '0d98e6c7ec5844acb6f68364e60c4259', '2025-05-11 07:47:27.921923', '2025-05-11 07:47:27.921926')
2025-05-11 07:47:27,924 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:47:27,924 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:47:27,924 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] [('b18d0776d8d349939f02d119693462fe', '7799c1b381e5491797828656029ea8c9'), ('e6734ddb24434637be5e4100cbcad720', '629facb8490240b7a33c1482a3a8ca19'), ('b61770c6843d4088b7c0500abac899c0', 'b1b3aca719c74798b221feaf7da1fe99'), ('b61770c6843d4088b7c0500abac899c0', '953cc1d9696b45839ba974c990c4580a'), ('e6734ddb24434637be5e4100cbcad720', '3e6c7fe1de97420eb906a1eb54a6f3c7')]
2025-05-11 07:47:27,924 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] [('b18d0776d8d349939f02d119693462fe', '7799c1b381e5491797828656029ea8c9'), ('e6734ddb24434637be5e4100cbcad720', '629facb8490240b7a33c1482a3a8ca19'), ('b61770c6843d4088b7c0500abac899c0', 'b1b3aca719c74798b221feaf7da1fe99'), ('b61770c6843d4088b7c0500abac899c0', '953cc1d9696b45839ba974c990c4580a'), ('e6734ddb24434637be5e4100cbcad720', '3e6c7fe1de97420eb906a1eb54a6f3c7')]
2025-05-11 07:47:27,925 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:47:27,925 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:47:27,930 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:27,930 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:27,931 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:47:27,931 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:47:27,931 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('e6734ddb24434637be5e4100cbcad720',)
2025-05-11 07:47:27,931 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('e6734ddb24434637be5e4100cbcad720',)
2025-05-11 07:47:27,932 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:47:27,932 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:47:27,933 - sqlalchemy.engine.Engine - INFO - [cached since 0.001782s ago] ('b61770c6843d4088b7c0500abac899c0',)
2025-05-11 07:47:27,933 - sqlalchemy.engine.Engine - INFO - [cached since 0.001782s ago] ('b61770c6843d4088b7c0500abac899c0',)
2025-05-11 07:47:27,934 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:47:27,934 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:47:27,934 - sqlalchemy.engine.Engine - INFO - [cached since 0.003023s ago] ('b18d0776d8d349939f02d119693462fe',)
2025-05-11 07:47:27,934 - sqlalchemy.engine.Engine - INFO - [cached since 0.003023s ago] ('b18d0776d8d349939f02d119693462fe',)
2025-05-11 07:47:27,936 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:47:27,936 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:47:27,936 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('bfefcd681e0849e79c9ebd98e2ad2ae0', '2025-05-11 07:47:27.936155', 'e6734ddb24434637be5e4100cbcad720')
2025-05-11 07:47:27,936 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('bfefcd681e0849e79c9ebd98e2ad2ae0', '2025-05-11 07:47:27.936155', 'e6734ddb24434637be5e4100cbcad720')
2025-05-11 07:47:27,937 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:47:27,937 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:47:27,941 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:27,941 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:47:27,941 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:47:27,941 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:47:27,941 - sqlalchemy.engine.Engine - INFO - [cached since 0.01032s ago] ('e6734ddb24434637be5e4100cbcad720',)
2025-05-11 07:47:27,941 - sqlalchemy.engine.Engine - INFO - [cached since 0.01032s ago] ('e6734ddb24434637be5e4100cbcad720',)
2025-05-11 07:47:27,942 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:47:27,942 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:47:27,942 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:47:27,942 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:48:10,353 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:10,353 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:10,354 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:48:10,354 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:48:10,354 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:10,354 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:10,355 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:48:10,355 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:48:10,355 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:10,355 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:10,356 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:48:10,356 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:48:10,356 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:10,356 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:10,356 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:48:10,356 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:48:10,356 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:10,356 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:10,357 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:48:10,357 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:48:10,357 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:10,357 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:10,358 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:48:10,358 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:48:10,358 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:10,358 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:10,359 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:48:10,359 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:48:10,359 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:10,359 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:10,359 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:48:10,359 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:48:10,359 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:10,359 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:10,360 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:48:10,360 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:48:10,360 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:10,360 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:10,361 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:10,361 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:10,361 - fastapi_app - INFO - Database models initialized
2025-05-11 07:48:10,361 - fastapi_app - INFO - Database models initialized
2025-05-11 07:48:10,361 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:48:10,361 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:48:10,387 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:10,387 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:10,389 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:48:10,389 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:48:10,389 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('e45e518495d34a37aa18239452588522', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:48:10.389118', '2025-05-11 07:48:10.389123')
2025-05-11 07:48:10,389 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('e45e518495d34a37aa18239452588522', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:48:10.389118', '2025-05-11 07:48:10.389123')
2025-05-11 07:48:10,391 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:10,391 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:10,398 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:10,398 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:10,401 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:48:10,401 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:48:10,401 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('e45e518495d34a37aa18239452588522',)
2025-05-11 07:48:10,401 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('e45e518495d34a37aa18239452588522',)
2025-05-11 07:48:10,403 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:48:10,403 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:48:10,403 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('f055ebbbf38b432796c833fcd36efd0b', '9A', 2024, 'e45e518495d34a37aa18239452588522', '2025-05-11 07:48:10.403341', '2025-05-11 07:48:10.403347')
2025-05-11 07:48:10,403 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('f055ebbbf38b432796c833fcd36efd0b', '9A', 2024, 'e45e518495d34a37aa18239452588522', '2025-05-11 07:48:10.403341', '2025-05-11 07:48:10.403347')
2025-05-11 07:48:10,404 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:10,404 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:10,410 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:10,410 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:10,411 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:48:10,411 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:48:10,411 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('f055ebbbf38b432796c833fcd36efd0b',)
2025-05-11 07:48:10,411 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('f055ebbbf38b432796c833fcd36efd0b',)
2025-05-11 07:48:10,415 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:48:10,415 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:48:10,415 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s (insertmanyvalues) 1/1 (unordered)] ('77c24c8d37b54bb58360a732a69fd89e', 'Mathematics', 'e45e518495d34a37aa18239452588522', 'f055ebbbf38b432796c833fcd36efd0b', '2025-05-11 07:48:10.415157', '2025-05-11 07:48:10.415165', 'b6e347849e384881aa39359834a81165', 'Physics', 'e45e518495d34a37aa18239452588522', 'f055ebbbf38b432796c833fcd36efd0b', '2025-05-11 07:48:10.415172', '2025-05-11 07:48:10.415175', '1cea4d107fc945a7977623d2416d4e7e', 'Chemistry', 'e45e518495d34a37aa18239452588522', 'f055ebbbf38b432796c833fcd36efd0b', '2025-05-11 07:48:10.415181', '2025-05-11 07:48:10.415183', 'c2364f6d79b046ef968a6bbb3d5fcd9f', 'Biology', 'e45e518495d34a37aa18239452588522', 'f055ebbbf38b432796c833fcd36efd0b', '2025-05-11 07:48:10.415189', '2025-05-11 07:48:10.415191', '0b0e74c19aff463ea3442232fb3316b7', 'English', 'e45e518495d34a37aa18239452588522', 'f055ebbbf38b432796c833fcd36efd0b', '2025-05-11 07:48:10.415197', '2025-05-11 07:48:10.415200')
2025-05-11 07:48:10,415 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s (insertmanyvalues) 1/1 (unordered)] ('77c24c8d37b54bb58360a732a69fd89e', 'Mathematics', 'e45e518495d34a37aa18239452588522', 'f055ebbbf38b432796c833fcd36efd0b', '2025-05-11 07:48:10.415157', '2025-05-11 07:48:10.415165', 'b6e347849e384881aa39359834a81165', 'Physics', 'e45e518495d34a37aa18239452588522', 'f055ebbbf38b432796c833fcd36efd0b', '2025-05-11 07:48:10.415172', '2025-05-11 07:48:10.415175', '1cea4d107fc945a7977623d2416d4e7e', 'Chemistry', 'e45e518495d34a37aa18239452588522', 'f055ebbbf38b432796c833fcd36efd0b', '2025-05-11 07:48:10.415181', '2025-05-11 07:48:10.415183', 'c2364f6d79b046ef968a6bbb3d5fcd9f', 'Biology', 'e45e518495d34a37aa18239452588522', 'f055ebbbf38b432796c833fcd36efd0b', '2025-05-11 07:48:10.415189', '2025-05-11 07:48:10.415191', '0b0e74c19aff463ea3442232fb3316b7', 'English', 'e45e518495d34a37aa18239452588522', 'f055ebbbf38b432796c833fcd36efd0b', '2025-05-11 07:48:10.415197', '2025-05-11 07:48:10.415200')
2025-05-11 07:48:10,417 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:10,417 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:10,422 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:10,422 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:10,423 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:10,423 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:10,424 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('77c24c8d37b54bb58360a732a69fd89e',)
2025-05-11 07:48:10,424 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('77c24c8d37b54bb58360a732a69fd89e',)
2025-05-11 07:48:10,425 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:10,425 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:10,425 - sqlalchemy.engine.Engine - INFO - [cached since 0.002108s ago] ('b6e347849e384881aa39359834a81165',)
2025-05-11 07:48:10,425 - sqlalchemy.engine.Engine - INFO - [cached since 0.002108s ago] ('b6e347849e384881aa39359834a81165',)
2025-05-11 07:48:10,427 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:10,427 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:10,427 - sqlalchemy.engine.Engine - INFO - [cached since 0.003523s ago] ('1cea4d107fc945a7977623d2416d4e7e',)
2025-05-11 07:48:10,427 - sqlalchemy.engine.Engine - INFO - [cached since 0.003523s ago] ('1cea4d107fc945a7977623d2416d4e7e',)
2025-05-11 07:48:10,429 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:10,429 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:10,429 - sqlalchemy.engine.Engine - INFO - [cached since 0.005543s ago] ('c2364f6d79b046ef968a6bbb3d5fcd9f',)
2025-05-11 07:48:10,429 - sqlalchemy.engine.Engine - INFO - [cached since 0.005543s ago] ('c2364f6d79b046ef968a6bbb3d5fcd9f',)
2025-05-11 07:48:10,430 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:10,430 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:10,430 - sqlalchemy.engine.Engine - INFO - [cached since 0.007085s ago] ('0b0e74c19aff463ea3442232fb3316b7',)
2025-05-11 07:48:10,430 - sqlalchemy.engine.Engine - INFO - [cached since 0.007085s ago] ('0b0e74c19aff463ea3442232fb3316b7',)
2025-05-11 07:48:10,435 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:48:10,435 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:48:10,435 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s (insertmanyvalues) 1/1 (unordered)] ('ca9eb9755c134bfa94ff4acca15d13f1', None, 'John Doe', 'homeroom_teacher', None, 'e45e518495d34a37aa18239452588522', '2025-05-11 07:48:10.434791', '2025-05-11 07:48:10.434799', 'ea9011e4cdfe447ebff5f473a5d98a1c', None, 'Jane Smith', 'subject_teacher', None, 'e45e518495d34a37aa18239452588522', '2025-05-11 07:48:10.434805', '2025-05-11 07:48:10.434808', '08bac791bd7d4b7ebca078037e2ed712', None, 'Bob Johnson', 'subject_teacher', None, 'e45e518495d34a37aa18239452588522', '2025-05-11 07:48:10.434814', '2025-05-11 07:48:10.434816')
2025-05-11 07:48:10,435 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s (insertmanyvalues) 1/1 (unordered)] ('ca9eb9755c134bfa94ff4acca15d13f1', None, 'John Doe', 'homeroom_teacher', None, 'e45e518495d34a37aa18239452588522', '2025-05-11 07:48:10.434791', '2025-05-11 07:48:10.434799', 'ea9011e4cdfe447ebff5f473a5d98a1c', None, 'Jane Smith', 'subject_teacher', None, 'e45e518495d34a37aa18239452588522', '2025-05-11 07:48:10.434805', '2025-05-11 07:48:10.434808', '08bac791bd7d4b7ebca078037e2ed712', None, 'Bob Johnson', 'subject_teacher', None, 'e45e518495d34a37aa18239452588522', '2025-05-11 07:48:10.434814', '2025-05-11 07:48:10.434816')
2025-05-11 07:48:10,437 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:48:10,437 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:48:10,437 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] [('ca9eb9755c134bfa94ff4acca15d13f1', 'b6e347849e384881aa39359834a81165'), ('ea9011e4cdfe447ebff5f473a5d98a1c', '1cea4d107fc945a7977623d2416d4e7e'), ('ea9011e4cdfe447ebff5f473a5d98a1c', 'c2364f6d79b046ef968a6bbb3d5fcd9f'), ('ca9eb9755c134bfa94ff4acca15d13f1', '77c24c8d37b54bb58360a732a69fd89e'), ('08bac791bd7d4b7ebca078037e2ed712', '0b0e74c19aff463ea3442232fb3316b7')]
2025-05-11 07:48:10,437 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] [('ca9eb9755c134bfa94ff4acca15d13f1', 'b6e347849e384881aa39359834a81165'), ('ea9011e4cdfe447ebff5f473a5d98a1c', '1cea4d107fc945a7977623d2416d4e7e'), ('ea9011e4cdfe447ebff5f473a5d98a1c', 'c2364f6d79b046ef968a6bbb3d5fcd9f'), ('ca9eb9755c134bfa94ff4acca15d13f1', '77c24c8d37b54bb58360a732a69fd89e'), ('08bac791bd7d4b7ebca078037e2ed712', '0b0e74c19aff463ea3442232fb3316b7')]
2025-05-11 07:48:10,439 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:10,439 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:10,444 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:10,444 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:10,446 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:10,446 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:10,446 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('ca9eb9755c134bfa94ff4acca15d13f1',)
2025-05-11 07:48:10,446 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('ca9eb9755c134bfa94ff4acca15d13f1',)
2025-05-11 07:48:10,447 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:10,447 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:10,447 - sqlalchemy.engine.Engine - INFO - [cached since 0.00203s ago] ('ea9011e4cdfe447ebff5f473a5d98a1c',)
2025-05-11 07:48:10,447 - sqlalchemy.engine.Engine - INFO - [cached since 0.00203s ago] ('ea9011e4cdfe447ebff5f473a5d98a1c',)
2025-05-11 07:48:10,449 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:10,449 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:10,450 - sqlalchemy.engine.Engine - INFO - [cached since 0.004221s ago] ('08bac791bd7d4b7ebca078037e2ed712',)
2025-05-11 07:48:10,450 - sqlalchemy.engine.Engine - INFO - [cached since 0.004221s ago] ('08bac791bd7d4b7ebca078037e2ed712',)
2025-05-11 07:48:10,453 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:48:10,453 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:48:10,453 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('f055ebbbf38b432796c833fcd36efd0b', '2025-05-11 07:48:10.453003', 'ca9eb9755c134bfa94ff4acca15d13f1')
2025-05-11 07:48:10,453 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('f055ebbbf38b432796c833fcd36efd0b', '2025-05-11 07:48:10.453003', 'ca9eb9755c134bfa94ff4acca15d13f1')
2025-05-11 07:48:10,454 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:10,454 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:10,459 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:10,459 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:10,459 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:10,459 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:10,460 - sqlalchemy.engine.Engine - INFO - [cached since 0.01419s ago] ('ca9eb9755c134bfa94ff4acca15d13f1',)
2025-05-11 07:48:10,460 - sqlalchemy.engine.Engine - INFO - [cached since 0.01419s ago] ('ca9eb9755c134bfa94ff4acca15d13f1',)
2025-05-11 07:48:10,461 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:48:10,461 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:48:10,461 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:48:10,461 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:48:23,546 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:23,546 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:23,547 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:48:23,547 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:48:23,547 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:23,547 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:23,548 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:48:23,548 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:48:23,549 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:23,549 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:23,549 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:48:23,549 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:48:23,549 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:23,549 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:23,550 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:48:23,550 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:48:23,550 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:23,550 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:23,550 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:48:23,550 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:48:23,551 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:23,551 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:23,551 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:48:23,551 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:48:23,552 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:23,552 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:23,552 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:48:23,552 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:48:23,553 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:23,553 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:23,553 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:48:23,553 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:48:23,553 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:23,553 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:23,554 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:48:23,554 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:48:23,554 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:23,554 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:23,554 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:23,554 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:23,555 - fastapi_app - INFO - Database models initialized
2025-05-11 07:48:23,555 - fastapi_app - INFO - Database models initialized
2025-05-11 07:48:23,555 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:48:23,555 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:48:23,582 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:23,582 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:23,583 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:48:23,583 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:48:23,584 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] ('3bffb181218c4ad59d4334eb043492ec', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:48:23.583883', '2025-05-11 07:48:23.583889')
2025-05-11 07:48:23,584 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] ('3bffb181218c4ad59d4334eb043492ec', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:48:23.583883', '2025-05-11 07:48:23.583889')
2025-05-11 07:48:23,585 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:23,585 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:23,590 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:23,590 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:23,593 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:48:23,593 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:48:23,593 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('3bffb181218c4ad59d4334eb043492ec',)
2025-05-11 07:48:23,593 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('3bffb181218c4ad59d4334eb043492ec',)
2025-05-11 07:48:23,595 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:48:23,595 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:48:23,595 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('e8a5146c40ab442a9bd9a98aec434c4b', '9A', 2024, '3bffb181218c4ad59d4334eb043492ec', '2025-05-11 07:48:23.595488', '2025-05-11 07:48:23.595496')
2025-05-11 07:48:23,595 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('e8a5146c40ab442a9bd9a98aec434c4b', '9A', 2024, '3bffb181218c4ad59d4334eb043492ec', '2025-05-11 07:48:23.595488', '2025-05-11 07:48:23.595496')
2025-05-11 07:48:23,597 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:23,597 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:23,601 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:23,601 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:23,603 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:48:23,603 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:48:23,603 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('e8a5146c40ab442a9bd9a98aec434c4b',)
2025-05-11 07:48:23,603 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('e8a5146c40ab442a9bd9a98aec434c4b',)
2025-05-11 07:48:23,606 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:48:23,606 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:48:23,607 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s (insertmanyvalues) 1/1 (unordered)] ('634d799d864b401d877a0397876dc636', 'Mathematics', '3bffb181218c4ad59d4334eb043492ec', 'e8a5146c40ab442a9bd9a98aec434c4b', '2025-05-11 07:48:23.606636', '2025-05-11 07:48:23.606640', 'da594410ed5d41dfadf3e62290cc3b4c', 'Physics', '3bffb181218c4ad59d4334eb043492ec', 'e8a5146c40ab442a9bd9a98aec434c4b', '2025-05-11 07:48:23.606647', '2025-05-11 07:48:23.606649', 'a234d023a5b042b087115ec4af679fb8', 'Chemistry', '3bffb181218c4ad59d4334eb043492ec', 'e8a5146c40ab442a9bd9a98aec434c4b', '2025-05-11 07:48:23.606655', '2025-05-11 07:48:23.606658', '0b0e697c312f463ab0a1746de2b38f9b', 'Biology', '3bffb181218c4ad59d4334eb043492ec', 'e8a5146c40ab442a9bd9a98aec434c4b', '2025-05-11 07:48:23.606662', '2025-05-11 07:48:23.606665', 'e0d913f617344ad9a03b2d40667989b3', 'English', '3bffb181218c4ad59d4334eb043492ec', 'e8a5146c40ab442a9bd9a98aec434c4b', '2025-05-11 07:48:23.606669', '2025-05-11 07:48:23.606672')
2025-05-11 07:48:23,607 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s (insertmanyvalues) 1/1 (unordered)] ('634d799d864b401d877a0397876dc636', 'Mathematics', '3bffb181218c4ad59d4334eb043492ec', 'e8a5146c40ab442a9bd9a98aec434c4b', '2025-05-11 07:48:23.606636', '2025-05-11 07:48:23.606640', 'da594410ed5d41dfadf3e62290cc3b4c', 'Physics', '3bffb181218c4ad59d4334eb043492ec', 'e8a5146c40ab442a9bd9a98aec434c4b', '2025-05-11 07:48:23.606647', '2025-05-11 07:48:23.606649', 'a234d023a5b042b087115ec4af679fb8', 'Chemistry', '3bffb181218c4ad59d4334eb043492ec', 'e8a5146c40ab442a9bd9a98aec434c4b', '2025-05-11 07:48:23.606655', '2025-05-11 07:48:23.606658', '0b0e697c312f463ab0a1746de2b38f9b', 'Biology', '3bffb181218c4ad59d4334eb043492ec', 'e8a5146c40ab442a9bd9a98aec434c4b', '2025-05-11 07:48:23.606662', '2025-05-11 07:48:23.606665', 'e0d913f617344ad9a03b2d40667989b3', 'English', '3bffb181218c4ad59d4334eb043492ec', 'e8a5146c40ab442a9bd9a98aec434c4b', '2025-05-11 07:48:23.606669', '2025-05-11 07:48:23.606672')
2025-05-11 07:48:23,608 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:23,608 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:23,613 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:23,613 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:23,614 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:23,614 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:23,615 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('634d799d864b401d877a0397876dc636',)
2025-05-11 07:48:23,615 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('634d799d864b401d877a0397876dc636',)
2025-05-11 07:48:23,616 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:23,616 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:23,616 - sqlalchemy.engine.Engine - INFO - [cached since 0.002201s ago] ('da594410ed5d41dfadf3e62290cc3b4c',)
2025-05-11 07:48:23,616 - sqlalchemy.engine.Engine - INFO - [cached since 0.002201s ago] ('da594410ed5d41dfadf3e62290cc3b4c',)
2025-05-11 07:48:23,617 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:23,617 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:23,618 - sqlalchemy.engine.Engine - INFO - [cached since 0.003538s ago] ('a234d023a5b042b087115ec4af679fb8',)
2025-05-11 07:48:23,618 - sqlalchemy.engine.Engine - INFO - [cached since 0.003538s ago] ('a234d023a5b042b087115ec4af679fb8',)
2025-05-11 07:48:23,619 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:23,619 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:23,619 - sqlalchemy.engine.Engine - INFO - [cached since 0.00508s ago] ('0b0e697c312f463ab0a1746de2b38f9b',)
2025-05-11 07:48:23,619 - sqlalchemy.engine.Engine - INFO - [cached since 0.00508s ago] ('0b0e697c312f463ab0a1746de2b38f9b',)
2025-05-11 07:48:23,620 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:23,620 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:23,621 - sqlalchemy.engine.Engine - INFO - [cached since 0.006436s ago] ('e0d913f617344ad9a03b2d40667989b3',)
2025-05-11 07:48:23,621 - sqlalchemy.engine.Engine - INFO - [cached since 0.006436s ago] ('e0d913f617344ad9a03b2d40667989b3',)
2025-05-11 07:48:23,624 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:48:23,624 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:48:23,624 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s (insertmanyvalues) 1/1 (unordered)] ('14768285266044afa85dc28ce95dce3b', None, 'John Doe', 'homeroom_teacher', None, '3bffb181218c4ad59d4334eb043492ec', '2025-05-11 07:48:23.624352', '2025-05-11 07:48:23.624359', '2039aa8d6a154e29838a80d35aa3379d', None, 'Jane Smith', 'subject_teacher', None, '3bffb181218c4ad59d4334eb043492ec', '2025-05-11 07:48:23.624370', '2025-05-11 07:48:23.624373', 'd2b454c84a6c495aaffa4762ea039d17', None, 'Bob Johnson', 'subject_teacher', None, '3bffb181218c4ad59d4334eb043492ec', '2025-05-11 07:48:23.624380', '2025-05-11 07:48:23.624383')
2025-05-11 07:48:23,624 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s (insertmanyvalues) 1/1 (unordered)] ('14768285266044afa85dc28ce95dce3b', None, 'John Doe', 'homeroom_teacher', None, '3bffb181218c4ad59d4334eb043492ec', '2025-05-11 07:48:23.624352', '2025-05-11 07:48:23.624359', '2039aa8d6a154e29838a80d35aa3379d', None, 'Jane Smith', 'subject_teacher', None, '3bffb181218c4ad59d4334eb043492ec', '2025-05-11 07:48:23.624370', '2025-05-11 07:48:23.624373', 'd2b454c84a6c495aaffa4762ea039d17', None, 'Bob Johnson', 'subject_teacher', None, '3bffb181218c4ad59d4334eb043492ec', '2025-05-11 07:48:23.624380', '2025-05-11 07:48:23.624383')
2025-05-11 07:48:23,626 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:48:23,626 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:48:23,627 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] [('2039aa8d6a154e29838a80d35aa3379d', '0b0e697c312f463ab0a1746de2b38f9b'), ('14768285266044afa85dc28ce95dce3b', '634d799d864b401d877a0397876dc636'), ('d2b454c84a6c495aaffa4762ea039d17', 'e0d913f617344ad9a03b2d40667989b3'), ('14768285266044afa85dc28ce95dce3b', 'da594410ed5d41dfadf3e62290cc3b4c'), ('2039aa8d6a154e29838a80d35aa3379d', 'a234d023a5b042b087115ec4af679fb8')]
2025-05-11 07:48:23,627 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] [('2039aa8d6a154e29838a80d35aa3379d', '0b0e697c312f463ab0a1746de2b38f9b'), ('14768285266044afa85dc28ce95dce3b', '634d799d864b401d877a0397876dc636'), ('d2b454c84a6c495aaffa4762ea039d17', 'e0d913f617344ad9a03b2d40667989b3'), ('14768285266044afa85dc28ce95dce3b', 'da594410ed5d41dfadf3e62290cc3b4c'), ('2039aa8d6a154e29838a80d35aa3379d', 'a234d023a5b042b087115ec4af679fb8')]
2025-05-11 07:48:23,628 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:23,628 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:23,633 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:23,633 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:23,634 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:23,634 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:23,634 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('14768285266044afa85dc28ce95dce3b',)
2025-05-11 07:48:23,634 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('14768285266044afa85dc28ce95dce3b',)
2025-05-11 07:48:23,636 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:23,636 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:23,636 - sqlalchemy.engine.Engine - INFO - [cached since 0.002571s ago] ('2039aa8d6a154e29838a80d35aa3379d',)
2025-05-11 07:48:23,636 - sqlalchemy.engine.Engine - INFO - [cached since 0.002571s ago] ('2039aa8d6a154e29838a80d35aa3379d',)
2025-05-11 07:48:23,638 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:23,638 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:23,638 - sqlalchemy.engine.Engine - INFO - [cached since 0.003909s ago] ('d2b454c84a6c495aaffa4762ea039d17',)
2025-05-11 07:48:23,638 - sqlalchemy.engine.Engine - INFO - [cached since 0.003909s ago] ('d2b454c84a6c495aaffa4762ea039d17',)
2025-05-11 07:48:23,640 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:48:23,640 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:48:23,641 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('e8a5146c40ab442a9bd9a98aec434c4b', '2025-05-11 07:48:23.640943', '14768285266044afa85dc28ce95dce3b')
2025-05-11 07:48:23,641 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('e8a5146c40ab442a9bd9a98aec434c4b', '2025-05-11 07:48:23.640943', '14768285266044afa85dc28ce95dce3b')
2025-05-11 07:48:23,642 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:23,642 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:23,646 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:23,646 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:23,647 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:23,647 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:23,647 - sqlalchemy.engine.Engine - INFO - [cached since 0.01311s ago] ('14768285266044afa85dc28ce95dce3b',)
2025-05-11 07:48:23,647 - sqlalchemy.engine.Engine - INFO - [cached since 0.01311s ago] ('14768285266044afa85dc28ce95dce3b',)
2025-05-11 07:48:23,648 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:48:23,648 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:48:23,648 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:48:23,648 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:48:39,801 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:39,801 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:39,802 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:48:39,802 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:48:39,802 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:39,802 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:39,803 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:48:39,803 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:48:39,803 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:39,803 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:39,804 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:48:39,804 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:48:39,804 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:39,804 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:39,805 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:48:39,805 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:48:39,805 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:39,805 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:39,806 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:48:39,806 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:48:39,806 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:39,806 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:39,807 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:48:39,807 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:48:39,807 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:39,807 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:39,807 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:48:39,807 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:48:39,808 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:39,808 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:39,808 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:48:39,808 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:48:39,809 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:39,809 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:39,810 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:48:39,810 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:48:39,810 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:39,810 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:39,811 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:39,811 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:39,812 - fastapi_app - INFO - Database models initialized
2025-05-11 07:48:39,812 - fastapi_app - INFO - Database models initialized
2025-05-11 07:48:39,812 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:48:39,812 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:48:39,838 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:39,838 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:39,840 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:48:39,840 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:48:39,841 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('50ae19ded82740e794d54775ce480415', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:48:39.840724', '2025-05-11 07:48:39.840729')
2025-05-11 07:48:39,841 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('50ae19ded82740e794d54775ce480415', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:48:39.840724', '2025-05-11 07:48:39.840729')
2025-05-11 07:48:39,842 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:39,842 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:39,849 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:39,849 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:39,852 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:48:39,852 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:48:39,852 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('50ae19ded82740e794d54775ce480415',)
2025-05-11 07:48:39,852 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('50ae19ded82740e794d54775ce480415',)
2025-05-11 07:48:39,855 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:48:39,855 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:48:39,855 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('ceb2db12a6ec4716bd9c4fe422553de5', '9A', 2024, '50ae19ded82740e794d54775ce480415', '2025-05-11 07:48:39.855019', '2025-05-11 07:48:39.855028')
2025-05-11 07:48:39,855 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('ceb2db12a6ec4716bd9c4fe422553de5', '9A', 2024, '50ae19ded82740e794d54775ce480415', '2025-05-11 07:48:39.855019', '2025-05-11 07:48:39.855028')
2025-05-11 07:48:39,856 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:39,856 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:39,860 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:39,860 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:39,861 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:48:39,861 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:48:39,861 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('ceb2db12a6ec4716bd9c4fe422553de5',)
2025-05-11 07:48:39,861 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('ceb2db12a6ec4716bd9c4fe422553de5',)
2025-05-11 07:48:39,864 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:48:39,864 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:48:39,864 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s (insertmanyvalues) 1/1 (unordered)] ('03812ea40c5140568ab5e291ef2997d3', 'Mathematics', '50ae19ded82740e794d54775ce480415', 'ceb2db12a6ec4716bd9c4fe422553de5', '2025-05-11 07:48:39.864421', '2025-05-11 07:48:39.864429', '8ded64c71627487c9bf18de8b8401332', 'Physics', '50ae19ded82740e794d54775ce480415', 'ceb2db12a6ec4716bd9c4fe422553de5', '2025-05-11 07:48:39.864435', '2025-05-11 07:48:39.864438', '9254d98d2a7c49378a3c9f020857a336', 'Chemistry', '50ae19ded82740e794d54775ce480415', 'ceb2db12a6ec4716bd9c4fe422553de5', '2025-05-11 07:48:39.864444', '2025-05-11 07:48:39.864447', 'c4b1c2498f3e4a3e97495ae4b13e47a7', 'Biology', '50ae19ded82740e794d54775ce480415', 'ceb2db12a6ec4716bd9c4fe422553de5', '2025-05-11 07:48:39.864453', '2025-05-11 07:48:39.864469', '79d142417412473e8a5587bc19993934', 'English', '50ae19ded82740e794d54775ce480415', 'ceb2db12a6ec4716bd9c4fe422553de5', '2025-05-11 07:48:39.864477', '2025-05-11 07:48:39.864480')
2025-05-11 07:48:39,864 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s (insertmanyvalues) 1/1 (unordered)] ('03812ea40c5140568ab5e291ef2997d3', 'Mathematics', '50ae19ded82740e794d54775ce480415', 'ceb2db12a6ec4716bd9c4fe422553de5', '2025-05-11 07:48:39.864421', '2025-05-11 07:48:39.864429', '8ded64c71627487c9bf18de8b8401332', 'Physics', '50ae19ded82740e794d54775ce480415', 'ceb2db12a6ec4716bd9c4fe422553de5', '2025-05-11 07:48:39.864435', '2025-05-11 07:48:39.864438', '9254d98d2a7c49378a3c9f020857a336', 'Chemistry', '50ae19ded82740e794d54775ce480415', 'ceb2db12a6ec4716bd9c4fe422553de5', '2025-05-11 07:48:39.864444', '2025-05-11 07:48:39.864447', 'c4b1c2498f3e4a3e97495ae4b13e47a7', 'Biology', '50ae19ded82740e794d54775ce480415', 'ceb2db12a6ec4716bd9c4fe422553de5', '2025-05-11 07:48:39.864453', '2025-05-11 07:48:39.864469', '79d142417412473e8a5587bc19993934', 'English', '50ae19ded82740e794d54775ce480415', 'ceb2db12a6ec4716bd9c4fe422553de5', '2025-05-11 07:48:39.864477', '2025-05-11 07:48:39.864480')
2025-05-11 07:48:39,866 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:39,866 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:39,870 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:39,870 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:39,872 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:39,872 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:39,872 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('03812ea40c5140568ab5e291ef2997d3',)
2025-05-11 07:48:39,872 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('03812ea40c5140568ab5e291ef2997d3',)
2025-05-11 07:48:39,873 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:39,873 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:39,874 - sqlalchemy.engine.Engine - INFO - [cached since 0.002112s ago] ('8ded64c71627487c9bf18de8b8401332',)
2025-05-11 07:48:39,874 - sqlalchemy.engine.Engine - INFO - [cached since 0.002112s ago] ('8ded64c71627487c9bf18de8b8401332',)
2025-05-11 07:48:39,875 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:39,875 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:39,875 - sqlalchemy.engine.Engine - INFO - [cached since 0.003602s ago] ('9254d98d2a7c49378a3c9f020857a336',)
2025-05-11 07:48:39,875 - sqlalchemy.engine.Engine - INFO - [cached since 0.003602s ago] ('9254d98d2a7c49378a3c9f020857a336',)
2025-05-11 07:48:39,876 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:39,876 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:39,876 - sqlalchemy.engine.Engine - INFO - [cached since 0.004906s ago] ('c4b1c2498f3e4a3e97495ae4b13e47a7',)
2025-05-11 07:48:39,876 - sqlalchemy.engine.Engine - INFO - [cached since 0.004906s ago] ('c4b1c2498f3e4a3e97495ae4b13e47a7',)
2025-05-11 07:48:39,877 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:39,877 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:39,877 - sqlalchemy.engine.Engine - INFO - [cached since 0.00593s ago] ('79d142417412473e8a5587bc19993934',)
2025-05-11 07:48:39,877 - sqlalchemy.engine.Engine - INFO - [cached since 0.00593s ago] ('79d142417412473e8a5587bc19993934',)
2025-05-11 07:48:39,881 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:48:39,881 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:48:39,881 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/1 (unordered)] ('ae3956e93cd74e1f9b5264fcb75943f4', None, 'John Doe', 'homeroom_teacher', None, '50ae19ded82740e794d54775ce480415', '2025-05-11 07:48:39.880912', '2025-05-11 07:48:39.880917', '7201d66c3c584ccaa358fe8e236f4594', None, 'Jane Smith', 'subject_teacher', None, '50ae19ded82740e794d54775ce480415', '2025-05-11 07:48:39.880924', '2025-05-11 07:48:39.880926', '76c470b11cdb4e2babcf578a53452181', None, 'Bob Johnson', 'subject_teacher', None, '50ae19ded82740e794d54775ce480415', '2025-05-11 07:48:39.880932', '2025-05-11 07:48:39.880934')
2025-05-11 07:48:39,881 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/1 (unordered)] ('ae3956e93cd74e1f9b5264fcb75943f4', None, 'John Doe', 'homeroom_teacher', None, '50ae19ded82740e794d54775ce480415', '2025-05-11 07:48:39.880912', '2025-05-11 07:48:39.880917', '7201d66c3c584ccaa358fe8e236f4594', None, 'Jane Smith', 'subject_teacher', None, '50ae19ded82740e794d54775ce480415', '2025-05-11 07:48:39.880924', '2025-05-11 07:48:39.880926', '76c470b11cdb4e2babcf578a53452181', None, 'Bob Johnson', 'subject_teacher', None, '50ae19ded82740e794d54775ce480415', '2025-05-11 07:48:39.880932', '2025-05-11 07:48:39.880934')
2025-05-11 07:48:39,883 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:48:39,883 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:48:39,883 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] [('ae3956e93cd74e1f9b5264fcb75943f4', '03812ea40c5140568ab5e291ef2997d3'), ('76c470b11cdb4e2babcf578a53452181', '79d142417412473e8a5587bc19993934'), ('ae3956e93cd74e1f9b5264fcb75943f4', '8ded64c71627487c9bf18de8b8401332'), ('7201d66c3c584ccaa358fe8e236f4594', '9254d98d2a7c49378a3c9f020857a336'), ('7201d66c3c584ccaa358fe8e236f4594', 'c4b1c2498f3e4a3e97495ae4b13e47a7')]
2025-05-11 07:48:39,883 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] [('ae3956e93cd74e1f9b5264fcb75943f4', '03812ea40c5140568ab5e291ef2997d3'), ('76c470b11cdb4e2babcf578a53452181', '79d142417412473e8a5587bc19993934'), ('ae3956e93cd74e1f9b5264fcb75943f4', '8ded64c71627487c9bf18de8b8401332'), ('7201d66c3c584ccaa358fe8e236f4594', '9254d98d2a7c49378a3c9f020857a336'), ('7201d66c3c584ccaa358fe8e236f4594', 'c4b1c2498f3e4a3e97495ae4b13e47a7')]
2025-05-11 07:48:39,885 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:39,885 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:39,889 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:39,889 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:39,890 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:39,890 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:39,890 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('ae3956e93cd74e1f9b5264fcb75943f4',)
2025-05-11 07:48:39,890 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('ae3956e93cd74e1f9b5264fcb75943f4',)
2025-05-11 07:48:39,891 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:39,891 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:39,891 - sqlalchemy.engine.Engine - INFO - [cached since 0.001463s ago] ('7201d66c3c584ccaa358fe8e236f4594',)
2025-05-11 07:48:39,891 - sqlalchemy.engine.Engine - INFO - [cached since 0.001463s ago] ('7201d66c3c584ccaa358fe8e236f4594',)
2025-05-11 07:48:39,893 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:39,893 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:39,893 - sqlalchemy.engine.Engine - INFO - [cached since 0.002939s ago] ('76c470b11cdb4e2babcf578a53452181',)
2025-05-11 07:48:39,893 - sqlalchemy.engine.Engine - INFO - [cached since 0.002939s ago] ('76c470b11cdb4e2babcf578a53452181',)
2025-05-11 07:48:39,895 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:48:39,895 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:48:39,895 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('ceb2db12a6ec4716bd9c4fe422553de5', '2025-05-11 07:48:39.895539', 'ae3956e93cd74e1f9b5264fcb75943f4')
2025-05-11 07:48:39,895 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('ceb2db12a6ec4716bd9c4fe422553de5', '2025-05-11 07:48:39.895539', 'ae3956e93cd74e1f9b5264fcb75943f4')
2025-05-11 07:48:39,897 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:39,897 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:39,901 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:39,901 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:39,901 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:39,901 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:39,901 - sqlalchemy.engine.Engine - INFO - [cached since 0.01144s ago] ('ae3956e93cd74e1f9b5264fcb75943f4',)
2025-05-11 07:48:39,901 - sqlalchemy.engine.Engine - INFO - [cached since 0.01144s ago] ('ae3956e93cd74e1f9b5264fcb75943f4',)
2025-05-11 07:48:39,902 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:48:39,902 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:48:39,903 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:48:39,903 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:48:46,953 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:46,953 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:46,954 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:48:46,954 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:48:46,954 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:46,954 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:46,955 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:48:46,955 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:48:46,955 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:46,955 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:46,956 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:48:46,956 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:48:46,956 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:46,956 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:46,957 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:48:46,957 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:48:46,957 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:46,957 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:46,957 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:48:46,957 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:48:46,957 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:46,957 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:46,958 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:48:46,958 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:48:46,958 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:46,958 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:46,958 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:48:46,958 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:48:46,959 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:46,959 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:46,959 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:48:46,959 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:48:46,959 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:46,959 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:46,960 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:48:46,960 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:48:46,960 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:46,960 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:48:46,961 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:46,961 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:46,962 - fastapi_app - INFO - Database models initialized
2025-05-11 07:48:46,962 - fastapi_app - INFO - Database models initialized
2025-05-11 07:48:46,962 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:48:46,962 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:48:46,985 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:46,985 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:46,987 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:48:46,987 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:48:46,987 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('e638ec61dd9540d4be1a444806158303', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:48:46.987112', '2025-05-11 07:48:46.987117')
2025-05-11 07:48:46,987 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('e638ec61dd9540d4be1a444806158303', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:48:46.987112', '2025-05-11 07:48:46.987117')
2025-05-11 07:48:46,989 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:46,989 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:46,996 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:46,996 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:46,999 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:48:46,999 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:48:46,999 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('e638ec61dd9540d4be1a444806158303',)
2025-05-11 07:48:46,999 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('e638ec61dd9540d4be1a444806158303',)
2025-05-11 07:48:47,002 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:48:47,002 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:48:47,003 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('9c6d9905298742198fb601852b56e8db', '9A', 2024, 'e638ec61dd9540d4be1a444806158303', '2025-05-11 07:48:47.002869', '2025-05-11 07:48:47.002878')
2025-05-11 07:48:47,003 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('9c6d9905298742198fb601852b56e8db', '9A', 2024, 'e638ec61dd9540d4be1a444806158303', '2025-05-11 07:48:47.002869', '2025-05-11 07:48:47.002878')
2025-05-11 07:48:47,004 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:47,004 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:47,009 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:47,009 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:47,010 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:48:47,010 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:48:47,010 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('9c6d9905298742198fb601852b56e8db',)
2025-05-11 07:48:47,010 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('9c6d9905298742198fb601852b56e8db',)
2025-05-11 07:48:47,012 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:48:47,012 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:48:47,013 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s (insertmanyvalues) 1/1 (unordered)] ('d11918f7567c4351b656c2ca1af759c1', 'Mathematics', 'e638ec61dd9540d4be1a444806158303', '9c6d9905298742198fb601852b56e8db', '2025-05-11 07:48:47.012769', '2025-05-11 07:48:47.012774', '65ae3f1eb2ea48ffbb5ec700e62ac073', 'Physics', 'e638ec61dd9540d4be1a444806158303', '9c6d9905298742198fb601852b56e8db', '2025-05-11 07:48:47.012782', '2025-05-11 07:48:47.012784', '28cff46001df4c86a8978dbcce46584a', 'Chemistry', 'e638ec61dd9540d4be1a444806158303', '9c6d9905298742198fb601852b56e8db', '2025-05-11 07:48:47.012790', '2025-05-11 07:48:47.012793', '46a8a9e2116c4d939ba1281bc95ace88', 'Biology', 'e638ec61dd9540d4be1a444806158303', '9c6d9905298742198fb601852b56e8db', '2025-05-11 07:48:47.012798', '2025-05-11 07:48:47.012801', 'ffc67ca8d51e4b48af0d87da7bbc0797', 'English', 'e638ec61dd9540d4be1a444806158303', '9c6d9905298742198fb601852b56e8db', '2025-05-11 07:48:47.012806', '2025-05-11 07:48:47.012808')
2025-05-11 07:48:47,013 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s (insertmanyvalues) 1/1 (unordered)] ('d11918f7567c4351b656c2ca1af759c1', 'Mathematics', 'e638ec61dd9540d4be1a444806158303', '9c6d9905298742198fb601852b56e8db', '2025-05-11 07:48:47.012769', '2025-05-11 07:48:47.012774', '65ae3f1eb2ea48ffbb5ec700e62ac073', 'Physics', 'e638ec61dd9540d4be1a444806158303', '9c6d9905298742198fb601852b56e8db', '2025-05-11 07:48:47.012782', '2025-05-11 07:48:47.012784', '28cff46001df4c86a8978dbcce46584a', 'Chemistry', 'e638ec61dd9540d4be1a444806158303', '9c6d9905298742198fb601852b56e8db', '2025-05-11 07:48:47.012790', '2025-05-11 07:48:47.012793', '46a8a9e2116c4d939ba1281bc95ace88', 'Biology', 'e638ec61dd9540d4be1a444806158303', '9c6d9905298742198fb601852b56e8db', '2025-05-11 07:48:47.012798', '2025-05-11 07:48:47.012801', 'ffc67ca8d51e4b48af0d87da7bbc0797', 'English', 'e638ec61dd9540d4be1a444806158303', '9c6d9905298742198fb601852b56e8db', '2025-05-11 07:48:47.012806', '2025-05-11 07:48:47.012808')
2025-05-11 07:48:47,015 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:47,015 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:47,022 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:47,022 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:47,023 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:47,023 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:47,023 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('d11918f7567c4351b656c2ca1af759c1',)
2025-05-11 07:48:47,023 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('d11918f7567c4351b656c2ca1af759c1',)
2025-05-11 07:48:47,024 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:47,024 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:47,024 - sqlalchemy.engine.Engine - INFO - [cached since 0.001903s ago] ('65ae3f1eb2ea48ffbb5ec700e62ac073',)
2025-05-11 07:48:47,024 - sqlalchemy.engine.Engine - INFO - [cached since 0.001903s ago] ('65ae3f1eb2ea48ffbb5ec700e62ac073',)
2025-05-11 07:48:47,026 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:47,026 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:47,026 - sqlalchemy.engine.Engine - INFO - [cached since 0.003536s ago] ('28cff46001df4c86a8978dbcce46584a',)
2025-05-11 07:48:47,026 - sqlalchemy.engine.Engine - INFO - [cached since 0.003536s ago] ('28cff46001df4c86a8978dbcce46584a',)
2025-05-11 07:48:47,028 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:47,028 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:47,028 - sqlalchemy.engine.Engine - INFO - [cached since 0.005371s ago] ('46a8a9e2116c4d939ba1281bc95ace88',)
2025-05-11 07:48:47,028 - sqlalchemy.engine.Engine - INFO - [cached since 0.005371s ago] ('46a8a9e2116c4d939ba1281bc95ace88',)
2025-05-11 07:48:47,029 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:47,029 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:48:47,029 - sqlalchemy.engine.Engine - INFO - [cached since 0.00695s ago] ('ffc67ca8d51e4b48af0d87da7bbc0797',)
2025-05-11 07:48:47,029 - sqlalchemy.engine.Engine - INFO - [cached since 0.00695s ago] ('ffc67ca8d51e4b48af0d87da7bbc0797',)
2025-05-11 07:48:47,033 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:48:47,033 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:48:47,034 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s (insertmanyvalues) 1/1 (unordered)] ('99a89106df3a4487bc3db40bb837409f', None, 'John Doe', 'homeroom_teacher', None, 'e638ec61dd9540d4be1a444806158303', '2025-05-11 07:48:47.033435', '2025-05-11 07:48:47.033443', 'b5d56616b639426ea3886b7c4ffae319', None, 'Jane Smith', 'subject_teacher', None, 'e638ec61dd9540d4be1a444806158303', '2025-05-11 07:48:47.033449', '2025-05-11 07:48:47.033452', 'f9b6389dde554df0928bb689cc79cfac', None, 'Bob Johnson', 'subject_teacher', None, 'e638ec61dd9540d4be1a444806158303', '2025-05-11 07:48:47.033473', '2025-05-11 07:48:47.033477')
2025-05-11 07:48:47,034 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s (insertmanyvalues) 1/1 (unordered)] ('99a89106df3a4487bc3db40bb837409f', None, 'John Doe', 'homeroom_teacher', None, 'e638ec61dd9540d4be1a444806158303', '2025-05-11 07:48:47.033435', '2025-05-11 07:48:47.033443', 'b5d56616b639426ea3886b7c4ffae319', None, 'Jane Smith', 'subject_teacher', None, 'e638ec61dd9540d4be1a444806158303', '2025-05-11 07:48:47.033449', '2025-05-11 07:48:47.033452', 'f9b6389dde554df0928bb689cc79cfac', None, 'Bob Johnson', 'subject_teacher', None, 'e638ec61dd9540d4be1a444806158303', '2025-05-11 07:48:47.033473', '2025-05-11 07:48:47.033477')
2025-05-11 07:48:47,035 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:48:47,035 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:48:47,036 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] [('99a89106df3a4487bc3db40bb837409f', '65ae3f1eb2ea48ffbb5ec700e62ac073'), ('b5d56616b639426ea3886b7c4ffae319', '28cff46001df4c86a8978dbcce46584a'), ('b5d56616b639426ea3886b7c4ffae319', '46a8a9e2116c4d939ba1281bc95ace88'), ('99a89106df3a4487bc3db40bb837409f', 'd11918f7567c4351b656c2ca1af759c1'), ('f9b6389dde554df0928bb689cc79cfac', 'ffc67ca8d51e4b48af0d87da7bbc0797')]
2025-05-11 07:48:47,036 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] [('99a89106df3a4487bc3db40bb837409f', '65ae3f1eb2ea48ffbb5ec700e62ac073'), ('b5d56616b639426ea3886b7c4ffae319', '28cff46001df4c86a8978dbcce46584a'), ('b5d56616b639426ea3886b7c4ffae319', '46a8a9e2116c4d939ba1281bc95ace88'), ('99a89106df3a4487bc3db40bb837409f', 'd11918f7567c4351b656c2ca1af759c1'), ('f9b6389dde554df0928bb689cc79cfac', 'ffc67ca8d51e4b48af0d87da7bbc0797')]
2025-05-11 07:48:47,037 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:47,037 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:47,041 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:47,041 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:47,042 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:47,042 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:47,043 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('99a89106df3a4487bc3db40bb837409f',)
2025-05-11 07:48:47,043 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('99a89106df3a4487bc3db40bb837409f',)
2025-05-11 07:48:47,045 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:47,045 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:47,045 - sqlalchemy.engine.Engine - INFO - [cached since 0.002432s ago] ('b5d56616b639426ea3886b7c4ffae319',)
2025-05-11 07:48:47,045 - sqlalchemy.engine.Engine - INFO - [cached since 0.002432s ago] ('b5d56616b639426ea3886b7c4ffae319',)
2025-05-11 07:48:47,046 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:47,046 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:47,046 - sqlalchemy.engine.Engine - INFO - [cached since 0.003512s ago] ('f9b6389dde554df0928bb689cc79cfac',)
2025-05-11 07:48:47,046 - sqlalchemy.engine.Engine - INFO - [cached since 0.003512s ago] ('f9b6389dde554df0928bb689cc79cfac',)
2025-05-11 07:48:47,049 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:48:47,049 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:48:47,049 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('9c6d9905298742198fb601852b56e8db', '2025-05-11 07:48:47.049079', '99a89106df3a4487bc3db40bb837409f')
2025-05-11 07:48:47,049 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('9c6d9905298742198fb601852b56e8db', '2025-05-11 07:48:47.049079', '99a89106df3a4487bc3db40bb837409f')
2025-05-11 07:48:47,050 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:47,050 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:48:47,055 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:47,055 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:48:47,055 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:47,055 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:48:47,055 - sqlalchemy.engine.Engine - INFO - [cached since 0.01273s ago] ('99a89106df3a4487bc3db40bb837409f',)
2025-05-11 07:48:47,055 - sqlalchemy.engine.Engine - INFO - [cached since 0.01273s ago] ('99a89106df3a4487bc3db40bb837409f',)
2025-05-11 07:48:47,056 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:48:47,056 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:48:47,056 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:48:47,056 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:49:19,583 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:19,583 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:19,583 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:49:19,583 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:49:19,583 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:19,583 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:19,584 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:49:19,584 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:49:19,584 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:19,584 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:19,585 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:49:19,585 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:49:19,585 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:19,585 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:19,586 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:49:19,586 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:49:19,586 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:19,586 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:19,587 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:49:19,587 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:49:19,587 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:19,587 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:19,587 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:49:19,587 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:49:19,587 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:19,587 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:19,588 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:49:19,588 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:49:19,588 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:19,588 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:19,588 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:49:19,588 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:49:19,588 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:19,588 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:19,589 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:49:19,589 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:49:19,589 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:19,589 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:19,590 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:19,590 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:19,591 - fastapi_app - INFO - Database models initialized
2025-05-11 07:49:19,591 - fastapi_app - INFO - Database models initialized
2025-05-11 07:49:19,591 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:49:19,591 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:49:19,617 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:19,617 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:19,619 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:49:19,619 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:49:19,619 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('fa6d6df346684536a435d8f0948f4837', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:49:19.618991', '2025-05-11 07:49:19.618997')
2025-05-11 07:49:19,619 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('fa6d6df346684536a435d8f0948f4837', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:49:19.618991', '2025-05-11 07:49:19.618997')
2025-05-11 07:49:19,620 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:19,620 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:19,627 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:19,627 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:19,629 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:49:19,629 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:49:19,629 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('fa6d6df346684536a435d8f0948f4837',)
2025-05-11 07:49:19,629 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('fa6d6df346684536a435d8f0948f4837',)
2025-05-11 07:49:19,632 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:49:19,632 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:49:19,632 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('fe398751c2754c93a1b89210186ef163', '9A', 2024, 'fa6d6df346684536a435d8f0948f4837', '2025-05-11 07:49:19.632201', '2025-05-11 07:49:19.632206')
2025-05-11 07:49:19,632 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('fe398751c2754c93a1b89210186ef163', '9A', 2024, 'fa6d6df346684536a435d8f0948f4837', '2025-05-11 07:49:19.632201', '2025-05-11 07:49:19.632206')
2025-05-11 07:49:19,634 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:19,634 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:19,638 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:19,638 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:19,639 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:49:19,639 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:49:19,639 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('fe398751c2754c93a1b89210186ef163',)
2025-05-11 07:49:19,639 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('fe398751c2754c93a1b89210186ef163',)
2025-05-11 07:49:19,643 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:49:19,643 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:49:19,643 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s (insertmanyvalues) 1/1 (unordered)] ('902fe697aabe4fe5b4ca919bff150a30', 'Mathematics', 'fa6d6df346684536a435d8f0948f4837', 'fe398751c2754c93a1b89210186ef163', '2025-05-11 07:49:19.642946', '2025-05-11 07:49:19.642951', '27b6e95b71c44707a9ee354eedac8abb', 'Physics', 'fa6d6df346684536a435d8f0948f4837', 'fe398751c2754c93a1b89210186ef163', '2025-05-11 07:49:19.642958', '2025-05-11 07:49:19.642960', 'd019f7a30b9b4817877cefbc35e5a773', 'Chemistry', 'fa6d6df346684536a435d8f0948f4837', 'fe398751c2754c93a1b89210186ef163', '2025-05-11 07:49:19.642967', '2025-05-11 07:49:19.642969', '3a50654766bf4bf48331d4bd1731953e', 'Biology', 'fa6d6df346684536a435d8f0948f4837', 'fe398751c2754c93a1b89210186ef163', '2025-05-11 07:49:19.642975', '2025-05-11 07:49:19.642977', '9fd327ec993b4d459a85ebdaa31b6438', 'English', 'fa6d6df346684536a435d8f0948f4837', 'fe398751c2754c93a1b89210186ef163', '2025-05-11 07:49:19.642984', '2025-05-11 07:49:19.642988')
2025-05-11 07:49:19,643 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s (insertmanyvalues) 1/1 (unordered)] ('902fe697aabe4fe5b4ca919bff150a30', 'Mathematics', 'fa6d6df346684536a435d8f0948f4837', 'fe398751c2754c93a1b89210186ef163', '2025-05-11 07:49:19.642946', '2025-05-11 07:49:19.642951', '27b6e95b71c44707a9ee354eedac8abb', 'Physics', 'fa6d6df346684536a435d8f0948f4837', 'fe398751c2754c93a1b89210186ef163', '2025-05-11 07:49:19.642958', '2025-05-11 07:49:19.642960', 'd019f7a30b9b4817877cefbc35e5a773', 'Chemistry', 'fa6d6df346684536a435d8f0948f4837', 'fe398751c2754c93a1b89210186ef163', '2025-05-11 07:49:19.642967', '2025-05-11 07:49:19.642969', '3a50654766bf4bf48331d4bd1731953e', 'Biology', 'fa6d6df346684536a435d8f0948f4837', 'fe398751c2754c93a1b89210186ef163', '2025-05-11 07:49:19.642975', '2025-05-11 07:49:19.642977', '9fd327ec993b4d459a85ebdaa31b6438', 'English', 'fa6d6df346684536a435d8f0948f4837', 'fe398751c2754c93a1b89210186ef163', '2025-05-11 07:49:19.642984', '2025-05-11 07:49:19.642988')
2025-05-11 07:49:19,645 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:19,645 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:19,649 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:19,649 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:19,650 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:19,650 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:19,651 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('902fe697aabe4fe5b4ca919bff150a30',)
2025-05-11 07:49:19,651 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('902fe697aabe4fe5b4ca919bff150a30',)
2025-05-11 07:49:19,652 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:19,652 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:19,653 - sqlalchemy.engine.Engine - INFO - [cached since 0.002313s ago] ('27b6e95b71c44707a9ee354eedac8abb',)
2025-05-11 07:49:19,653 - sqlalchemy.engine.Engine - INFO - [cached since 0.002313s ago] ('27b6e95b71c44707a9ee354eedac8abb',)
2025-05-11 07:49:19,654 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:19,654 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:19,654 - sqlalchemy.engine.Engine - INFO - [cached since 0.003854s ago] ('d019f7a30b9b4817877cefbc35e5a773',)
2025-05-11 07:49:19,654 - sqlalchemy.engine.Engine - INFO - [cached since 0.003854s ago] ('d019f7a30b9b4817877cefbc35e5a773',)
2025-05-11 07:49:19,655 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:19,655 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:19,655 - sqlalchemy.engine.Engine - INFO - [cached since 0.00521s ago] ('3a50654766bf4bf48331d4bd1731953e',)
2025-05-11 07:49:19,655 - sqlalchemy.engine.Engine - INFO - [cached since 0.00521s ago] ('3a50654766bf4bf48331d4bd1731953e',)
2025-05-11 07:49:19,656 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:19,656 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:19,657 - sqlalchemy.engine.Engine - INFO - [cached since 0.006404s ago] ('9fd327ec993b4d459a85ebdaa31b6438',)
2025-05-11 07:49:19,657 - sqlalchemy.engine.Engine - INFO - [cached since 0.006404s ago] ('9fd327ec993b4d459a85ebdaa31b6438',)
2025-05-11 07:49:19,660 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:49:19,660 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:49:19,661 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s (insertmanyvalues) 1/1 (unordered)] ('c1612fe1733f41c291716683407b0760', None, 'John Doe', 'homeroom_teacher', None, 'fa6d6df346684536a435d8f0948f4837', '2025-05-11 07:49:19.660642', '2025-05-11 07:49:19.660650', 'e1f73c0f08004b92a53920183db1c509', None, 'Jane Smith', 'subject_teacher', None, 'fa6d6df346684536a435d8f0948f4837', '2025-05-11 07:49:19.660659', '2025-05-11 07:49:19.660662', '04c148153aa3441ba81a20d5011e9f1d', None, 'Bob Johnson', 'subject_teacher', None, 'fa6d6df346684536a435d8f0948f4837', '2025-05-11 07:49:19.660669', '2025-05-11 07:49:19.660672')
2025-05-11 07:49:19,661 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s (insertmanyvalues) 1/1 (unordered)] ('c1612fe1733f41c291716683407b0760', None, 'John Doe', 'homeroom_teacher', None, 'fa6d6df346684536a435d8f0948f4837', '2025-05-11 07:49:19.660642', '2025-05-11 07:49:19.660650', 'e1f73c0f08004b92a53920183db1c509', None, 'Jane Smith', 'subject_teacher', None, 'fa6d6df346684536a435d8f0948f4837', '2025-05-11 07:49:19.660659', '2025-05-11 07:49:19.660662', '04c148153aa3441ba81a20d5011e9f1d', None, 'Bob Johnson', 'subject_teacher', None, 'fa6d6df346684536a435d8f0948f4837', '2025-05-11 07:49:19.660669', '2025-05-11 07:49:19.660672')
2025-05-11 07:49:19,662 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:49:19,662 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:49:19,662 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] [('e1f73c0f08004b92a53920183db1c509', '3a50654766bf4bf48331d4bd1731953e'), ('c1612fe1733f41c291716683407b0760', '902fe697aabe4fe5b4ca919bff150a30'), ('04c148153aa3441ba81a20d5011e9f1d', '9fd327ec993b4d459a85ebdaa31b6438'), ('c1612fe1733f41c291716683407b0760', '27b6e95b71c44707a9ee354eedac8abb'), ('e1f73c0f08004b92a53920183db1c509', 'd019f7a30b9b4817877cefbc35e5a773')]
2025-05-11 07:49:19,662 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] [('e1f73c0f08004b92a53920183db1c509', '3a50654766bf4bf48331d4bd1731953e'), ('c1612fe1733f41c291716683407b0760', '902fe697aabe4fe5b4ca919bff150a30'), ('04c148153aa3441ba81a20d5011e9f1d', '9fd327ec993b4d459a85ebdaa31b6438'), ('c1612fe1733f41c291716683407b0760', '27b6e95b71c44707a9ee354eedac8abb'), ('e1f73c0f08004b92a53920183db1c509', 'd019f7a30b9b4817877cefbc35e5a773')]
2025-05-11 07:49:19,664 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:19,664 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:19,669 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:19,669 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:19,671 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:19,671 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:19,671 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('c1612fe1733f41c291716683407b0760',)
2025-05-11 07:49:19,671 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('c1612fe1733f41c291716683407b0760',)
2025-05-11 07:49:19,673 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:19,673 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:19,673 - sqlalchemy.engine.Engine - INFO - [cached since 0.002717s ago] ('e1f73c0f08004b92a53920183db1c509',)
2025-05-11 07:49:19,673 - sqlalchemy.engine.Engine - INFO - [cached since 0.002717s ago] ('e1f73c0f08004b92a53920183db1c509',)
2025-05-11 07:49:19,675 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:19,675 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:19,675 - sqlalchemy.engine.Engine - INFO - [cached since 0.004558s ago] ('04c148153aa3441ba81a20d5011e9f1d',)
2025-05-11 07:49:19,675 - sqlalchemy.engine.Engine - INFO - [cached since 0.004558s ago] ('04c148153aa3441ba81a20d5011e9f1d',)
2025-05-11 07:49:19,678 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:49:19,678 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:49:19,678 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] ('fe398751c2754c93a1b89210186ef163', '2025-05-11 07:49:19.678401', 'c1612fe1733f41c291716683407b0760')
2025-05-11 07:49:19,678 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] ('fe398751c2754c93a1b89210186ef163', '2025-05-11 07:49:19.678401', 'c1612fe1733f41c291716683407b0760')
2025-05-11 07:49:19,680 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:19,680 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:19,685 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:19,685 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:19,685 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:19,685 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:19,686 - sqlalchemy.engine.Engine - INFO - [cached since 0.01518s ago] ('c1612fe1733f41c291716683407b0760',)
2025-05-11 07:49:19,686 - sqlalchemy.engine.Engine - INFO - [cached since 0.01518s ago] ('c1612fe1733f41c291716683407b0760',)
2025-05-11 07:49:19,687 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:49:19,687 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:49:19,687 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:49:19,687 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:49:32,769 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:32,769 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:32,769 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:49:32,769 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:49:32,769 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:32,769 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:32,771 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:49:32,771 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:49:32,771 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:32,771 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:32,772 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:49:32,772 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:49:32,772 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:32,772 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:32,773 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:49:32,773 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:49:32,773 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:32,773 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:32,774 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:49:32,774 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:49:32,774 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:32,774 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:32,775 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:49:32,775 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:49:32,776 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:32,776 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:32,777 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:49:32,777 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:49:32,777 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:32,777 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:32,778 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:49:32,778 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:49:32,778 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:32,778 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:32,779 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:49:32,779 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:49:32,780 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:32,780 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:32,781 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:32,781 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:32,782 - fastapi_app - INFO - Database models initialized
2025-05-11 07:49:32,782 - fastapi_app - INFO - Database models initialized
2025-05-11 07:49:32,782 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:49:32,782 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:49:32,808 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:32,808 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:32,811 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:49:32,811 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:49:32,811 - sqlalchemy.engine.Engine - INFO - [generated in 0.00079s] ('d4cd03ffc35e4a52ad90510c9d4b1605', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:49:32.811352', '2025-05-11 07:49:32.811362')
2025-05-11 07:49:32,811 - sqlalchemy.engine.Engine - INFO - [generated in 0.00079s] ('d4cd03ffc35e4a52ad90510c9d4b1605', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:49:32.811352', '2025-05-11 07:49:32.811362')
2025-05-11 07:49:32,813 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:32,813 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:32,820 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:32,820 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:32,824 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:49:32,824 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:49:32,824 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] ('d4cd03ffc35e4a52ad90510c9d4b1605',)
2025-05-11 07:49:32,824 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] ('d4cd03ffc35e4a52ad90510c9d4b1605',)
2025-05-11 07:49:32,827 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:49:32,827 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:49:32,827 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ('e8bee5dd36ff43469f445334294851b9', '9A', 2024, 'd4cd03ffc35e4a52ad90510c9d4b1605', '2025-05-11 07:49:32.827256', '2025-05-11 07:49:32.827262')
2025-05-11 07:49:32,827 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ('e8bee5dd36ff43469f445334294851b9', '9A', 2024, 'd4cd03ffc35e4a52ad90510c9d4b1605', '2025-05-11 07:49:32.827256', '2025-05-11 07:49:32.827262')
2025-05-11 07:49:32,829 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:32,829 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:32,834 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:32,834 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:32,837 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:49:32,837 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:49:32,837 - sqlalchemy.engine.Engine - INFO - [generated in 0.00065s] ('e8bee5dd36ff43469f445334294851b9',)
2025-05-11 07:49:32,837 - sqlalchemy.engine.Engine - INFO - [generated in 0.00065s] ('e8bee5dd36ff43469f445334294851b9',)
2025-05-11 07:49:32,841 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:49:32,841 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:49:32,841 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s (insertmanyvalues) 1/1 (unordered)] ('e163005c197a4009bc58de6b6b8db6ee', 'Mathematics', 'd4cd03ffc35e4a52ad90510c9d4b1605', 'e8bee5dd36ff43469f445334294851b9', '2025-05-11 07:49:32.841015', '2025-05-11 07:49:32.841019', '64bf7a4c8d074837abe5950cb5c6911b', 'Physics', 'd4cd03ffc35e4a52ad90510c9d4b1605', 'e8bee5dd36ff43469f445334294851b9', '2025-05-11 07:49:32.841026', '2025-05-11 07:49:32.841029', '924410295ecb40c98c4f023255dc0387', 'Chemistry', 'd4cd03ffc35e4a52ad90510c9d4b1605', 'e8bee5dd36ff43469f445334294851b9', '2025-05-11 07:49:32.841035', '2025-05-11 07:49:32.841037', 'f815797751794e19b80d07be83815810', 'Biology', 'd4cd03ffc35e4a52ad90510c9d4b1605', 'e8bee5dd36ff43469f445334294851b9', '2025-05-11 07:49:32.841045', '2025-05-11 07:49:32.841051', '11b3efc03fab449bb50c87a06df0ff43', 'English', 'd4cd03ffc35e4a52ad90510c9d4b1605', 'e8bee5dd36ff43469f445334294851b9', '2025-05-11 07:49:32.841064', '2025-05-11 07:49:32.841067')
2025-05-11 07:49:32,841 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s (insertmanyvalues) 1/1 (unordered)] ('e163005c197a4009bc58de6b6b8db6ee', 'Mathematics', 'd4cd03ffc35e4a52ad90510c9d4b1605', 'e8bee5dd36ff43469f445334294851b9', '2025-05-11 07:49:32.841015', '2025-05-11 07:49:32.841019', '64bf7a4c8d074837abe5950cb5c6911b', 'Physics', 'd4cd03ffc35e4a52ad90510c9d4b1605', 'e8bee5dd36ff43469f445334294851b9', '2025-05-11 07:49:32.841026', '2025-05-11 07:49:32.841029', '924410295ecb40c98c4f023255dc0387', 'Chemistry', 'd4cd03ffc35e4a52ad90510c9d4b1605', 'e8bee5dd36ff43469f445334294851b9', '2025-05-11 07:49:32.841035', '2025-05-11 07:49:32.841037', 'f815797751794e19b80d07be83815810', 'Biology', 'd4cd03ffc35e4a52ad90510c9d4b1605', 'e8bee5dd36ff43469f445334294851b9', '2025-05-11 07:49:32.841045', '2025-05-11 07:49:32.841051', '11b3efc03fab449bb50c87a06df0ff43', 'English', 'd4cd03ffc35e4a52ad90510c9d4b1605', 'e8bee5dd36ff43469f445334294851b9', '2025-05-11 07:49:32.841064', '2025-05-11 07:49:32.841067')
2025-05-11 07:49:32,843 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:32,843 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:32,848 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:32,848 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:32,849 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:32,849 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:32,849 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('e163005c197a4009bc58de6b6b8db6ee',)
2025-05-11 07:49:32,849 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('e163005c197a4009bc58de6b6b8db6ee',)
2025-05-11 07:49:32,851 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:32,851 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:32,851 - sqlalchemy.engine.Engine - INFO - [cached since 0.002447s ago] ('64bf7a4c8d074837abe5950cb5c6911b',)
2025-05-11 07:49:32,851 - sqlalchemy.engine.Engine - INFO - [cached since 0.002447s ago] ('64bf7a4c8d074837abe5950cb5c6911b',)
2025-05-11 07:49:32,852 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:32,852 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:32,853 - sqlalchemy.engine.Engine - INFO - [cached since 0.003985s ago] ('924410295ecb40c98c4f023255dc0387',)
2025-05-11 07:49:32,853 - sqlalchemy.engine.Engine - INFO - [cached since 0.003985s ago] ('924410295ecb40c98c4f023255dc0387',)
2025-05-11 07:49:32,854 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:32,854 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:32,854 - sqlalchemy.engine.Engine - INFO - [cached since 0.005525s ago] ('f815797751794e19b80d07be83815810',)
2025-05-11 07:49:32,854 - sqlalchemy.engine.Engine - INFO - [cached since 0.005525s ago] ('f815797751794e19b80d07be83815810',)
2025-05-11 07:49:32,856 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:32,856 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:32,856 - sqlalchemy.engine.Engine - INFO - [cached since 0.007734s ago] ('11b3efc03fab449bb50c87a06df0ff43',)
2025-05-11 07:49:32,856 - sqlalchemy.engine.Engine - INFO - [cached since 0.007734s ago] ('11b3efc03fab449bb50c87a06df0ff43',)
2025-05-11 07:49:32,861 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:49:32,861 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:49:32,861 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s (insertmanyvalues) 1/1 (unordered)] ('87fbd21602f74e19ada540e7d0afa738', None, 'John Doe', 'homeroom_teacher', None, 'd4cd03ffc35e4a52ad90510c9d4b1605', '2025-05-11 07:49:32.860950', '2025-05-11 07:49:32.860957', '1441a5b207e14d78a84bb7214b8d89dc', None, 'Jane Smith', 'subject_teacher', None, 'd4cd03ffc35e4a52ad90510c9d4b1605', '2025-05-11 07:49:32.860965', '2025-05-11 07:49:32.860967', '62d1bd0d2a5249cf95559f433d416a29', None, 'Bob Johnson', 'subject_teacher', None, 'd4cd03ffc35e4a52ad90510c9d4b1605', '2025-05-11 07:49:32.860972', '2025-05-11 07:49:32.860975')
2025-05-11 07:49:32,861 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s (insertmanyvalues) 1/1 (unordered)] ('87fbd21602f74e19ada540e7d0afa738', None, 'John Doe', 'homeroom_teacher', None, 'd4cd03ffc35e4a52ad90510c9d4b1605', '2025-05-11 07:49:32.860950', '2025-05-11 07:49:32.860957', '1441a5b207e14d78a84bb7214b8d89dc', None, 'Jane Smith', 'subject_teacher', None, 'd4cd03ffc35e4a52ad90510c9d4b1605', '2025-05-11 07:49:32.860965', '2025-05-11 07:49:32.860967', '62d1bd0d2a5249cf95559f433d416a29', None, 'Bob Johnson', 'subject_teacher', None, 'd4cd03ffc35e4a52ad90510c9d4b1605', '2025-05-11 07:49:32.860972', '2025-05-11 07:49:32.860975')
2025-05-11 07:49:32,863 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:49:32,863 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:49:32,863 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] [('87fbd21602f74e19ada540e7d0afa738', '64bf7a4c8d074837abe5950cb5c6911b'), ('1441a5b207e14d78a84bb7214b8d89dc', '924410295ecb40c98c4f023255dc0387'), ('1441a5b207e14d78a84bb7214b8d89dc', 'f815797751794e19b80d07be83815810'), ('87fbd21602f74e19ada540e7d0afa738', 'e163005c197a4009bc58de6b6b8db6ee'), ('62d1bd0d2a5249cf95559f433d416a29', '11b3efc03fab449bb50c87a06df0ff43')]
2025-05-11 07:49:32,863 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] [('87fbd21602f74e19ada540e7d0afa738', '64bf7a4c8d074837abe5950cb5c6911b'), ('1441a5b207e14d78a84bb7214b8d89dc', '924410295ecb40c98c4f023255dc0387'), ('1441a5b207e14d78a84bb7214b8d89dc', 'f815797751794e19b80d07be83815810'), ('87fbd21602f74e19ada540e7d0afa738', 'e163005c197a4009bc58de6b6b8db6ee'), ('62d1bd0d2a5249cf95559f433d416a29', '11b3efc03fab449bb50c87a06df0ff43')]
2025-05-11 07:49:32,864 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:32,864 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:32,869 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:32,869 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:32,871 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:32,871 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:32,871 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('87fbd21602f74e19ada540e7d0afa738',)
2025-05-11 07:49:32,871 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('87fbd21602f74e19ada540e7d0afa738',)
2025-05-11 07:49:32,872 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:32,872 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:32,872 - sqlalchemy.engine.Engine - INFO - [cached since 0.001646s ago] ('1441a5b207e14d78a84bb7214b8d89dc',)
2025-05-11 07:49:32,872 - sqlalchemy.engine.Engine - INFO - [cached since 0.001646s ago] ('1441a5b207e14d78a84bb7214b8d89dc',)
2025-05-11 07:49:32,873 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:32,873 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:32,873 - sqlalchemy.engine.Engine - INFO - [cached since 0.002846s ago] ('62d1bd0d2a5249cf95559f433d416a29',)
2025-05-11 07:49:32,873 - sqlalchemy.engine.Engine - INFO - [cached since 0.002846s ago] ('62d1bd0d2a5249cf95559f433d416a29',)
2025-05-11 07:49:32,875 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:49:32,875 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:49:32,876 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('e8bee5dd36ff43469f445334294851b9', '2025-05-11 07:49:32.875783', '87fbd21602f74e19ada540e7d0afa738')
2025-05-11 07:49:32,876 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('e8bee5dd36ff43469f445334294851b9', '2025-05-11 07:49:32.875783', '87fbd21602f74e19ada540e7d0afa738')
2025-05-11 07:49:32,877 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:32,877 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:32,881 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:32,881 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:32,881 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:32,881 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:32,881 - sqlalchemy.engine.Engine - INFO - [cached since 0.01079s ago] ('87fbd21602f74e19ada540e7d0afa738',)
2025-05-11 07:49:32,881 - sqlalchemy.engine.Engine - INFO - [cached since 0.01079s ago] ('87fbd21602f74e19ada540e7d0afa738',)
2025-05-11 07:49:32,882 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:49:32,882 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:49:32,882 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:49:32,882 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:49:47,351 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:47,351 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:47,352 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:49:47,352 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:49:47,352 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:47,352 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:47,353 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:49:47,353 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:49:47,354 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:47,354 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:47,354 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:49:47,354 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:49:47,354 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:47,354 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:47,356 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:49:47,356 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:49:47,356 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:47,356 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:47,357 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:49:47,357 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:49:47,357 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:47,357 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:47,358 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:49:47,358 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:49:47,358 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:47,358 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:47,359 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:49:47,359 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:49:47,359 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:47,359 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:47,360 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:49:47,360 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:49:47,360 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:47,360 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:47,361 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:49:47,361 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:49:47,361 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:47,361 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:47,361 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:47,361 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:47,362 - fastapi_app - INFO - Database models initialized
2025-05-11 07:49:47,362 - fastapi_app - INFO - Database models initialized
2025-05-11 07:49:47,362 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:49:47,362 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:49:47,392 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:47,392 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:47,393 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:49:47,393 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:49:47,393 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('4be9f58fe9764a8297ddbcb4de0ccc3d', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:49:47.393654', '2025-05-11 07:49:47.393660')
2025-05-11 07:49:47,393 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('4be9f58fe9764a8297ddbcb4de0ccc3d', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:49:47.393654', '2025-05-11 07:49:47.393660')
2025-05-11 07:49:47,396 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:47,396 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:47,404 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:47,404 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:47,406 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:49:47,406 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:49:47,406 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('4be9f58fe9764a8297ddbcb4de0ccc3d',)
2025-05-11 07:49:47,406 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('4be9f58fe9764a8297ddbcb4de0ccc3d',)
2025-05-11 07:49:47,410 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:49:47,410 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:49:47,410 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('2fea806cba824ce2b1c6b87880333bcf', '9A', 2024, '4be9f58fe9764a8297ddbcb4de0ccc3d', '2025-05-11 07:49:47.410010', '2025-05-11 07:49:47.410014')
2025-05-11 07:49:47,410 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('2fea806cba824ce2b1c6b87880333bcf', '9A', 2024, '4be9f58fe9764a8297ddbcb4de0ccc3d', '2025-05-11 07:49:47.410010', '2025-05-11 07:49:47.410014')
2025-05-11 07:49:47,411 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:47,411 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:47,415 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:47,415 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:47,417 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:49:47,417 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:49:47,417 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('2fea806cba824ce2b1c6b87880333bcf',)
2025-05-11 07:49:47,417 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('2fea806cba824ce2b1c6b87880333bcf',)
2025-05-11 07:49:47,420 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:49:47,420 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:49:47,421 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s (insertmanyvalues) 1/1 (unordered)] ('8eb25438ab8143598f9c61b1436f6346', 'Mathematics', '4be9f58fe9764a8297ddbcb4de0ccc3d', '2fea806cba824ce2b1c6b87880333bcf', '2025-05-11 07:49:47.420525', '2025-05-11 07:49:47.420531', 'cb1c32cea2bb4ee082d0be8d759d5bbc', 'Physics', '4be9f58fe9764a8297ddbcb4de0ccc3d', '2fea806cba824ce2b1c6b87880333bcf', '2025-05-11 07:49:47.420545', '2025-05-11 07:49:47.420549', 'd62f6ee6bcd042ea9550fb5e0fd8a65d', 'Chemistry', '4be9f58fe9764a8297ddbcb4de0ccc3d', '2fea806cba824ce2b1c6b87880333bcf', '2025-05-11 07:49:47.420559', '2025-05-11 07:49:47.420562', '76ec2fc50c6448b48e2d63f6378befa1', 'Biology', '4be9f58fe9764a8297ddbcb4de0ccc3d', '2fea806cba824ce2b1c6b87880333bcf', '2025-05-11 07:49:47.420569', '2025-05-11 07:49:47.420571', '5c9012f59cd949ea81d9449e61c6974f', 'English', '4be9f58fe9764a8297ddbcb4de0ccc3d', '2fea806cba824ce2b1c6b87880333bcf', '2025-05-11 07:49:47.420578', '2025-05-11 07:49:47.420580')
2025-05-11 07:49:47,421 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s (insertmanyvalues) 1/1 (unordered)] ('8eb25438ab8143598f9c61b1436f6346', 'Mathematics', '4be9f58fe9764a8297ddbcb4de0ccc3d', '2fea806cba824ce2b1c6b87880333bcf', '2025-05-11 07:49:47.420525', '2025-05-11 07:49:47.420531', 'cb1c32cea2bb4ee082d0be8d759d5bbc', 'Physics', '4be9f58fe9764a8297ddbcb4de0ccc3d', '2fea806cba824ce2b1c6b87880333bcf', '2025-05-11 07:49:47.420545', '2025-05-11 07:49:47.420549', 'd62f6ee6bcd042ea9550fb5e0fd8a65d', 'Chemistry', '4be9f58fe9764a8297ddbcb4de0ccc3d', '2fea806cba824ce2b1c6b87880333bcf', '2025-05-11 07:49:47.420559', '2025-05-11 07:49:47.420562', '76ec2fc50c6448b48e2d63f6378befa1', 'Biology', '4be9f58fe9764a8297ddbcb4de0ccc3d', '2fea806cba824ce2b1c6b87880333bcf', '2025-05-11 07:49:47.420569', '2025-05-11 07:49:47.420571', '5c9012f59cd949ea81d9449e61c6974f', 'English', '4be9f58fe9764a8297ddbcb4de0ccc3d', '2fea806cba824ce2b1c6b87880333bcf', '2025-05-11 07:49:47.420578', '2025-05-11 07:49:47.420580')
2025-05-11 07:49:47,423 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:47,423 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:47,427 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:47,427 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:47,429 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:47,429 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:47,429 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('8eb25438ab8143598f9c61b1436f6346',)
2025-05-11 07:49:47,429 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('8eb25438ab8143598f9c61b1436f6346',)
2025-05-11 07:49:47,431 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:47,431 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:47,431 - sqlalchemy.engine.Engine - INFO - [cached since 0.002498s ago] ('cb1c32cea2bb4ee082d0be8d759d5bbc',)
2025-05-11 07:49:47,431 - sqlalchemy.engine.Engine - INFO - [cached since 0.002498s ago] ('cb1c32cea2bb4ee082d0be8d759d5bbc',)
2025-05-11 07:49:47,432 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:47,432 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:47,432 - sqlalchemy.engine.Engine - INFO - [cached since 0.00376s ago] ('d62f6ee6bcd042ea9550fb5e0fd8a65d',)
2025-05-11 07:49:47,432 - sqlalchemy.engine.Engine - INFO - [cached since 0.00376s ago] ('d62f6ee6bcd042ea9550fb5e0fd8a65d',)
2025-05-11 07:49:47,433 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:47,433 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:47,433 - sqlalchemy.engine.Engine - INFO - [cached since 0.004838s ago] ('76ec2fc50c6448b48e2d63f6378befa1',)
2025-05-11 07:49:47,433 - sqlalchemy.engine.Engine - INFO - [cached since 0.004838s ago] ('76ec2fc50c6448b48e2d63f6378befa1',)
2025-05-11 07:49:47,434 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:47,434 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:47,435 - sqlalchemy.engine.Engine - INFO - [cached since 0.006315s ago] ('5c9012f59cd949ea81d9449e61c6974f',)
2025-05-11 07:49:47,435 - sqlalchemy.engine.Engine - INFO - [cached since 0.006315s ago] ('5c9012f59cd949ea81d9449e61c6974f',)
2025-05-11 07:49:47,439 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:49:47,439 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:49:47,439 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s (insertmanyvalues) 1/1 (unordered)] ('b89fa53fc970457ca90d6c16e6f772c3', None, 'John Doe', 'homeroom_teacher', None, '4be9f58fe9764a8297ddbcb4de0ccc3d', '2025-05-11 07:49:47.439573', '2025-05-11 07:49:47.439579', '387676271838472097b061ea59bb7344', None, 'Jane Smith', 'subject_teacher', None, '4be9f58fe9764a8297ddbcb4de0ccc3d', '2025-05-11 07:49:47.439587', '2025-05-11 07:49:47.439590', '2dab8a0dcb964522bcdb66d7f03de37d', None, 'Bob Johnson', 'subject_teacher', None, '4be9f58fe9764a8297ddbcb4de0ccc3d', '2025-05-11 07:49:47.439597', '2025-05-11 07:49:47.439600')
2025-05-11 07:49:47,439 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s (insertmanyvalues) 1/1 (unordered)] ('b89fa53fc970457ca90d6c16e6f772c3', None, 'John Doe', 'homeroom_teacher', None, '4be9f58fe9764a8297ddbcb4de0ccc3d', '2025-05-11 07:49:47.439573', '2025-05-11 07:49:47.439579', '387676271838472097b061ea59bb7344', None, 'Jane Smith', 'subject_teacher', None, '4be9f58fe9764a8297ddbcb4de0ccc3d', '2025-05-11 07:49:47.439587', '2025-05-11 07:49:47.439590', '2dab8a0dcb964522bcdb66d7f03de37d', None, 'Bob Johnson', 'subject_teacher', None, '4be9f58fe9764a8297ddbcb4de0ccc3d', '2025-05-11 07:49:47.439597', '2025-05-11 07:49:47.439600')
2025-05-11 07:49:47,442 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:49:47,442 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:49:47,442 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] [('2dab8a0dcb964522bcdb66d7f03de37d', '5c9012f59cd949ea81d9449e61c6974f'), ('b89fa53fc970457ca90d6c16e6f772c3', 'cb1c32cea2bb4ee082d0be8d759d5bbc'), ('387676271838472097b061ea59bb7344', 'd62f6ee6bcd042ea9550fb5e0fd8a65d'), ('387676271838472097b061ea59bb7344', '76ec2fc50c6448b48e2d63f6378befa1'), ('b89fa53fc970457ca90d6c16e6f772c3', '8eb25438ab8143598f9c61b1436f6346')]
2025-05-11 07:49:47,442 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] [('2dab8a0dcb964522bcdb66d7f03de37d', '5c9012f59cd949ea81d9449e61c6974f'), ('b89fa53fc970457ca90d6c16e6f772c3', 'cb1c32cea2bb4ee082d0be8d759d5bbc'), ('387676271838472097b061ea59bb7344', 'd62f6ee6bcd042ea9550fb5e0fd8a65d'), ('387676271838472097b061ea59bb7344', '76ec2fc50c6448b48e2d63f6378befa1'), ('b89fa53fc970457ca90d6c16e6f772c3', '8eb25438ab8143598f9c61b1436f6346')]
2025-05-11 07:49:47,444 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:47,444 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:47,449 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:47,449 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:47,451 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:47,451 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:47,452 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] ('b89fa53fc970457ca90d6c16e6f772c3',)
2025-05-11 07:49:47,452 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] ('b89fa53fc970457ca90d6c16e6f772c3',)
2025-05-11 07:49:47,454 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:47,454 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:47,454 - sqlalchemy.engine.Engine - INFO - [cached since 0.002785s ago] ('387676271838472097b061ea59bb7344',)
2025-05-11 07:49:47,454 - sqlalchemy.engine.Engine - INFO - [cached since 0.002785s ago] ('387676271838472097b061ea59bb7344',)
2025-05-11 07:49:47,455 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:47,455 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:47,455 - sqlalchemy.engine.Engine - INFO - [cached since 0.004328s ago] ('2dab8a0dcb964522bcdb66d7f03de37d',)
2025-05-11 07:49:47,455 - sqlalchemy.engine.Engine - INFO - [cached since 0.004328s ago] ('2dab8a0dcb964522bcdb66d7f03de37d',)
2025-05-11 07:49:47,459 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:49:47,459 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:49:47,459 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('2fea806cba824ce2b1c6b87880333bcf', '2025-05-11 07:49:47.459212', 'b89fa53fc970457ca90d6c16e6f772c3')
2025-05-11 07:49:47,459 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('2fea806cba824ce2b1c6b87880333bcf', '2025-05-11 07:49:47.459212', 'b89fa53fc970457ca90d6c16e6f772c3')
2025-05-11 07:49:47,460 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:47,460 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:47,466 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:47,466 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:47,466 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:47,466 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:47,467 - sqlalchemy.engine.Engine - INFO - [cached since 0.01563s ago] ('b89fa53fc970457ca90d6c16e6f772c3',)
2025-05-11 07:49:47,467 - sqlalchemy.engine.Engine - INFO - [cached since 0.01563s ago] ('b89fa53fc970457ca90d6c16e6f772c3',)
2025-05-11 07:49:47,468 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:49:47,468 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:49:47,468 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:49:47,468 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:49:55,203 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:55,203 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:55,204 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:49:55,204 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:49:55,204 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:55,204 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:55,206 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:49:55,206 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:49:55,206 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:55,206 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:55,207 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:49:55,207 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:49:55,207 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:55,207 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:55,207 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:49:55,207 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:49:55,207 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:55,207 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:55,208 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:49:55,208 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:49:55,209 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:55,209 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:55,210 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:49:55,210 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:49:55,210 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:55,210 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:55,210 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:49:55,210 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:49:55,211 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:55,211 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:55,211 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:49:55,211 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:49:55,212 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:55,212 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:55,213 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:49:55,213 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:49:55,213 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:55,213 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:49:55,214 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:55,214 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:55,215 - fastapi_app - INFO - Database models initialized
2025-05-11 07:49:55,215 - fastapi_app - INFO - Database models initialized
2025-05-11 07:49:55,215 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:49:55,215 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:49:55,242 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:55,242 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:55,244 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:49:55,244 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:49:55,244 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] ('14c576f8187a4925a2f40349427308bf', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:49:55.244419', '2025-05-11 07:49:55.244426')
2025-05-11 07:49:55,244 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] ('14c576f8187a4925a2f40349427308bf', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:49:55.244419', '2025-05-11 07:49:55.244426')
2025-05-11 07:49:55,246 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:55,246 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:55,252 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:55,252 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:55,255 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:49:55,255 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:49:55,255 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('14c576f8187a4925a2f40349427308bf',)
2025-05-11 07:49:55,255 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('14c576f8187a4925a2f40349427308bf',)
2025-05-11 07:49:55,258 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:49:55,258 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:49:55,259 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('786929b828f647e9afce03a7eb9634fa', '9A', 2024, '14c576f8187a4925a2f40349427308bf', '2025-05-11 07:49:55.258777', '2025-05-11 07:49:55.258784')
2025-05-11 07:49:55,259 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('786929b828f647e9afce03a7eb9634fa', '9A', 2024, '14c576f8187a4925a2f40349427308bf', '2025-05-11 07:49:55.258777', '2025-05-11 07:49:55.258784')
2025-05-11 07:49:55,260 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:55,260 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:55,265 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:55,265 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:55,266 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:49:55,266 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:49:55,266 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('786929b828f647e9afce03a7eb9634fa',)
2025-05-11 07:49:55,266 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('786929b828f647e9afce03a7eb9634fa',)
2025-05-11 07:49:55,271 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:49:55,271 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:49:55,271 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s (insertmanyvalues) 1/1 (unordered)] ('55f26fbf81af4944828948450616c3e2', 'Mathematics', '14c576f8187a4925a2f40349427308bf', '786929b828f647e9afce03a7eb9634fa', '2025-05-11 07:49:55.270755', '2025-05-11 07:49:55.270760', 'f680e92b726a4938b7003c08650e2764', 'Physics', '14c576f8187a4925a2f40349427308bf', '786929b828f647e9afce03a7eb9634fa', '2025-05-11 07:49:55.270767', '2025-05-11 07:49:55.270769', '1af27828a6df413b8c8b6c73e4df0604', 'Chemistry', '14c576f8187a4925a2f40349427308bf', '786929b828f647e9afce03a7eb9634fa', '2025-05-11 07:49:55.270775', '2025-05-11 07:49:55.270778', 'a08c0f30adb54d54ba2312d1cf52a6a8', 'Biology', '14c576f8187a4925a2f40349427308bf', '786929b828f647e9afce03a7eb9634fa', '2025-05-11 07:49:55.270783', '2025-05-11 07:49:55.270785', 'a1c0083851ec476e87dc8f6750267b84', 'English', '14c576f8187a4925a2f40349427308bf', '786929b828f647e9afce03a7eb9634fa', '2025-05-11 07:49:55.270790', '2025-05-11 07:49:55.270793')
2025-05-11 07:49:55,271 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s (insertmanyvalues) 1/1 (unordered)] ('55f26fbf81af4944828948450616c3e2', 'Mathematics', '14c576f8187a4925a2f40349427308bf', '786929b828f647e9afce03a7eb9634fa', '2025-05-11 07:49:55.270755', '2025-05-11 07:49:55.270760', 'f680e92b726a4938b7003c08650e2764', 'Physics', '14c576f8187a4925a2f40349427308bf', '786929b828f647e9afce03a7eb9634fa', '2025-05-11 07:49:55.270767', '2025-05-11 07:49:55.270769', '1af27828a6df413b8c8b6c73e4df0604', 'Chemistry', '14c576f8187a4925a2f40349427308bf', '786929b828f647e9afce03a7eb9634fa', '2025-05-11 07:49:55.270775', '2025-05-11 07:49:55.270778', 'a08c0f30adb54d54ba2312d1cf52a6a8', 'Biology', '14c576f8187a4925a2f40349427308bf', '786929b828f647e9afce03a7eb9634fa', '2025-05-11 07:49:55.270783', '2025-05-11 07:49:55.270785', 'a1c0083851ec476e87dc8f6750267b84', 'English', '14c576f8187a4925a2f40349427308bf', '786929b828f647e9afce03a7eb9634fa', '2025-05-11 07:49:55.270790', '2025-05-11 07:49:55.270793')
2025-05-11 07:49:55,272 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:55,272 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:55,278 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:55,278 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:55,279 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:55,279 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:55,279 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('55f26fbf81af4944828948450616c3e2',)
2025-05-11 07:49:55,279 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('55f26fbf81af4944828948450616c3e2',)
2025-05-11 07:49:55,280 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:55,280 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:55,281 - sqlalchemy.engine.Engine - INFO - [cached since 0.001839s ago] ('f680e92b726a4938b7003c08650e2764',)
2025-05-11 07:49:55,281 - sqlalchemy.engine.Engine - INFO - [cached since 0.001839s ago] ('f680e92b726a4938b7003c08650e2764',)
2025-05-11 07:49:55,282 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:55,282 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:55,283 - sqlalchemy.engine.Engine - INFO - [cached since 0.003994s ago] ('1af27828a6df413b8c8b6c73e4df0604',)
2025-05-11 07:49:55,283 - sqlalchemy.engine.Engine - INFO - [cached since 0.003994s ago] ('1af27828a6df413b8c8b6c73e4df0604',)
2025-05-11 07:49:55,284 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:55,284 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:55,284 - sqlalchemy.engine.Engine - INFO - [cached since 0.00551s ago] ('a08c0f30adb54d54ba2312d1cf52a6a8',)
2025-05-11 07:49:55,284 - sqlalchemy.engine.Engine - INFO - [cached since 0.00551s ago] ('a08c0f30adb54d54ba2312d1cf52a6a8',)
2025-05-11 07:49:55,286 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:55,286 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:49:55,286 - sqlalchemy.engine.Engine - INFO - [cached since 0.007391s ago] ('a1c0083851ec476e87dc8f6750267b84',)
2025-05-11 07:49:55,286 - sqlalchemy.engine.Engine - INFO - [cached since 0.007391s ago] ('a1c0083851ec476e87dc8f6750267b84',)
2025-05-11 07:49:55,289 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:49:55,289 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:49:55,290 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s (insertmanyvalues) 1/1 (unordered)] ('a72fcb0ae3a44d4696c5445cd6a2accc', None, 'John Doe', 'homeroom_teacher', None, '14c576f8187a4925a2f40349427308bf', '2025-05-11 07:49:55.289805', '2025-05-11 07:49:55.289811', '2b2bf6f178a14455b6cea998c984844c', None, 'Jane Smith', 'subject_teacher', None, '14c576f8187a4925a2f40349427308bf', '2025-05-11 07:49:55.289817', '2025-05-11 07:49:55.289820', '7a3eb82f70464dccb148dceaa27d8cb8', None, 'Bob Johnson', 'subject_teacher', None, '14c576f8187a4925a2f40349427308bf', '2025-05-11 07:49:55.289826', '2025-05-11 07:49:55.289828')
2025-05-11 07:49:55,290 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s (insertmanyvalues) 1/1 (unordered)] ('a72fcb0ae3a44d4696c5445cd6a2accc', None, 'John Doe', 'homeroom_teacher', None, '14c576f8187a4925a2f40349427308bf', '2025-05-11 07:49:55.289805', '2025-05-11 07:49:55.289811', '2b2bf6f178a14455b6cea998c984844c', None, 'Jane Smith', 'subject_teacher', None, '14c576f8187a4925a2f40349427308bf', '2025-05-11 07:49:55.289817', '2025-05-11 07:49:55.289820', '7a3eb82f70464dccb148dceaa27d8cb8', None, 'Bob Johnson', 'subject_teacher', None, '14c576f8187a4925a2f40349427308bf', '2025-05-11 07:49:55.289826', '2025-05-11 07:49:55.289828')
2025-05-11 07:49:55,292 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:49:55,292 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:49:55,292 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] [('a72fcb0ae3a44d4696c5445cd6a2accc', 'f680e92b726a4938b7003c08650e2764'), ('2b2bf6f178a14455b6cea998c984844c', '1af27828a6df413b8c8b6c73e4df0604'), ('2b2bf6f178a14455b6cea998c984844c', 'a08c0f30adb54d54ba2312d1cf52a6a8'), ('a72fcb0ae3a44d4696c5445cd6a2accc', '55f26fbf81af4944828948450616c3e2'), ('7a3eb82f70464dccb148dceaa27d8cb8', 'a1c0083851ec476e87dc8f6750267b84')]
2025-05-11 07:49:55,292 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] [('a72fcb0ae3a44d4696c5445cd6a2accc', 'f680e92b726a4938b7003c08650e2764'), ('2b2bf6f178a14455b6cea998c984844c', '1af27828a6df413b8c8b6c73e4df0604'), ('2b2bf6f178a14455b6cea998c984844c', 'a08c0f30adb54d54ba2312d1cf52a6a8'), ('a72fcb0ae3a44d4696c5445cd6a2accc', '55f26fbf81af4944828948450616c3e2'), ('7a3eb82f70464dccb148dceaa27d8cb8', 'a1c0083851ec476e87dc8f6750267b84')]
2025-05-11 07:49:55,293 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:55,293 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:55,298 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:55,298 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:55,300 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:55,300 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:55,300 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('a72fcb0ae3a44d4696c5445cd6a2accc',)
2025-05-11 07:49:55,300 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('a72fcb0ae3a44d4696c5445cd6a2accc',)
2025-05-11 07:49:55,302 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:55,302 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:55,302 - sqlalchemy.engine.Engine - INFO - [cached since 0.002031s ago] ('2b2bf6f178a14455b6cea998c984844c',)
2025-05-11 07:49:55,302 - sqlalchemy.engine.Engine - INFO - [cached since 0.002031s ago] ('2b2bf6f178a14455b6cea998c984844c',)
2025-05-11 07:49:55,303 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:55,303 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:55,304 - sqlalchemy.engine.Engine - INFO - [cached since 0.003779s ago] ('7a3eb82f70464dccb148dceaa27d8cb8',)
2025-05-11 07:49:55,304 - sqlalchemy.engine.Engine - INFO - [cached since 0.003779s ago] ('7a3eb82f70464dccb148dceaa27d8cb8',)
2025-05-11 07:49:55,306 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:49:55,306 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:49:55,306 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('786929b828f647e9afce03a7eb9634fa', '2025-05-11 07:49:55.306075', 'a72fcb0ae3a44d4696c5445cd6a2accc')
2025-05-11 07:49:55,306 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('786929b828f647e9afce03a7eb9634fa', '2025-05-11 07:49:55.306075', 'a72fcb0ae3a44d4696c5445cd6a2accc')
2025-05-11 07:49:55,307 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:55,307 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:49:55,312 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:55,312 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:49:55,312 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:55,312 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:49:55,312 - sqlalchemy.engine.Engine - INFO - [cached since 0.01266s ago] ('a72fcb0ae3a44d4696c5445cd6a2accc',)
2025-05-11 07:49:55,312 - sqlalchemy.engine.Engine - INFO - [cached since 0.01266s ago] ('a72fcb0ae3a44d4696c5445cd6a2accc',)
2025-05-11 07:49:55,313 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:49:55,313 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:49:55,314 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:49:55,314 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:50:07,287 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:07,287 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:07,287 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:50:07,287 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:50:07,288 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:07,288 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:07,289 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:50:07,289 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:50:07,289 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:07,289 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:07,289 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:50:07,289 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:50:07,290 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:07,290 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:07,290 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:50:07,290 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:50:07,290 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:07,290 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:07,291 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:50:07,291 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:50:07,291 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:07,291 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:07,292 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:50:07,292 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:50:07,292 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:07,292 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:07,292 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:50:07,292 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:50:07,292 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:07,292 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:07,293 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:50:07,293 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:50:07,293 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:07,293 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:07,294 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:50:07,294 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:50:07,294 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:07,294 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:07,295 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:07,295 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:07,295 - fastapi_app - INFO - Database models initialized
2025-05-11 07:50:07,295 - fastapi_app - INFO - Database models initialized
2025-05-11 07:50:07,296 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:50:07,296 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:50:07,320 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:07,320 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:07,321 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:50:07,321 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:50:07,322 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('af7861e10f184f10a7ad0aebd25046cc', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:50:07.321749', '2025-05-11 07:50:07.321758')
2025-05-11 07:50:07,322 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('af7861e10f184f10a7ad0aebd25046cc', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:50:07.321749', '2025-05-11 07:50:07.321758')
2025-05-11 07:50:07,323 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:07,323 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:07,330 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:07,330 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:07,331 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:50:07,331 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:50:07,332 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('af7861e10f184f10a7ad0aebd25046cc',)
2025-05-11 07:50:07,332 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('af7861e10f184f10a7ad0aebd25046cc',)
2025-05-11 07:50:07,334 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:50:07,334 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:50:07,334 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('a9f45949cd074046b28f19c870c15b67', '9A', 2024, 'af7861e10f184f10a7ad0aebd25046cc', '2025-05-11 07:50:07.334668', '2025-05-11 07:50:07.334673')
2025-05-11 07:50:07,334 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('a9f45949cd074046b28f19c870c15b67', '9A', 2024, 'af7861e10f184f10a7ad0aebd25046cc', '2025-05-11 07:50:07.334668', '2025-05-11 07:50:07.334673')
2025-05-11 07:50:07,336 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:07,336 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:07,341 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:07,341 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:07,342 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:50:07,342 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:50:07,343 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('a9f45949cd074046b28f19c870c15b67',)
2025-05-11 07:50:07,343 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('a9f45949cd074046b28f19c870c15b67',)
2025-05-11 07:50:07,346 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:50:07,346 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:50:07,347 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s (insertmanyvalues) 1/1 (unordered)] ('29645cc1af2d4c4bbf7a8ed478ac1911', 'Mathematics', 'af7861e10f184f10a7ad0aebd25046cc', 'a9f45949cd074046b28f19c870c15b67', '2025-05-11 07:50:07.346377', '2025-05-11 07:50:07.346387', '8a891f71965c466a94657447f8c80735', 'Physics', 'af7861e10f184f10a7ad0aebd25046cc', 'a9f45949cd074046b28f19c870c15b67', '2025-05-11 07:50:07.346394', '2025-05-11 07:50:07.346397', '5b4078a4fee24989aa06c8f734a5ff15', 'Chemistry', 'af7861e10f184f10a7ad0aebd25046cc', 'a9f45949cd074046b28f19c870c15b67', '2025-05-11 07:50:07.346405', '2025-05-11 07:50:07.346408', 'f1d703805a434f0683b1a33793297427', 'Biology', 'af7861e10f184f10a7ad0aebd25046cc', 'a9f45949cd074046b28f19c870c15b67', '2025-05-11 07:50:07.346415', '2025-05-11 07:50:07.346418', 'fc0ba885331c43ce9704edcb3a21b79d', 'English', 'af7861e10f184f10a7ad0aebd25046cc', 'a9f45949cd074046b28f19c870c15b67', '2025-05-11 07:50:07.346425', '2025-05-11 07:50:07.346428')
2025-05-11 07:50:07,347 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s (insertmanyvalues) 1/1 (unordered)] ('29645cc1af2d4c4bbf7a8ed478ac1911', 'Mathematics', 'af7861e10f184f10a7ad0aebd25046cc', 'a9f45949cd074046b28f19c870c15b67', '2025-05-11 07:50:07.346377', '2025-05-11 07:50:07.346387', '8a891f71965c466a94657447f8c80735', 'Physics', 'af7861e10f184f10a7ad0aebd25046cc', 'a9f45949cd074046b28f19c870c15b67', '2025-05-11 07:50:07.346394', '2025-05-11 07:50:07.346397', '5b4078a4fee24989aa06c8f734a5ff15', 'Chemistry', 'af7861e10f184f10a7ad0aebd25046cc', 'a9f45949cd074046b28f19c870c15b67', '2025-05-11 07:50:07.346405', '2025-05-11 07:50:07.346408', 'f1d703805a434f0683b1a33793297427', 'Biology', 'af7861e10f184f10a7ad0aebd25046cc', 'a9f45949cd074046b28f19c870c15b67', '2025-05-11 07:50:07.346415', '2025-05-11 07:50:07.346418', 'fc0ba885331c43ce9704edcb3a21b79d', 'English', 'af7861e10f184f10a7ad0aebd25046cc', 'a9f45949cd074046b28f19c870c15b67', '2025-05-11 07:50:07.346425', '2025-05-11 07:50:07.346428')
2025-05-11 07:50:07,349 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:07,349 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:07,355 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:07,355 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:07,356 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:50:07,356 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:50:07,356 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('29645cc1af2d4c4bbf7a8ed478ac1911',)
2025-05-11 07:50:07,356 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('29645cc1af2d4c4bbf7a8ed478ac1911',)
2025-05-11 07:50:07,358 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:50:07,358 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:50:07,358 - sqlalchemy.engine.Engine - INFO - [cached since 0.001855s ago] ('8a891f71965c466a94657447f8c80735',)
2025-05-11 07:50:07,358 - sqlalchemy.engine.Engine - INFO - [cached since 0.001855s ago] ('8a891f71965c466a94657447f8c80735',)
2025-05-11 07:50:07,359 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:50:07,359 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:50:07,359 - sqlalchemy.engine.Engine - INFO - [cached since 0.003291s ago] ('5b4078a4fee24989aa06c8f734a5ff15',)
2025-05-11 07:50:07,359 - sqlalchemy.engine.Engine - INFO - [cached since 0.003291s ago] ('5b4078a4fee24989aa06c8f734a5ff15',)
2025-05-11 07:50:07,361 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:50:07,361 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:50:07,361 - sqlalchemy.engine.Engine - INFO - [cached since 0.005253s ago] ('f1d703805a434f0683b1a33793297427',)
2025-05-11 07:50:07,361 - sqlalchemy.engine.Engine - INFO - [cached since 0.005253s ago] ('f1d703805a434f0683b1a33793297427',)
2025-05-11 07:50:07,362 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:50:07,362 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:50:07,362 - sqlalchemy.engine.Engine - INFO - [cached since 0.006368s ago] ('fc0ba885331c43ce9704edcb3a21b79d',)
2025-05-11 07:50:07,362 - sqlalchemy.engine.Engine - INFO - [cached since 0.006368s ago] ('fc0ba885331c43ce9704edcb3a21b79d',)
2025-05-11 07:50:07,366 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:50:07,366 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:50:07,366 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s (insertmanyvalues) 1/1 (unordered)] ('7d71a89a73824fadacd09853524a180d', None, 'John Doe', 'homeroom_teacher', None, 'af7861e10f184f10a7ad0aebd25046cc', '2025-05-11 07:50:07.366118', '2025-05-11 07:50:07.366128', 'c3c81ee2c1c54b6291b94c152b857990', None, 'Jane Smith', 'subject_teacher', None, 'af7861e10f184f10a7ad0aebd25046cc', '2025-05-11 07:50:07.366134', '2025-05-11 07:50:07.366137', '45afb66b061445e7aefcc1523a2a293b', None, 'Bob Johnson', 'subject_teacher', None, 'af7861e10f184f10a7ad0aebd25046cc', '2025-05-11 07:50:07.366143', '2025-05-11 07:50:07.366145')
2025-05-11 07:50:07,366 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s (insertmanyvalues) 1/1 (unordered)] ('7d71a89a73824fadacd09853524a180d', None, 'John Doe', 'homeroom_teacher', None, 'af7861e10f184f10a7ad0aebd25046cc', '2025-05-11 07:50:07.366118', '2025-05-11 07:50:07.366128', 'c3c81ee2c1c54b6291b94c152b857990', None, 'Jane Smith', 'subject_teacher', None, 'af7861e10f184f10a7ad0aebd25046cc', '2025-05-11 07:50:07.366134', '2025-05-11 07:50:07.366137', '45afb66b061445e7aefcc1523a2a293b', None, 'Bob Johnson', 'subject_teacher', None, 'af7861e10f184f10a7ad0aebd25046cc', '2025-05-11 07:50:07.366143', '2025-05-11 07:50:07.366145')
2025-05-11 07:50:07,368 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:50:07,368 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:50:07,369 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] [('7d71a89a73824fadacd09853524a180d', '8a891f71965c466a94657447f8c80735'), ('c3c81ee2c1c54b6291b94c152b857990', '5b4078a4fee24989aa06c8f734a5ff15'), ('c3c81ee2c1c54b6291b94c152b857990', 'f1d703805a434f0683b1a33793297427'), ('7d71a89a73824fadacd09853524a180d', '29645cc1af2d4c4bbf7a8ed478ac1911'), ('45afb66b061445e7aefcc1523a2a293b', 'fc0ba885331c43ce9704edcb3a21b79d')]
2025-05-11 07:50:07,369 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] [('7d71a89a73824fadacd09853524a180d', '8a891f71965c466a94657447f8c80735'), ('c3c81ee2c1c54b6291b94c152b857990', '5b4078a4fee24989aa06c8f734a5ff15'), ('c3c81ee2c1c54b6291b94c152b857990', 'f1d703805a434f0683b1a33793297427'), ('7d71a89a73824fadacd09853524a180d', '29645cc1af2d4c4bbf7a8ed478ac1911'), ('45afb66b061445e7aefcc1523a2a293b', 'fc0ba885331c43ce9704edcb3a21b79d')]
2025-05-11 07:50:07,370 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:07,370 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:07,375 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:07,375 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:07,376 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:50:07,376 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:50:07,376 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('7d71a89a73824fadacd09853524a180d',)
2025-05-11 07:50:07,376 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('7d71a89a73824fadacd09853524a180d',)
2025-05-11 07:50:07,378 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:50:07,378 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:50:07,379 - sqlalchemy.engine.Engine - INFO - [cached since 0.00248s ago] ('c3c81ee2c1c54b6291b94c152b857990',)
2025-05-11 07:50:07,379 - sqlalchemy.engine.Engine - INFO - [cached since 0.00248s ago] ('c3c81ee2c1c54b6291b94c152b857990',)
2025-05-11 07:50:07,380 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:50:07,380 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:50:07,380 - sqlalchemy.engine.Engine - INFO - [cached since 0.003909s ago] ('45afb66b061445e7aefcc1523a2a293b',)
2025-05-11 07:50:07,380 - sqlalchemy.engine.Engine - INFO - [cached since 0.003909s ago] ('45afb66b061445e7aefcc1523a2a293b',)
2025-05-11 07:50:07,383 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:50:07,383 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:50:07,383 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] ('a9f45949cd074046b28f19c870c15b67', '2025-05-11 07:50:07.383301', '7d71a89a73824fadacd09853524a180d')
2025-05-11 07:50:07,383 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] ('a9f45949cd074046b28f19c870c15b67', '2025-05-11 07:50:07.383301', '7d71a89a73824fadacd09853524a180d')
2025-05-11 07:50:07,384 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:07,384 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:07,388 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:07,388 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:07,389 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:50:07,389 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:50:07,389 - sqlalchemy.engine.Engine - INFO - [cached since 0.01318s ago] ('7d71a89a73824fadacd09853524a180d',)
2025-05-11 07:50:07,389 - sqlalchemy.engine.Engine - INFO - [cached since 0.01318s ago] ('7d71a89a73824fadacd09853524a180d',)
2025-05-11 07:50:07,391 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:50:07,391 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:50:07,391 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:50:07,391 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:50:38,385 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:38,385 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:38,385 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:50:38,385 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:50:38,385 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:38,385 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:38,386 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:50:38,386 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:50:38,387 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:38,387 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:38,387 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:50:38,387 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:50:38,387 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:38,387 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:38,388 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:50:38,388 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:50:38,388 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:38,388 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:38,389 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:50:38,389 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:50:38,389 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:38,389 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:38,390 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:50:38,390 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:50:38,390 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:38,390 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:38,391 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:50:38,391 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:50:38,391 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:38,391 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:38,392 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:50:38,392 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:50:38,392 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:38,392 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:38,392 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:50:38,392 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:50:38,393 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:38,393 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:50:38,393 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:38,393 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:38,394 - fastapi_app - INFO - Database models initialized
2025-05-11 07:50:38,394 - fastapi_app - INFO - Database models initialized
2025-05-11 07:50:38,394 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:50:38,394 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:50:38,416 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:38,416 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:38,418 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:50:38,418 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:50:38,418 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('723b6e2464ff40f5abe170cb2ea5cb39', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:50:38.418282', '2025-05-11 07:50:38.418288')
2025-05-11 07:50:38,418 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('723b6e2464ff40f5abe170cb2ea5cb39', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:50:38.418282', '2025-05-11 07:50:38.418288')
2025-05-11 07:50:38,420 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:38,420 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:38,426 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:38,426 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:38,428 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:50:38,428 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:50:38,428 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('723b6e2464ff40f5abe170cb2ea5cb39',)
2025-05-11 07:50:38,428 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('723b6e2464ff40f5abe170cb2ea5cb39',)
2025-05-11 07:50:38,431 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:50:38,431 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:50:38,431 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('327e5179e6b54504a5e9739d1396bb09', '9A', 2024, '723b6e2464ff40f5abe170cb2ea5cb39', '2025-05-11 07:50:38.431164', '2025-05-11 07:50:38.431168')
2025-05-11 07:50:38,431 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('327e5179e6b54504a5e9739d1396bb09', '9A', 2024, '723b6e2464ff40f5abe170cb2ea5cb39', '2025-05-11 07:50:38.431164', '2025-05-11 07:50:38.431168')
2025-05-11 07:50:38,432 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:38,432 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:38,436 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:38,436 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:38,438 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:50:38,438 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:50:38,438 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('327e5179e6b54504a5e9739d1396bb09',)
2025-05-11 07:50:38,438 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('327e5179e6b54504a5e9739d1396bb09',)
2025-05-11 07:50:38,440 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:50:38,440 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:50:38,441 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/1 (unordered)] ('51172bb99ff54dcba005b3c8502b39e1', 'Mathematics', '723b6e2464ff40f5abe170cb2ea5cb39', '327e5179e6b54504a5e9739d1396bb09', '2025-05-11 07:50:38.440724', '2025-05-11 07:50:38.440730', 'b61e957b2e92414596c5a9e70dd3c65d', 'Physics', '723b6e2464ff40f5abe170cb2ea5cb39', '327e5179e6b54504a5e9739d1396bb09', '2025-05-11 07:50:38.440735', '2025-05-11 07:50:38.440738', '6a86c8e0ba204b49a2b536552afc03ae', 'Chemistry', '723b6e2464ff40f5abe170cb2ea5cb39', '327e5179e6b54504a5e9739d1396bb09', '2025-05-11 07:50:38.440746', '2025-05-11 07:50:38.440748', '4e3b43f9be1d4538b28f86756a4fd859', 'Biology', '723b6e2464ff40f5abe170cb2ea5cb39', '327e5179e6b54504a5e9739d1396bb09', '2025-05-11 07:50:38.440754', '2025-05-11 07:50:38.440757', 'b10062a9f606484e820ca89bcc3ae5b4', 'English', '723b6e2464ff40f5abe170cb2ea5cb39', '327e5179e6b54504a5e9739d1396bb09', '2025-05-11 07:50:38.440761', '2025-05-11 07:50:38.440764')
2025-05-11 07:50:38,441 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/1 (unordered)] ('51172bb99ff54dcba005b3c8502b39e1', 'Mathematics', '723b6e2464ff40f5abe170cb2ea5cb39', '327e5179e6b54504a5e9739d1396bb09', '2025-05-11 07:50:38.440724', '2025-05-11 07:50:38.440730', 'b61e957b2e92414596c5a9e70dd3c65d', 'Physics', '723b6e2464ff40f5abe170cb2ea5cb39', '327e5179e6b54504a5e9739d1396bb09', '2025-05-11 07:50:38.440735', '2025-05-11 07:50:38.440738', '6a86c8e0ba204b49a2b536552afc03ae', 'Chemistry', '723b6e2464ff40f5abe170cb2ea5cb39', '327e5179e6b54504a5e9739d1396bb09', '2025-05-11 07:50:38.440746', '2025-05-11 07:50:38.440748', '4e3b43f9be1d4538b28f86756a4fd859', 'Biology', '723b6e2464ff40f5abe170cb2ea5cb39', '327e5179e6b54504a5e9739d1396bb09', '2025-05-11 07:50:38.440754', '2025-05-11 07:50:38.440757', 'b10062a9f606484e820ca89bcc3ae5b4', 'English', '723b6e2464ff40f5abe170cb2ea5cb39', '327e5179e6b54504a5e9739d1396bb09', '2025-05-11 07:50:38.440761', '2025-05-11 07:50:38.440764')
2025-05-11 07:50:38,442 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:38,442 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:38,446 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:38,446 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:38,447 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:50:38,447 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:50:38,447 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('51172bb99ff54dcba005b3c8502b39e1',)
2025-05-11 07:50:38,447 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('51172bb99ff54dcba005b3c8502b39e1',)
2025-05-11 07:50:38,448 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:50:38,448 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:50:38,448 - sqlalchemy.engine.Engine - INFO - [cached since 0.001593s ago] ('b61e957b2e92414596c5a9e70dd3c65d',)
2025-05-11 07:50:38,448 - sqlalchemy.engine.Engine - INFO - [cached since 0.001593s ago] ('b61e957b2e92414596c5a9e70dd3c65d',)
2025-05-11 07:50:38,449 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:50:38,449 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:50:38,450 - sqlalchemy.engine.Engine - INFO - [cached since 0.002753s ago] ('6a86c8e0ba204b49a2b536552afc03ae',)
2025-05-11 07:50:38,450 - sqlalchemy.engine.Engine - INFO - [cached since 0.002753s ago] ('6a86c8e0ba204b49a2b536552afc03ae',)
2025-05-11 07:50:38,451 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:50:38,451 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:50:38,451 - sqlalchemy.engine.Engine - INFO - [cached since 0.004009s ago] ('4e3b43f9be1d4538b28f86756a4fd859',)
2025-05-11 07:50:38,451 - sqlalchemy.engine.Engine - INFO - [cached since 0.004009s ago] ('4e3b43f9be1d4538b28f86756a4fd859',)
2025-05-11 07:50:38,452 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:50:38,452 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:50:38,452 - sqlalchemy.engine.Engine - INFO - [cached since 0.005147s ago] ('b10062a9f606484e820ca89bcc3ae5b4',)
2025-05-11 07:50:38,452 - sqlalchemy.engine.Engine - INFO - [cached since 0.005147s ago] ('b10062a9f606484e820ca89bcc3ae5b4',)
2025-05-11 07:50:38,455 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:50:38,455 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:50:38,455 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/1 (unordered)] ('542e7370d232412783b609d91a5f7c28', None, 'John Doe', 'homeroom_teacher', None, '723b6e2464ff40f5abe170cb2ea5cb39', '2025-05-11 07:50:38.454848', '2025-05-11 07:50:38.454853', '70cef6186224406d9856d849254200f0', None, 'Jane Smith', 'subject_teacher', None, '723b6e2464ff40f5abe170cb2ea5cb39', '2025-05-11 07:50:38.454861', '2025-05-11 07:50:38.454862', '7321d28d663945178f5e15cd72a1d186', None, 'Bob Johnson', 'subject_teacher', None, '723b6e2464ff40f5abe170cb2ea5cb39', '2025-05-11 07:50:38.454867', '2025-05-11 07:50:38.454870')
2025-05-11 07:50:38,455 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/1 (unordered)] ('542e7370d232412783b609d91a5f7c28', None, 'John Doe', 'homeroom_teacher', None, '723b6e2464ff40f5abe170cb2ea5cb39', '2025-05-11 07:50:38.454848', '2025-05-11 07:50:38.454853', '70cef6186224406d9856d849254200f0', None, 'Jane Smith', 'subject_teacher', None, '723b6e2464ff40f5abe170cb2ea5cb39', '2025-05-11 07:50:38.454861', '2025-05-11 07:50:38.454862', '7321d28d663945178f5e15cd72a1d186', None, 'Bob Johnson', 'subject_teacher', None, '723b6e2464ff40f5abe170cb2ea5cb39', '2025-05-11 07:50:38.454867', '2025-05-11 07:50:38.454870')
2025-05-11 07:50:38,456 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:50:38,456 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:50:38,456 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] [('542e7370d232412783b609d91a5f7c28', 'b61e957b2e92414596c5a9e70dd3c65d'), ('70cef6186224406d9856d849254200f0', '6a86c8e0ba204b49a2b536552afc03ae'), ('70cef6186224406d9856d849254200f0', '4e3b43f9be1d4538b28f86756a4fd859'), ('542e7370d232412783b609d91a5f7c28', '51172bb99ff54dcba005b3c8502b39e1'), ('7321d28d663945178f5e15cd72a1d186', 'b10062a9f606484e820ca89bcc3ae5b4')]
2025-05-11 07:50:38,456 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] [('542e7370d232412783b609d91a5f7c28', 'b61e957b2e92414596c5a9e70dd3c65d'), ('70cef6186224406d9856d849254200f0', '6a86c8e0ba204b49a2b536552afc03ae'), ('70cef6186224406d9856d849254200f0', '4e3b43f9be1d4538b28f86756a4fd859'), ('542e7370d232412783b609d91a5f7c28', '51172bb99ff54dcba005b3c8502b39e1'), ('7321d28d663945178f5e15cd72a1d186', 'b10062a9f606484e820ca89bcc3ae5b4')]
2025-05-11 07:50:38,458 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:38,458 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:38,462 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:38,462 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:38,463 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:50:38,463 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:50:38,463 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('542e7370d232412783b609d91a5f7c28',)
2025-05-11 07:50:38,463 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('542e7370d232412783b609d91a5f7c28',)
2025-05-11 07:50:38,465 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:50:38,465 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:50:38,465 - sqlalchemy.engine.Engine - INFO - [cached since 0.001952s ago] ('70cef6186224406d9856d849254200f0',)
2025-05-11 07:50:38,465 - sqlalchemy.engine.Engine - INFO - [cached since 0.001952s ago] ('70cef6186224406d9856d849254200f0',)
2025-05-11 07:50:38,466 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:50:38,466 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:50:38,466 - sqlalchemy.engine.Engine - INFO - [cached since 0.00325s ago] ('7321d28d663945178f5e15cd72a1d186',)
2025-05-11 07:50:38,466 - sqlalchemy.engine.Engine - INFO - [cached since 0.00325s ago] ('7321d28d663945178f5e15cd72a1d186',)
2025-05-11 07:50:38,469 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:50:38,469 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:50:38,469 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('327e5179e6b54504a5e9739d1396bb09', '2025-05-11 07:50:38.469282', '542e7370d232412783b609d91a5f7c28')
2025-05-11 07:50:38,469 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('327e5179e6b54504a5e9739d1396bb09', '2025-05-11 07:50:38.469282', '542e7370d232412783b609d91a5f7c28')
2025-05-11 07:50:38,471 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:38,471 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:50:38,475 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:38,475 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:50:38,475 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:50:38,475 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:50:38,475 - sqlalchemy.engine.Engine - INFO - [cached since 0.01207s ago] ('542e7370d232412783b609d91a5f7c28',)
2025-05-11 07:50:38,475 - sqlalchemy.engine.Engine - INFO - [cached since 0.01207s ago] ('542e7370d232412783b609d91a5f7c28',)
2025-05-11 07:50:38,476 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:50:38,476 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:50:38,476 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:50:38,476 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:52:10,112 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:10,112 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:10,112 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:52:10,112 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:52:10,112 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:10,112 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:10,114 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:52:10,114 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:52:10,114 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:10,114 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:10,115 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:52:10,115 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:52:10,115 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:10,115 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:10,115 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:52:10,115 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:52:10,116 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:10,116 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:10,116 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:52:10,116 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:52:10,116 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:10,116 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:10,117 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:52:10,117 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:52:10,117 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:10,117 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:10,118 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:52:10,118 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:52:10,118 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:10,118 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:10,119 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:52:10,119 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:52:10,119 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:10,119 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:10,119 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:52:10,119 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:52:10,119 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:10,119 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:10,120 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:10,120 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:10,121 - fastapi_app - INFO - Database models initialized
2025-05-11 07:52:10,121 - fastapi_app - INFO - Database models initialized
2025-05-11 07:52:10,121 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:52:10,121 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:52:10,147 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:10,147 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:10,148 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:52:10,148 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:52:10,149 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('1a43cb190d8444a0a9ad0c8b402ba7dd', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:52:10.148844', '2025-05-11 07:52:10.148850')
2025-05-11 07:52:10,149 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('1a43cb190d8444a0a9ad0c8b402ba7dd', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:52:10.148844', '2025-05-11 07:52:10.148850')
2025-05-11 07:52:10,150 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:10,150 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:10,157 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:10,157 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:10,159 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:52:10,159 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:52:10,160 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('1a43cb190d8444a0a9ad0c8b402ba7dd',)
2025-05-11 07:52:10,160 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('1a43cb190d8444a0a9ad0c8b402ba7dd',)
2025-05-11 07:52:10,163 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:52:10,163 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:52:10,163 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('af43b988387843efb637151da1599642', '9A', 2024, '1a43cb190d8444a0a9ad0c8b402ba7dd', '2025-05-11 07:52:10.162978', '2025-05-11 07:52:10.162982')
2025-05-11 07:52:10,163 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('af43b988387843efb637151da1599642', '9A', 2024, '1a43cb190d8444a0a9ad0c8b402ba7dd', '2025-05-11 07:52:10.162978', '2025-05-11 07:52:10.162982')
2025-05-11 07:52:10,164 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:10,164 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:10,168 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:10,168 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:10,169 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:52:10,169 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:52:10,170 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('af43b988387843efb637151da1599642',)
2025-05-11 07:52:10,170 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('af43b988387843efb637151da1599642',)
2025-05-11 07:52:10,173 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:52:10,173 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:52:10,173 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s (insertmanyvalues) 1/1 (unordered)] ('6be394a933a444a78d27e1704e3143b7', 'Mathematics', '1a43cb190d8444a0a9ad0c8b402ba7dd', 'af43b988387843efb637151da1599642', '2025-05-11 07:52:10.173009', '2025-05-11 07:52:10.173016', '426778ef29ba42378f93f7d8424b6207', 'Physics', '1a43cb190d8444a0a9ad0c8b402ba7dd', 'af43b988387843efb637151da1599642', '2025-05-11 07:52:10.173023', '2025-05-11 07:52:10.173026', '6b79c249685b49e6b9226c075937103e', 'Chemistry', '1a43cb190d8444a0a9ad0c8b402ba7dd', 'af43b988387843efb637151da1599642', '2025-05-11 07:52:10.173032', '2025-05-11 07:52:10.173034', '00c7919f704e4c6db63bab3d653b7372', 'Biology', '1a43cb190d8444a0a9ad0c8b402ba7dd', 'af43b988387843efb637151da1599642', '2025-05-11 07:52:10.173041', '2025-05-11 07:52:10.173043', '98617c12d2f54ba8bdd38753b2726894', 'English', '1a43cb190d8444a0a9ad0c8b402ba7dd', 'af43b988387843efb637151da1599642', '2025-05-11 07:52:10.173049', '2025-05-11 07:52:10.173051')
2025-05-11 07:52:10,173 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s (insertmanyvalues) 1/1 (unordered)] ('6be394a933a444a78d27e1704e3143b7', 'Mathematics', '1a43cb190d8444a0a9ad0c8b402ba7dd', 'af43b988387843efb637151da1599642', '2025-05-11 07:52:10.173009', '2025-05-11 07:52:10.173016', '426778ef29ba42378f93f7d8424b6207', 'Physics', '1a43cb190d8444a0a9ad0c8b402ba7dd', 'af43b988387843efb637151da1599642', '2025-05-11 07:52:10.173023', '2025-05-11 07:52:10.173026', '6b79c249685b49e6b9226c075937103e', 'Chemistry', '1a43cb190d8444a0a9ad0c8b402ba7dd', 'af43b988387843efb637151da1599642', '2025-05-11 07:52:10.173032', '2025-05-11 07:52:10.173034', '00c7919f704e4c6db63bab3d653b7372', 'Biology', '1a43cb190d8444a0a9ad0c8b402ba7dd', 'af43b988387843efb637151da1599642', '2025-05-11 07:52:10.173041', '2025-05-11 07:52:10.173043', '98617c12d2f54ba8bdd38753b2726894', 'English', '1a43cb190d8444a0a9ad0c8b402ba7dd', 'af43b988387843efb637151da1599642', '2025-05-11 07:52:10.173049', '2025-05-11 07:52:10.173051')
2025-05-11 07:52:10,175 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:10,175 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:10,181 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:10,181 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:10,183 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:52:10,183 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:52:10,183 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('6be394a933a444a78d27e1704e3143b7',)
2025-05-11 07:52:10,183 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('6be394a933a444a78d27e1704e3143b7',)
2025-05-11 07:52:10,185 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:52:10,185 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:52:10,185 - sqlalchemy.engine.Engine - INFO - [cached since 0.002576s ago] ('426778ef29ba42378f93f7d8424b6207',)
2025-05-11 07:52:10,185 - sqlalchemy.engine.Engine - INFO - [cached since 0.002576s ago] ('426778ef29ba42378f93f7d8424b6207',)
2025-05-11 07:52:10,186 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:52:10,186 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:52:10,187 - sqlalchemy.engine.Engine - INFO - [cached since 0.003915s ago] ('6b79c249685b49e6b9226c075937103e',)
2025-05-11 07:52:10,187 - sqlalchemy.engine.Engine - INFO - [cached since 0.003915s ago] ('6b79c249685b49e6b9226c075937103e',)
2025-05-11 07:52:10,188 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:52:10,188 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:52:10,188 - sqlalchemy.engine.Engine - INFO - [cached since 0.00523s ago] ('00c7919f704e4c6db63bab3d653b7372',)
2025-05-11 07:52:10,188 - sqlalchemy.engine.Engine - INFO - [cached since 0.00523s ago] ('00c7919f704e4c6db63bab3d653b7372',)
2025-05-11 07:52:10,189 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:52:10,189 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:52:10,189 - sqlalchemy.engine.Engine - INFO - [cached since 0.006535s ago] ('98617c12d2f54ba8bdd38753b2726894',)
2025-05-11 07:52:10,189 - sqlalchemy.engine.Engine - INFO - [cached since 0.006535s ago] ('98617c12d2f54ba8bdd38753b2726894',)
2025-05-11 07:52:10,192 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:52:10,192 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:52:10,192 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s (insertmanyvalues) 1/1 (unordered)] ('c06f624749d842d6b08759a404489b0c', None, 'John Doe', 'homeroom_teacher', None, '1a43cb190d8444a0a9ad0c8b402ba7dd', '2025-05-11 07:52:10.192184', '2025-05-11 07:52:10.192189', 'f9ce46238fce433b9d914db37464c4bc', None, 'Jane Smith', 'subject_teacher', None, '1a43cb190d8444a0a9ad0c8b402ba7dd', '2025-05-11 07:52:10.192197', '2025-05-11 07:52:10.192199', 'a7213078a3d64decb4077757b0edac88', None, 'Bob Johnson', 'subject_teacher', None, '1a43cb190d8444a0a9ad0c8b402ba7dd', '2025-05-11 07:52:10.192206', '2025-05-11 07:52:10.192208')
2025-05-11 07:52:10,192 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s (insertmanyvalues) 1/1 (unordered)] ('c06f624749d842d6b08759a404489b0c', None, 'John Doe', 'homeroom_teacher', None, '1a43cb190d8444a0a9ad0c8b402ba7dd', '2025-05-11 07:52:10.192184', '2025-05-11 07:52:10.192189', 'f9ce46238fce433b9d914db37464c4bc', None, 'Jane Smith', 'subject_teacher', None, '1a43cb190d8444a0a9ad0c8b402ba7dd', '2025-05-11 07:52:10.192197', '2025-05-11 07:52:10.192199', 'a7213078a3d64decb4077757b0edac88', None, 'Bob Johnson', 'subject_teacher', None, '1a43cb190d8444a0a9ad0c8b402ba7dd', '2025-05-11 07:52:10.192206', '2025-05-11 07:52:10.192208')
2025-05-11 07:52:10,193 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:52:10,193 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:52:10,194 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] [('c06f624749d842d6b08759a404489b0c', '426778ef29ba42378f93f7d8424b6207'), ('f9ce46238fce433b9d914db37464c4bc', '6b79c249685b49e6b9226c075937103e'), ('f9ce46238fce433b9d914db37464c4bc', '00c7919f704e4c6db63bab3d653b7372'), ('c06f624749d842d6b08759a404489b0c', '6be394a933a444a78d27e1704e3143b7'), ('a7213078a3d64decb4077757b0edac88', '98617c12d2f54ba8bdd38753b2726894')]
2025-05-11 07:52:10,194 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] [('c06f624749d842d6b08759a404489b0c', '426778ef29ba42378f93f7d8424b6207'), ('f9ce46238fce433b9d914db37464c4bc', '6b79c249685b49e6b9226c075937103e'), ('f9ce46238fce433b9d914db37464c4bc', '00c7919f704e4c6db63bab3d653b7372'), ('c06f624749d842d6b08759a404489b0c', '6be394a933a444a78d27e1704e3143b7'), ('a7213078a3d64decb4077757b0edac88', '98617c12d2f54ba8bdd38753b2726894')]
2025-05-11 07:52:10,195 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:10,195 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:10,200 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:10,200 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:10,201 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:52:10,201 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:52:10,201 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('c06f624749d842d6b08759a404489b0c',)
2025-05-11 07:52:10,201 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('c06f624749d842d6b08759a404489b0c',)
2025-05-11 07:52:10,202 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:52:10,202 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:52:10,202 - sqlalchemy.engine.Engine - INFO - [cached since 0.001657s ago] ('f9ce46238fce433b9d914db37464c4bc',)
2025-05-11 07:52:10,202 - sqlalchemy.engine.Engine - INFO - [cached since 0.001657s ago] ('f9ce46238fce433b9d914db37464c4bc',)
2025-05-11 07:52:10,204 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:52:10,204 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:52:10,204 - sqlalchemy.engine.Engine - INFO - [cached since 0.003195s ago] ('a7213078a3d64decb4077757b0edac88',)
2025-05-11 07:52:10,204 - sqlalchemy.engine.Engine - INFO - [cached since 0.003195s ago] ('a7213078a3d64decb4077757b0edac88',)
2025-05-11 07:52:10,206 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:52:10,206 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:52:10,206 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('af43b988387843efb637151da1599642', '2025-05-11 07:52:10.206322', 'c06f624749d842d6b08759a404489b0c')
2025-05-11 07:52:10,206 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('af43b988387843efb637151da1599642', '2025-05-11 07:52:10.206322', 'c06f624749d842d6b08759a404489b0c')
2025-05-11 07:52:10,207 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:10,207 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:10,211 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:10,211 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:10,211 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:52:10,211 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:52:10,211 - sqlalchemy.engine.Engine - INFO - [cached since 0.01078s ago] ('c06f624749d842d6b08759a404489b0c',)
2025-05-11 07:52:10,211 - sqlalchemy.engine.Engine - INFO - [cached since 0.01078s ago] ('c06f624749d842d6b08759a404489b0c',)
2025-05-11 07:52:10,212 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:52:10,212 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:52:10,212 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:52:10,212 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:52:41,745 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:41,745 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:41,745 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:52:41,745 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:52:41,745 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:41,745 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:41,747 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:52:41,747 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:52:41,747 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:41,747 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:41,748 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:52:41,748 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:52:41,748 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:41,748 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:41,748 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:52:41,748 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:52:41,749 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:41,749 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:41,750 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:52:41,750 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:52:41,750 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:41,750 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:41,751 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:52:41,751 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:52:41,751 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:41,751 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:41,751 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:52:41,751 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:52:41,752 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:41,752 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:41,752 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:52:41,752 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:52:41,752 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:41,752 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:41,753 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:52:41,753 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:52:41,753 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:41,753 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:52:41,754 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:41,754 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:41,754 - fastapi_app - INFO - Database models initialized
2025-05-11 07:52:41,754 - fastapi_app - INFO - Database models initialized
2025-05-11 07:52:41,755 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:52:41,755 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:52:41,779 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:41,779 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:41,780 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:52:41,780 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:52:41,781 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('f5b2a4b3e21d480a80904b9708e6f849', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:52:41.780722', '2025-05-11 07:52:41.780727')
2025-05-11 07:52:41,781 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('f5b2a4b3e21d480a80904b9708e6f849', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:52:41.780722', '2025-05-11 07:52:41.780727')
2025-05-11 07:52:41,782 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:41,782 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:41,788 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:41,788 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:41,791 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:52:41,791 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:52:41,791 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('f5b2a4b3e21d480a80904b9708e6f849',)
2025-05-11 07:52:41,791 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('f5b2a4b3e21d480a80904b9708e6f849',)
2025-05-11 07:52:41,793 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:52:41,793 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:52:41,794 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('1e27cc71036f46a09cbf80e9740f5c68', '9A', 2024, 'f5b2a4b3e21d480a80904b9708e6f849', '2025-05-11 07:52:41.793719', '2025-05-11 07:52:41.793723')
2025-05-11 07:52:41,794 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('1e27cc71036f46a09cbf80e9740f5c68', '9A', 2024, 'f5b2a4b3e21d480a80904b9708e6f849', '2025-05-11 07:52:41.793719', '2025-05-11 07:52:41.793723')
2025-05-11 07:52:41,795 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:41,795 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:41,800 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:41,800 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:41,801 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:52:41,801 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:52:41,801 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('1e27cc71036f46a09cbf80e9740f5c68',)
2025-05-11 07:52:41,801 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('1e27cc71036f46a09cbf80e9740f5c68',)
2025-05-11 07:52:41,804 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:52:41,804 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:52:41,804 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s (insertmanyvalues) 1/1 (unordered)] ('90d71f7a7d4944a6beac2077eb08dbaa', 'Mathematics', 'f5b2a4b3e21d480a80904b9708e6f849', '1e27cc71036f46a09cbf80e9740f5c68', '2025-05-11 07:52:41.803925', '2025-05-11 07:52:41.803930', '44528ab5ee484159acd2c124bc3641e7', 'Physics', 'f5b2a4b3e21d480a80904b9708e6f849', '1e27cc71036f46a09cbf80e9740f5c68', '2025-05-11 07:52:41.803937', '2025-05-11 07:52:41.803939', '017ff43a9d12437794fa779dc97878b7', 'Chemistry', 'f5b2a4b3e21d480a80904b9708e6f849', '1e27cc71036f46a09cbf80e9740f5c68', '2025-05-11 07:52:41.803945', '2025-05-11 07:52:41.803948', 'f5e1118c93854a68967a04be67ee9414', 'Biology', 'f5b2a4b3e21d480a80904b9708e6f849', '1e27cc71036f46a09cbf80e9740f5c68', '2025-05-11 07:52:41.803954', '2025-05-11 07:52:41.803956', '04848c8adec64602a7fee50c4a5e9a9a', 'English', 'f5b2a4b3e21d480a80904b9708e6f849', '1e27cc71036f46a09cbf80e9740f5c68', '2025-05-11 07:52:41.803962', '2025-05-11 07:52:41.803964')
2025-05-11 07:52:41,804 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s (insertmanyvalues) 1/1 (unordered)] ('90d71f7a7d4944a6beac2077eb08dbaa', 'Mathematics', 'f5b2a4b3e21d480a80904b9708e6f849', '1e27cc71036f46a09cbf80e9740f5c68', '2025-05-11 07:52:41.803925', '2025-05-11 07:52:41.803930', '44528ab5ee484159acd2c124bc3641e7', 'Physics', 'f5b2a4b3e21d480a80904b9708e6f849', '1e27cc71036f46a09cbf80e9740f5c68', '2025-05-11 07:52:41.803937', '2025-05-11 07:52:41.803939', '017ff43a9d12437794fa779dc97878b7', 'Chemistry', 'f5b2a4b3e21d480a80904b9708e6f849', '1e27cc71036f46a09cbf80e9740f5c68', '2025-05-11 07:52:41.803945', '2025-05-11 07:52:41.803948', 'f5e1118c93854a68967a04be67ee9414', 'Biology', 'f5b2a4b3e21d480a80904b9708e6f849', '1e27cc71036f46a09cbf80e9740f5c68', '2025-05-11 07:52:41.803954', '2025-05-11 07:52:41.803956', '04848c8adec64602a7fee50c4a5e9a9a', 'English', 'f5b2a4b3e21d480a80904b9708e6f849', '1e27cc71036f46a09cbf80e9740f5c68', '2025-05-11 07:52:41.803962', '2025-05-11 07:52:41.803964')
2025-05-11 07:52:41,805 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:41,805 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:41,809 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:41,809 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:41,810 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:52:41,810 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:52:41,810 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('90d71f7a7d4944a6beac2077eb08dbaa',)
2025-05-11 07:52:41,810 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('90d71f7a7d4944a6beac2077eb08dbaa',)
2025-05-11 07:52:41,811 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:52:41,811 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:52:41,812 - sqlalchemy.engine.Engine - INFO - [cached since 0.001557s ago] ('44528ab5ee484159acd2c124bc3641e7',)
2025-05-11 07:52:41,812 - sqlalchemy.engine.Engine - INFO - [cached since 0.001557s ago] ('44528ab5ee484159acd2c124bc3641e7',)
2025-05-11 07:52:41,813 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:52:41,813 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:52:41,813 - sqlalchemy.engine.Engine - INFO - [cached since 0.00274s ago] ('017ff43a9d12437794fa779dc97878b7',)
2025-05-11 07:52:41,813 - sqlalchemy.engine.Engine - INFO - [cached since 0.00274s ago] ('017ff43a9d12437794fa779dc97878b7',)
2025-05-11 07:52:41,814 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:52:41,814 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:52:41,814 - sqlalchemy.engine.Engine - INFO - [cached since 0.003984s ago] ('f5e1118c93854a68967a04be67ee9414',)
2025-05-11 07:52:41,814 - sqlalchemy.engine.Engine - INFO - [cached since 0.003984s ago] ('f5e1118c93854a68967a04be67ee9414',)
2025-05-11 07:52:41,815 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:52:41,815 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:52:41,815 - sqlalchemy.engine.Engine - INFO - [cached since 0.005254s ago] ('04848c8adec64602a7fee50c4a5e9a9a',)
2025-05-11 07:52:41,815 - sqlalchemy.engine.Engine - INFO - [cached since 0.005254s ago] ('04848c8adec64602a7fee50c4a5e9a9a',)
2025-05-11 07:52:41,818 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:52:41,818 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:52:41,818 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/1 (unordered)] ('1050bbab5f74413cb1e87466e901ad28', None, 'John Doe', 'homeroom_teacher', None, 'f5b2a4b3e21d480a80904b9708e6f849', '2025-05-11 07:52:41.818392', '2025-05-11 07:52:41.818397', '1a72216224cb44f4949df399b462231a', None, 'Jane Smith', 'subject_teacher', None, 'f5b2a4b3e21d480a80904b9708e6f849', '2025-05-11 07:52:41.818403', '2025-05-11 07:52:41.818406', '5acd48ee5bd24acb856079947ad0270f', None, 'Bob Johnson', 'subject_teacher', None, 'f5b2a4b3e21d480a80904b9708e6f849', '2025-05-11 07:52:41.818412', '2025-05-11 07:52:41.818413')
2025-05-11 07:52:41,818 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/1 (unordered)] ('1050bbab5f74413cb1e87466e901ad28', None, 'John Doe', 'homeroom_teacher', None, 'f5b2a4b3e21d480a80904b9708e6f849', '2025-05-11 07:52:41.818392', '2025-05-11 07:52:41.818397', '1a72216224cb44f4949df399b462231a', None, 'Jane Smith', 'subject_teacher', None, 'f5b2a4b3e21d480a80904b9708e6f849', '2025-05-11 07:52:41.818403', '2025-05-11 07:52:41.818406', '5acd48ee5bd24acb856079947ad0270f', None, 'Bob Johnson', 'subject_teacher', None, 'f5b2a4b3e21d480a80904b9708e6f849', '2025-05-11 07:52:41.818412', '2025-05-11 07:52:41.818413')
2025-05-11 07:52:41,820 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:52:41,820 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:52:41,820 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] [('1050bbab5f74413cb1e87466e901ad28', '44528ab5ee484159acd2c124bc3641e7'), ('1a72216224cb44f4949df399b462231a', '017ff43a9d12437794fa779dc97878b7'), ('1a72216224cb44f4949df399b462231a', 'f5e1118c93854a68967a04be67ee9414'), ('1050bbab5f74413cb1e87466e901ad28', '90d71f7a7d4944a6beac2077eb08dbaa'), ('5acd48ee5bd24acb856079947ad0270f', '04848c8adec64602a7fee50c4a5e9a9a')]
2025-05-11 07:52:41,820 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] [('1050bbab5f74413cb1e87466e901ad28', '44528ab5ee484159acd2c124bc3641e7'), ('1a72216224cb44f4949df399b462231a', '017ff43a9d12437794fa779dc97878b7'), ('1a72216224cb44f4949df399b462231a', 'f5e1118c93854a68967a04be67ee9414'), ('1050bbab5f74413cb1e87466e901ad28', '90d71f7a7d4944a6beac2077eb08dbaa'), ('5acd48ee5bd24acb856079947ad0270f', '04848c8adec64602a7fee50c4a5e9a9a')]
2025-05-11 07:52:41,821 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:41,821 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:41,825 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:41,825 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:41,826 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:52:41,826 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:52:41,827 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('1050bbab5f74413cb1e87466e901ad28',)
2025-05-11 07:52:41,827 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('1050bbab5f74413cb1e87466e901ad28',)
2025-05-11 07:52:41,828 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:52:41,828 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:52:41,828 - sqlalchemy.engine.Engine - INFO - [cached since 0.001874s ago] ('1a72216224cb44f4949df399b462231a',)
2025-05-11 07:52:41,828 - sqlalchemy.engine.Engine - INFO - [cached since 0.001874s ago] ('1a72216224cb44f4949df399b462231a',)
2025-05-11 07:52:41,829 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:52:41,829 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:52:41,830 - sqlalchemy.engine.Engine - INFO - [cached since 0.003531s ago] ('5acd48ee5bd24acb856079947ad0270f',)
2025-05-11 07:52:41,830 - sqlalchemy.engine.Engine - INFO - [cached since 0.003531s ago] ('5acd48ee5bd24acb856079947ad0270f',)
2025-05-11 07:52:41,832 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:52:41,832 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:52:41,833 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('1e27cc71036f46a09cbf80e9740f5c68', '2025-05-11 07:52:41.832885', '1050bbab5f74413cb1e87466e901ad28')
2025-05-11 07:52:41,833 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('1e27cc71036f46a09cbf80e9740f5c68', '2025-05-11 07:52:41.832885', '1050bbab5f74413cb1e87466e901ad28')
2025-05-11 07:52:41,834 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:41,834 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:52:41,838 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:41,838 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:52:41,838 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:52:41,838 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:52:41,838 - sqlalchemy.engine.Engine - INFO - [cached since 0.0118s ago] ('1050bbab5f74413cb1e87466e901ad28',)
2025-05-11 07:52:41,838 - sqlalchemy.engine.Engine - INFO - [cached since 0.0118s ago] ('1050bbab5f74413cb1e87466e901ad28',)
2025-05-11 07:52:41,839 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:52:41,839 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:52:41,839 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:52:41,839 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:53:45,465 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:53:45,465 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:53:45,465 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:53:45,465 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:53:45,466 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,466 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,467 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("teacher_subject")
2025-05-11 07:53:45,467 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("teacher_subject")
2025-05-11 07:53:45,467 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,467 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,468 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:53:45,468 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:53:45,468 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,468 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,469 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("parent_child")
2025-05-11 07:53:45,469 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("parent_child")
2025-05-11 07:53:45,469 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,469 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,470 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:53:45,470 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:53:45,470 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,470 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,471 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_class")
2025-05-11 07:53:45,471 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user_class")
2025-05-11 07:53:45,471 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,471 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,472 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:53:45,472 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:53:45,472 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,472 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,472 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user")
2025-05-11 07:53:45,472 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("user")
2025-05-11 07:53:45,473 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,473 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,473 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:53:45,473 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:53:45,473 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,473 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,474 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("school")
2025-05-11 07:53:45,474 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("school")
2025-05-11 07:53:45,474 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,474 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,475 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:53:45,475 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:53:45,475 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,475 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,475 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("subject")
2025-05-11 07:53:45,475 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("subject")
2025-05-11 07:53:45,475 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,475 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,476 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:53:45,476 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:53:45,476 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,476 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,477 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("class")
2025-05-11 07:53:45,477 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("class")
2025-05-11 07:53:45,477 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,477 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,478 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:53:45,478 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:53:45,478 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,478 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,479 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("grade")
2025-05-11 07:53:45,479 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("grade")
2025-05-11 07:53:45,479 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,479 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,479 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:53:45,479 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:53:45,479 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,479 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,480 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("attendance")
2025-05-11 07:53:45,480 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("attendance")
2025-05-11 07:53:45,480 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,480 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:53:45,481 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE school (
	uuid UUID NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	address VARCHAR(200) NOT NULL, 
	phone VARCHAR(20) NOT NULL, 
	email VARCHAR(100) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid)
)


2025-05-11 07:53:45,481 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE school (
	uuid UUID NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	address VARCHAR(200) NOT NULL, 
	phone VARCHAR(20) NOT NULL, 
	email VARCHAR(100) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid)
)


2025-05-11 07:53:45,482 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ()
2025-05-11 07:53:45,482 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ()
2025-05-11 07:53:45,489 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE class (
	uuid UUID NOT NULL, 
	name VARCHAR(50) NOT NULL, 
	start_year INTEGER NOT NULL, 
	school_uuid UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid)
)


2025-05-11 07:53:45,489 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE class (
	uuid UUID NOT NULL, 
	name VARCHAR(50) NOT NULL, 
	start_year INTEGER NOT NULL, 
	school_uuid UUID NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid)
)


2025-05-11 07:53:45,489 - sqlalchemy.engine.Engine - INFO - [no key 0.00026s] ()
2025-05-11 07:53:45,489 - sqlalchemy.engine.Engine - INFO - [no key 0.00026s] ()
2025-05-11 07:53:45,495 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user (
	uuid UUID NOT NULL, 
	chat_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	role VARCHAR(16) NOT NULL, 
	managed_class_uuid UUID, 
	school_uuid UUID, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	UNIQUE (chat_id), 
	FOREIGN KEY(managed_class_uuid) REFERENCES class (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid)
)


2025-05-11 07:53:45,495 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user (
	uuid UUID NOT NULL, 
	chat_id INTEGER, 
	name VARCHAR(100) NOT NULL, 
	role VARCHAR(16) NOT NULL, 
	managed_class_uuid UUID, 
	school_uuid UUID, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	UNIQUE (chat_id), 
	FOREIGN KEY(managed_class_uuid) REFERENCES class (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid)
)


2025-05-11 07:53:45,495 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ()
2025-05-11 07:53:45,495 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ()
2025-05-11 07:53:45,500 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE subject (
	uuid UUID NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	school_uuid UUID NOT NULL, 
	class_uuid UUID, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid), 
	FOREIGN KEY(class_uuid) REFERENCES class (uuid)
)


2025-05-11 07:53:45,500 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE subject (
	uuid UUID NOT NULL, 
	name VARCHAR(100) NOT NULL, 
	school_uuid UUID NOT NULL, 
	class_uuid UUID, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(school_uuid) REFERENCES school (uuid), 
	FOREIGN KEY(class_uuid) REFERENCES class (uuid)
)


2025-05-11 07:53:45,500 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ()
2025-05-11 07:53:45,500 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ()
2025-05-11 07:53:45,505 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE teacher_subject (
	teacher_uuid UUID NOT NULL, 
	subject_uuid UUID NOT NULL, 
	PRIMARY KEY (teacher_uuid, subject_uuid), 
	FOREIGN KEY(teacher_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(subject_uuid) REFERENCES subject (uuid)
)


2025-05-11 07:53:45,505 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE teacher_subject (
	teacher_uuid UUID NOT NULL, 
	subject_uuid UUID NOT NULL, 
	PRIMARY KEY (teacher_uuid, subject_uuid), 
	FOREIGN KEY(teacher_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(subject_uuid) REFERENCES subject (uuid)
)


2025-05-11 07:53:45,506 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ()
2025-05-11 07:53:45,506 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ()
2025-05-11 07:53:45,511 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE parent_child (
	parent_uuid UUID NOT NULL, 
	child_uuid UUID NOT NULL, 
	PRIMARY KEY (parent_uuid, child_uuid), 
	FOREIGN KEY(parent_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(child_uuid) REFERENCES user (uuid)
)


2025-05-11 07:53:45,511 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE parent_child (
	parent_uuid UUID NOT NULL, 
	child_uuid UUID NOT NULL, 
	PRIMARY KEY (parent_uuid, child_uuid), 
	FOREIGN KEY(parent_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(child_uuid) REFERENCES user (uuid)
)


2025-05-11 07:53:45,511 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ()
2025-05-11 07:53:45,511 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ()
2025-05-11 07:53:45,517 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_class (
	user_uuid UUID NOT NULL, 
	class_uuid UUID NOT NULL, 
	PRIMARY KEY (user_uuid, class_uuid), 
	FOREIGN KEY(user_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(class_uuid) REFERENCES class (uuid)
)


2025-05-11 07:53:45,517 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_class (
	user_uuid UUID NOT NULL, 
	class_uuid UUID NOT NULL, 
	PRIMARY KEY (user_uuid, class_uuid), 
	FOREIGN KEY(user_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(class_uuid) REFERENCES class (uuid)
)


2025-05-11 07:53:45,517 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ()
2025-05-11 07:53:45,517 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ()
2025-05-11 07:53:45,522 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE grade (
	uuid UUID NOT NULL, 
	user_uuid UUID NOT NULL, 
	subject_uuid UUID NOT NULL, 
	value FLOAT NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(user_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(subject_uuid) REFERENCES subject (uuid)
)


2025-05-11 07:53:45,522 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE grade (
	uuid UUID NOT NULL, 
	user_uuid UUID NOT NULL, 
	subject_uuid UUID NOT NULL, 
	value FLOAT NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(user_uuid) REFERENCES user (uuid), 
	FOREIGN KEY(subject_uuid) REFERENCES subject (uuid)
)


2025-05-11 07:53:45,522 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ()
2025-05-11 07:53:45,522 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ()
2025-05-11 07:53:45,527 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE attendance (
	uuid UUID NOT NULL, 
	user_uuid UUID NOT NULL, 
	date DATETIME NOT NULL, 
	status VARCHAR(7) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(user_uuid) REFERENCES user (uuid)
)


2025-05-11 07:53:45,527 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE attendance (
	uuid UUID NOT NULL, 
	user_uuid UUID NOT NULL, 
	date DATETIME NOT NULL, 
	status VARCHAR(7) NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (uuid), 
	FOREIGN KEY(user_uuid) REFERENCES user (uuid)
)


2025-05-11 07:53:45,528 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ()
2025-05-11 07:53:45,528 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ()
2025-05-11 07:53:45,532 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:53:45,532 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:53:45,533 - fastapi_app - INFO - Database models initialized
2025-05-11 07:53:45,533 - fastapi_app - INFO - Database models initialized
2025-05-11 07:53:45,534 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:53:45,534 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:53:45,563 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:53:45,563 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:53:45,565 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:53:45,565 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:53:45,565 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ('51b357b363f645f4a3c3e1f293f6648f', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:53:45.565379', '2025-05-11 07:53:45.565385')
2025-05-11 07:53:45,565 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ('51b357b363f645f4a3c3e1f293f6648f', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:53:45.565379', '2025-05-11 07:53:45.565385')
2025-05-11 07:53:45,567 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:53:45,567 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:53:45,571 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:53:45,571 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:53:45,573 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:53:45,573 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:53:45,573 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('51b357b363f645f4a3c3e1f293f6648f',)
2025-05-11 07:53:45,573 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('51b357b363f645f4a3c3e1f293f6648f',)
2025-05-11 07:53:45,576 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:53:45,576 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:53:45,576 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('5be83cb7bb644cc9a7e9beffdeeb1f14', '9A', 2024, '51b357b363f645f4a3c3e1f293f6648f', '2025-05-11 07:53:45.576336', '2025-05-11 07:53:45.576342')
2025-05-11 07:53:45,576 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('5be83cb7bb644cc9a7e9beffdeeb1f14', '9A', 2024, '51b357b363f645f4a3c3e1f293f6648f', '2025-05-11 07:53:45.576336', '2025-05-11 07:53:45.576342')
2025-05-11 07:53:45,577 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:53:45,577 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:53:45,581 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:53:45,581 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:53:45,583 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:53:45,583 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:53:45,583 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('5be83cb7bb644cc9a7e9beffdeeb1f14',)
2025-05-11 07:53:45,583 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('5be83cb7bb644cc9a7e9beffdeeb1f14',)
2025-05-11 07:53:45,586 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:53:45,586 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:53:45,586 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s (insertmanyvalues) 1/1 (unordered)] ('67a4424e2ff44e3986a234dedcaf6c11', 'Mathematics', '51b357b363f645f4a3c3e1f293f6648f', '5be83cb7bb644cc9a7e9beffdeeb1f14', '2025-05-11 07:53:45.586081', '2025-05-11 07:53:45.586086', '65307ae8a3fa47519a20de9da29dbcc0', 'Physics', '51b357b363f645f4a3c3e1f293f6648f', '5be83cb7bb644cc9a7e9beffdeeb1f14', '2025-05-11 07:53:45.586094', '2025-05-11 07:53:45.586097', 'f012e11147ae4c7e97eaad242615dea1', 'Chemistry', '51b357b363f645f4a3c3e1f293f6648f', '5be83cb7bb644cc9a7e9beffdeeb1f14', '2025-05-11 07:53:45.586105', '2025-05-11 07:53:45.586108', '98d16745b84646bb87637be98f82bced', 'Biology', '51b357b363f645f4a3c3e1f293f6648f', '5be83cb7bb644cc9a7e9beffdeeb1f14', '2025-05-11 07:53:45.586115', '2025-05-11 07:53:45.586117', 'f4eaac64c2614a8ca7ea90713591266d', 'English', '51b357b363f645f4a3c3e1f293f6648f', '5be83cb7bb644cc9a7e9beffdeeb1f14', '2025-05-11 07:53:45.586124', '2025-05-11 07:53:45.586127')
2025-05-11 07:53:45,586 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s (insertmanyvalues) 1/1 (unordered)] ('67a4424e2ff44e3986a234dedcaf6c11', 'Mathematics', '51b357b363f645f4a3c3e1f293f6648f', '5be83cb7bb644cc9a7e9beffdeeb1f14', '2025-05-11 07:53:45.586081', '2025-05-11 07:53:45.586086', '65307ae8a3fa47519a20de9da29dbcc0', 'Physics', '51b357b363f645f4a3c3e1f293f6648f', '5be83cb7bb644cc9a7e9beffdeeb1f14', '2025-05-11 07:53:45.586094', '2025-05-11 07:53:45.586097', 'f012e11147ae4c7e97eaad242615dea1', 'Chemistry', '51b357b363f645f4a3c3e1f293f6648f', '5be83cb7bb644cc9a7e9beffdeeb1f14', '2025-05-11 07:53:45.586105', '2025-05-11 07:53:45.586108', '98d16745b84646bb87637be98f82bced', 'Biology', '51b357b363f645f4a3c3e1f293f6648f', '5be83cb7bb644cc9a7e9beffdeeb1f14', '2025-05-11 07:53:45.586115', '2025-05-11 07:53:45.586117', 'f4eaac64c2614a8ca7ea90713591266d', 'English', '51b357b363f645f4a3c3e1f293f6648f', '5be83cb7bb644cc9a7e9beffdeeb1f14', '2025-05-11 07:53:45.586124', '2025-05-11 07:53:45.586127')
2025-05-11 07:53:45,588 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:53:45,588 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:53:45,592 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:53:45,592 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:53:45,593 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:53:45,593 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:53:45,593 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('67a4424e2ff44e3986a234dedcaf6c11',)
2025-05-11 07:53:45,593 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('67a4424e2ff44e3986a234dedcaf6c11',)
2025-05-11 07:53:45,595 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:53:45,595 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:53:45,596 - sqlalchemy.engine.Engine - INFO - [cached since 0.00245s ago] ('65307ae8a3fa47519a20de9da29dbcc0',)
2025-05-11 07:53:45,596 - sqlalchemy.engine.Engine - INFO - [cached since 0.00245s ago] ('65307ae8a3fa47519a20de9da29dbcc0',)
2025-05-11 07:53:45,597 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:53:45,597 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:53:45,598 - sqlalchemy.engine.Engine - INFO - [cached since 0.004363s ago] ('f012e11147ae4c7e97eaad242615dea1',)
2025-05-11 07:53:45,598 - sqlalchemy.engine.Engine - INFO - [cached since 0.004363s ago] ('f012e11147ae4c7e97eaad242615dea1',)
2025-05-11 07:53:45,599 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:53:45,599 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:53:45,599 - sqlalchemy.engine.Engine - INFO - [cached since 0.005632s ago] ('98d16745b84646bb87637be98f82bced',)
2025-05-11 07:53:45,599 - sqlalchemy.engine.Engine - INFO - [cached since 0.005632s ago] ('98d16745b84646bb87637be98f82bced',)
2025-05-11 07:53:45,600 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:53:45,600 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:53:45,600 - sqlalchemy.engine.Engine - INFO - [cached since 0.0069s ago] ('f4eaac64c2614a8ca7ea90713591266d',)
2025-05-11 07:53:45,600 - sqlalchemy.engine.Engine - INFO - [cached since 0.0069s ago] ('f4eaac64c2614a8ca7ea90713591266d',)
2025-05-11 07:53:45,603 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:53:45,603 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:53:45,603 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s (insertmanyvalues) 1/1 (unordered)] ('7e30dff9f63a450f92c34ce3a1a6476e', None, 'John Doe', 'homeroom_teacher', None, '51b357b363f645f4a3c3e1f293f6648f', '2025-05-11 07:53:45.603187', '2025-05-11 07:53:45.603193', '1d19bccc7a38463d9deb2c4cbc8fe18b', None, 'Jane Smith', 'subject_teacher', None, '51b357b363f645f4a3c3e1f293f6648f', '2025-05-11 07:53:45.603200', '2025-05-11 07:53:45.603202', '643e11c1301b45e2ba99dcf47c8ca3c6', None, 'Bob Johnson', 'subject_teacher', None, '51b357b363f645f4a3c3e1f293f6648f', '2025-05-11 07:53:45.603208', '2025-05-11 07:53:45.603211')
2025-05-11 07:53:45,603 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s (insertmanyvalues) 1/1 (unordered)] ('7e30dff9f63a450f92c34ce3a1a6476e', None, 'John Doe', 'homeroom_teacher', None, '51b357b363f645f4a3c3e1f293f6648f', '2025-05-11 07:53:45.603187', '2025-05-11 07:53:45.603193', '1d19bccc7a38463d9deb2c4cbc8fe18b', None, 'Jane Smith', 'subject_teacher', None, '51b357b363f645f4a3c3e1f293f6648f', '2025-05-11 07:53:45.603200', '2025-05-11 07:53:45.603202', '643e11c1301b45e2ba99dcf47c8ca3c6', None, 'Bob Johnson', 'subject_teacher', None, '51b357b363f645f4a3c3e1f293f6648f', '2025-05-11 07:53:45.603208', '2025-05-11 07:53:45.603211')
2025-05-11 07:53:45,605 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:53:45,605 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:53:45,605 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] [('1d19bccc7a38463d9deb2c4cbc8fe18b', '98d16745b84646bb87637be98f82bced'), ('7e30dff9f63a450f92c34ce3a1a6476e', '67a4424e2ff44e3986a234dedcaf6c11'), ('643e11c1301b45e2ba99dcf47c8ca3c6', 'f4eaac64c2614a8ca7ea90713591266d'), ('7e30dff9f63a450f92c34ce3a1a6476e', '65307ae8a3fa47519a20de9da29dbcc0'), ('1d19bccc7a38463d9deb2c4cbc8fe18b', 'f012e11147ae4c7e97eaad242615dea1')]
2025-05-11 07:53:45,605 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] [('1d19bccc7a38463d9deb2c4cbc8fe18b', '98d16745b84646bb87637be98f82bced'), ('7e30dff9f63a450f92c34ce3a1a6476e', '67a4424e2ff44e3986a234dedcaf6c11'), ('643e11c1301b45e2ba99dcf47c8ca3c6', 'f4eaac64c2614a8ca7ea90713591266d'), ('7e30dff9f63a450f92c34ce3a1a6476e', '65307ae8a3fa47519a20de9da29dbcc0'), ('1d19bccc7a38463d9deb2c4cbc8fe18b', 'f012e11147ae4c7e97eaad242615dea1')]
2025-05-11 07:53:45,606 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:53:45,606 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:53:45,610 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:53:45,610 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:53:45,611 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:53:45,611 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:53:45,611 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('7e30dff9f63a450f92c34ce3a1a6476e',)
2025-05-11 07:53:45,611 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('7e30dff9f63a450f92c34ce3a1a6476e',)
2025-05-11 07:53:45,612 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:53:45,612 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:53:45,612 - sqlalchemy.engine.Engine - INFO - [cached since 0.001627s ago] ('1d19bccc7a38463d9deb2c4cbc8fe18b',)
2025-05-11 07:53:45,612 - sqlalchemy.engine.Engine - INFO - [cached since 0.001627s ago] ('1d19bccc7a38463d9deb2c4cbc8fe18b',)
2025-05-11 07:53:45,613 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:53:45,613 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:53:45,613 - sqlalchemy.engine.Engine - INFO - [cached since 0.002752s ago] ('643e11c1301b45e2ba99dcf47c8ca3c6',)
2025-05-11 07:53:45,613 - sqlalchemy.engine.Engine - INFO - [cached since 0.002752s ago] ('643e11c1301b45e2ba99dcf47c8ca3c6',)
2025-05-11 07:53:45,615 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:53:45,615 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:53:45,616 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('5be83cb7bb644cc9a7e9beffdeeb1f14', '2025-05-11 07:53:45.615836', '7e30dff9f63a450f92c34ce3a1a6476e')
2025-05-11 07:53:45,616 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('5be83cb7bb644cc9a7e9beffdeeb1f14', '2025-05-11 07:53:45.615836', '7e30dff9f63a450f92c34ce3a1a6476e')
2025-05-11 07:53:45,617 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:53:45,617 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:53:45,620 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:53:45,620 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:53:45,621 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:53:45,621 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:53:45,621 - sqlalchemy.engine.Engine - INFO - [cached since 0.01009s ago] ('7e30dff9f63a450f92c34ce3a1a6476e',)
2025-05-11 07:53:45,621 - sqlalchemy.engine.Engine - INFO - [cached since 0.01009s ago] ('7e30dff9f63a450f92c34ce3a1a6476e',)
2025-05-11 07:53:45,622 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:53:45,622 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:53:45,622 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:53:45,622 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:53:45,719 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:53:45,719 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:55:14,167 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:55:14,167 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:55:14,167 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:55:14,167 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 07:55:14,168 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:55:14,168 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:55:14,169 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:55:14,169 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 07:55:14,169 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:55:14,169 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:55:14,170 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:55:14,170 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 07:55:14,170 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:55:14,170 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:55:14,171 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:55:14,171 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 07:55:14,171 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:55:14,171 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:55:14,172 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:55:14,172 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 07:55:14,172 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:55:14,172 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:55:14,173 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:55:14,173 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 07:55:14,173 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:55:14,173 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:55:14,173 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:55:14,173 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 07:55:14,174 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:55:14,174 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:55:14,174 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:55:14,174 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 07:55:14,174 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:55:14,174 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:55:14,175 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:55:14,175 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 07:55:14,175 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:55:14,175 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 07:55:14,176 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:55:14,176 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:55:14,177 - fastapi_app - INFO - Database models initialized
2025-05-11 07:55:14,177 - fastapi_app - INFO - Database models initialized
2025-05-11 07:55:14,177 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:55:14,177 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 07:55:14,204 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:55:14,204 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:55:14,206 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:55:14,206 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:55:14,206 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('16537dd103c74fbd90588d2b178f52cf', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:55:14.205981', '2025-05-11 07:55:14.205988')
2025-05-11 07:55:14,206 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('16537dd103c74fbd90588d2b178f52cf', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 07:55:14.205981', '2025-05-11 07:55:14.205988')
2025-05-11 07:55:14,208 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:55:14,208 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:55:14,214 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:55:14,214 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:55:14,216 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:55:14,216 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 07:55:14,217 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('16537dd103c74fbd90588d2b178f52cf',)
2025-05-11 07:55:14,217 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('16537dd103c74fbd90588d2b178f52cf',)
2025-05-11 07:55:14,219 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:55:14,219 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 07:55:14,219 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('3205df93bd474053b846815078ea82e2', '9A', 2024, '16537dd103c74fbd90588d2b178f52cf', '2025-05-11 07:55:14.219134', '2025-05-11 07:55:14.219140')
2025-05-11 07:55:14,219 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('3205df93bd474053b846815078ea82e2', '9A', 2024, '16537dd103c74fbd90588d2b178f52cf', '2025-05-11 07:55:14.219134', '2025-05-11 07:55:14.219140')
2025-05-11 07:55:14,220 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:55:14,220 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:55:14,224 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:55:14,224 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:55:14,225 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:55:14,225 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 07:55:14,226 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('3205df93bd474053b846815078ea82e2',)
2025-05-11 07:55:14,226 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('3205df93bd474053b846815078ea82e2',)
2025-05-11 07:55:14,229 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:55:14,229 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 07:55:14,229 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s (insertmanyvalues) 1/1 (unordered)] ('290560d1ff9a4235a16f57e48b93f878', 'Mathematics', '16537dd103c74fbd90588d2b178f52cf', '3205df93bd474053b846815078ea82e2', '2025-05-11 07:55:14.228944', '2025-05-11 07:55:14.228950', 'eca354966b3f411bb39d37e8dfe1a9d4', 'Physics', '16537dd103c74fbd90588d2b178f52cf', '3205df93bd474053b846815078ea82e2', '2025-05-11 07:55:14.228959', '2025-05-11 07:55:14.228962', '208b7a5ff43341e7bfb63caa7c4cb0cc', 'Chemistry', '16537dd103c74fbd90588d2b178f52cf', '3205df93bd474053b846815078ea82e2', '2025-05-11 07:55:14.228970', '2025-05-11 07:55:14.228973', '0a490f18b9aa4177807942439ce5d14e', 'Biology', '16537dd103c74fbd90588d2b178f52cf', '3205df93bd474053b846815078ea82e2', '2025-05-11 07:55:14.228980', '2025-05-11 07:55:14.228984', 'fdec332537bc42b1b1755e4b7c3c4929', 'English', '16537dd103c74fbd90588d2b178f52cf', '3205df93bd474053b846815078ea82e2', '2025-05-11 07:55:14.228991', '2025-05-11 07:55:14.228994')
2025-05-11 07:55:14,229 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s (insertmanyvalues) 1/1 (unordered)] ('290560d1ff9a4235a16f57e48b93f878', 'Mathematics', '16537dd103c74fbd90588d2b178f52cf', '3205df93bd474053b846815078ea82e2', '2025-05-11 07:55:14.228944', '2025-05-11 07:55:14.228950', 'eca354966b3f411bb39d37e8dfe1a9d4', 'Physics', '16537dd103c74fbd90588d2b178f52cf', '3205df93bd474053b846815078ea82e2', '2025-05-11 07:55:14.228959', '2025-05-11 07:55:14.228962', '208b7a5ff43341e7bfb63caa7c4cb0cc', 'Chemistry', '16537dd103c74fbd90588d2b178f52cf', '3205df93bd474053b846815078ea82e2', '2025-05-11 07:55:14.228970', '2025-05-11 07:55:14.228973', '0a490f18b9aa4177807942439ce5d14e', 'Biology', '16537dd103c74fbd90588d2b178f52cf', '3205df93bd474053b846815078ea82e2', '2025-05-11 07:55:14.228980', '2025-05-11 07:55:14.228984', 'fdec332537bc42b1b1755e4b7c3c4929', 'English', '16537dd103c74fbd90588d2b178f52cf', '3205df93bd474053b846815078ea82e2', '2025-05-11 07:55:14.228991', '2025-05-11 07:55:14.228994')
2025-05-11 07:55:14,230 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:55:14,230 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:55:14,235 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:55:14,235 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:55:14,236 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:55:14,236 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:55:14,236 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('290560d1ff9a4235a16f57e48b93f878',)
2025-05-11 07:55:14,236 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('290560d1ff9a4235a16f57e48b93f878',)
2025-05-11 07:55:14,237 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:55:14,237 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:55:14,238 - sqlalchemy.engine.Engine - INFO - [cached since 0.002021s ago] ('eca354966b3f411bb39d37e8dfe1a9d4',)
2025-05-11 07:55:14,238 - sqlalchemy.engine.Engine - INFO - [cached since 0.002021s ago] ('eca354966b3f411bb39d37e8dfe1a9d4',)
2025-05-11 07:55:14,239 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:55:14,239 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:55:14,239 - sqlalchemy.engine.Engine - INFO - [cached since 0.003356s ago] ('208b7a5ff43341e7bfb63caa7c4cb0cc',)
2025-05-11 07:55:14,239 - sqlalchemy.engine.Engine - INFO - [cached since 0.003356s ago] ('208b7a5ff43341e7bfb63caa7c4cb0cc',)
2025-05-11 07:55:14,240 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:55:14,240 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:55:14,240 - sqlalchemy.engine.Engine - INFO - [cached since 0.004769s ago] ('0a490f18b9aa4177807942439ce5d14e',)
2025-05-11 07:55:14,240 - sqlalchemy.engine.Engine - INFO - [cached since 0.004769s ago] ('0a490f18b9aa4177807942439ce5d14e',)
2025-05-11 07:55:14,241 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:55:14,241 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 07:55:14,242 - sqlalchemy.engine.Engine - INFO - [cached since 0.006099s ago] ('fdec332537bc42b1b1755e4b7c3c4929',)
2025-05-11 07:55:14,242 - sqlalchemy.engine.Engine - INFO - [cached since 0.006099s ago] ('fdec332537bc42b1b1755e4b7c3c4929',)
2025-05-11 07:55:14,245 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:55:14,245 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 07:55:14,245 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s (insertmanyvalues) 1/1 (unordered)] ('16de784273f348f3b5f12c95d27c7aa0', None, 'John Doe', 'homeroom_teacher', None, '16537dd103c74fbd90588d2b178f52cf', '2025-05-11 07:55:14.245427', '2025-05-11 07:55:14.245433', 'e9ca65b694234e1dba018792b823d341', None, 'Jane Smith', 'subject_teacher', None, '16537dd103c74fbd90588d2b178f52cf', '2025-05-11 07:55:14.245443', '2025-05-11 07:55:14.245445', 'c016741a30b54386a823dee671b40016', None, 'Bob Johnson', 'subject_teacher', None, '16537dd103c74fbd90588d2b178f52cf', '2025-05-11 07:55:14.245452', '2025-05-11 07:55:14.245455')
2025-05-11 07:55:14,245 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s (insertmanyvalues) 1/1 (unordered)] ('16de784273f348f3b5f12c95d27c7aa0', None, 'John Doe', 'homeroom_teacher', None, '16537dd103c74fbd90588d2b178f52cf', '2025-05-11 07:55:14.245427', '2025-05-11 07:55:14.245433', 'e9ca65b694234e1dba018792b823d341', None, 'Jane Smith', 'subject_teacher', None, '16537dd103c74fbd90588d2b178f52cf', '2025-05-11 07:55:14.245443', '2025-05-11 07:55:14.245445', 'c016741a30b54386a823dee671b40016', None, 'Bob Johnson', 'subject_teacher', None, '16537dd103c74fbd90588d2b178f52cf', '2025-05-11 07:55:14.245452', '2025-05-11 07:55:14.245455')
2025-05-11 07:55:14,247 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:55:14,247 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 07:55:14,248 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] [('16de784273f348f3b5f12c95d27c7aa0', 'eca354966b3f411bb39d37e8dfe1a9d4'), ('e9ca65b694234e1dba018792b823d341', '208b7a5ff43341e7bfb63caa7c4cb0cc'), ('e9ca65b694234e1dba018792b823d341', '0a490f18b9aa4177807942439ce5d14e'), ('16de784273f348f3b5f12c95d27c7aa0', '290560d1ff9a4235a16f57e48b93f878'), ('c016741a30b54386a823dee671b40016', 'fdec332537bc42b1b1755e4b7c3c4929')]
2025-05-11 07:55:14,248 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] [('16de784273f348f3b5f12c95d27c7aa0', 'eca354966b3f411bb39d37e8dfe1a9d4'), ('e9ca65b694234e1dba018792b823d341', '208b7a5ff43341e7bfb63caa7c4cb0cc'), ('e9ca65b694234e1dba018792b823d341', '0a490f18b9aa4177807942439ce5d14e'), ('16de784273f348f3b5f12c95d27c7aa0', '290560d1ff9a4235a16f57e48b93f878'), ('c016741a30b54386a823dee671b40016', 'fdec332537bc42b1b1755e4b7c3c4929')]
2025-05-11 07:55:14,249 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:55:14,249 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:55:14,253 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:55:14,253 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:55:14,254 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:55:14,254 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:55:14,254 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('16de784273f348f3b5f12c95d27c7aa0',)
2025-05-11 07:55:14,254 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('16de784273f348f3b5f12c95d27c7aa0',)
2025-05-11 07:55:14,256 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:55:14,256 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:55:14,256 - sqlalchemy.engine.Engine - INFO - [cached since 0.001789s ago] ('e9ca65b694234e1dba018792b823d341',)
2025-05-11 07:55:14,256 - sqlalchemy.engine.Engine - INFO - [cached since 0.001789s ago] ('e9ca65b694234e1dba018792b823d341',)
2025-05-11 07:55:14,257 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:55:14,257 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:55:14,257 - sqlalchemy.engine.Engine - INFO - [cached since 0.00307s ago] ('c016741a30b54386a823dee671b40016',)
2025-05-11 07:55:14,257 - sqlalchemy.engine.Engine - INFO - [cached since 0.00307s ago] ('c016741a30b54386a823dee671b40016',)
2025-05-11 07:55:14,259 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:55:14,259 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 07:55:14,260 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('3205df93bd474053b846815078ea82e2', '2025-05-11 07:55:14.259910', '16de784273f348f3b5f12c95d27c7aa0')
2025-05-11 07:55:14,260 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('3205df93bd474053b846815078ea82e2', '2025-05-11 07:55:14.259910', '16de784273f348f3b5f12c95d27c7aa0')
2025-05-11 07:55:14,261 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:55:14,261 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 07:55:14,264 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:55:14,264 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 07:55:14,265 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:55:14,265 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 07:55:14,265 - sqlalchemy.engine.Engine - INFO - [cached since 0.01063s ago] ('16de784273f348f3b5f12c95d27c7aa0',)
2025-05-11 07:55:14,265 - sqlalchemy.engine.Engine - INFO - [cached since 0.01063s ago] ('16de784273f348f3b5f12c95d27c7aa0',)
2025-05-11 07:55:14,266 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:55:14,266 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 07:55:14,266 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:55:14,266 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 07:55:14,350 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 07:55:14,350 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 08:00:45,193 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:00:45,193 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:00:45,194 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 08:00:45,194 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 08:00:45,194 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:00:45,194 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:00:45,195 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 08:00:45,195 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 08:00:45,195 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:00:45,195 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:00:45,196 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 08:00:45,196 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 08:00:45,196 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:00:45,196 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:00:45,196 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 08:00:45,196 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 08:00:45,197 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:00:45,197 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:00:45,197 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 08:00:45,197 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 08:00:45,197 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:00:45,197 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:00:45,198 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 08:00:45,198 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 08:00:45,198 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:00:45,198 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:00:45,199 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 08:00:45,199 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 08:00:45,199 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:00:45,199 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:00:45,199 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 08:00:45,199 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 08:00:45,200 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:00:45,200 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:00:45,200 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 08:00:45,200 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 08:00:45,200 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:00:45,200 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:00:45,202 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:00:45,202 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:00:45,202 - fastapi_app - INFO - Database models initialized
2025-05-11 08:00:45,202 - fastapi_app - INFO - Database models initialized
2025-05-11 08:00:45,202 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 08:00:45,202 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 08:00:45,228 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:00:45,228 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:00:45,230 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:00:45,230 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:00:45,230 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('d9c2e3da370146f7a2e2b4f36083470a', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 08:00:45.229973', '2025-05-11 08:00:45.229979')
2025-05-11 08:00:45,230 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('d9c2e3da370146f7a2e2b4f36083470a', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 08:00:45.229973', '2025-05-11 08:00:45.229979')
2025-05-11 08:00:45,234 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:00:45,234 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:00:45,238 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:00:45,238 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:00:45,240 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 08:00:45,240 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 08:00:45,241 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('d9c2e3da370146f7a2e2b4f36083470a',)
2025-05-11 08:00:45,241 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('d9c2e3da370146f7a2e2b4f36083470a',)
2025-05-11 08:00:45,243 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 08:00:45,243 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 08:00:45,243 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('3a14bf5b6df84382a6415543b32ab5b1', '9A', 2024, 'd9c2e3da370146f7a2e2b4f36083470a', '2025-05-11 08:00:45.243562', '2025-05-11 08:00:45.243567')
2025-05-11 08:00:45,243 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('3a14bf5b6df84382a6415543b32ab5b1', '9A', 2024, 'd9c2e3da370146f7a2e2b4f36083470a', '2025-05-11 08:00:45.243562', '2025-05-11 08:00:45.243567')
2025-05-11 08:00:45,245 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:00:45,245 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:00:45,249 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:00:45,249 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:00:45,250 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 08:00:45,250 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 08:00:45,250 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('3a14bf5b6df84382a6415543b32ab5b1',)
2025-05-11 08:00:45,250 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('3a14bf5b6df84382a6415543b32ab5b1',)
2025-05-11 08:00:45,253 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 08:00:45,253 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 08:00:45,254 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s (insertmanyvalues) 1/1 (unordered)] ('476a1e13f4be44c491505e06c8a5a393', 'Mathematics', 'd9c2e3da370146f7a2e2b4f36083470a', '3a14bf5b6df84382a6415543b32ab5b1', '2025-05-11 08:00:45.253607', '2025-05-11 08:00:45.253612', '166a32a743ce4ac0be071c95946bc508', 'Physics', 'd9c2e3da370146f7a2e2b4f36083470a', '3a14bf5b6df84382a6415543b32ab5b1', '2025-05-11 08:00:45.253620', '2025-05-11 08:00:45.253623', '1828ebf556514c5192c1443a51289871', 'Chemistry', 'd9c2e3da370146f7a2e2b4f36083470a', '3a14bf5b6df84382a6415543b32ab5b1', '2025-05-11 08:00:45.253631', '2025-05-11 08:00:45.253632', '3e9d3e662d8d428695ea7fd7e5d14688', 'Biology', 'd9c2e3da370146f7a2e2b4f36083470a', '3a14bf5b6df84382a6415543b32ab5b1', '2025-05-11 08:00:45.253639', '2025-05-11 08:00:45.253642', '4b0d28a2649f49e494a6594b8ae78f40', 'English', 'd9c2e3da370146f7a2e2b4f36083470a', '3a14bf5b6df84382a6415543b32ab5b1', '2025-05-11 08:00:45.253649', '2025-05-11 08:00:45.253651')
2025-05-11 08:00:45,254 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s (insertmanyvalues) 1/1 (unordered)] ('476a1e13f4be44c491505e06c8a5a393', 'Mathematics', 'd9c2e3da370146f7a2e2b4f36083470a', '3a14bf5b6df84382a6415543b32ab5b1', '2025-05-11 08:00:45.253607', '2025-05-11 08:00:45.253612', '166a32a743ce4ac0be071c95946bc508', 'Physics', 'd9c2e3da370146f7a2e2b4f36083470a', '3a14bf5b6df84382a6415543b32ab5b1', '2025-05-11 08:00:45.253620', '2025-05-11 08:00:45.253623', '1828ebf556514c5192c1443a51289871', 'Chemistry', 'd9c2e3da370146f7a2e2b4f36083470a', '3a14bf5b6df84382a6415543b32ab5b1', '2025-05-11 08:00:45.253631', '2025-05-11 08:00:45.253632', '3e9d3e662d8d428695ea7fd7e5d14688', 'Biology', 'd9c2e3da370146f7a2e2b4f36083470a', '3a14bf5b6df84382a6415543b32ab5b1', '2025-05-11 08:00:45.253639', '2025-05-11 08:00:45.253642', '4b0d28a2649f49e494a6594b8ae78f40', 'English', 'd9c2e3da370146f7a2e2b4f36083470a', '3a14bf5b6df84382a6415543b32ab5b1', '2025-05-11 08:00:45.253649', '2025-05-11 08:00:45.253651')
2025-05-11 08:00:45,255 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:00:45,255 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:00:45,258 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:00:45,258 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:00:45,259 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:00:45,259 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:00:45,259 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('476a1e13f4be44c491505e06c8a5a393',)
2025-05-11 08:00:45,259 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('476a1e13f4be44c491505e06c8a5a393',)
2025-05-11 08:00:45,261 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:00:45,261 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:00:45,261 - sqlalchemy.engine.Engine - INFO - [cached since 0.001972s ago] ('166a32a743ce4ac0be071c95946bc508',)
2025-05-11 08:00:45,261 - sqlalchemy.engine.Engine - INFO - [cached since 0.001972s ago] ('166a32a743ce4ac0be071c95946bc508',)
2025-05-11 08:00:45,263 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:00:45,263 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:00:45,263 - sqlalchemy.engine.Engine - INFO - [cached since 0.003529s ago] ('1828ebf556514c5192c1443a51289871',)
2025-05-11 08:00:45,263 - sqlalchemy.engine.Engine - INFO - [cached since 0.003529s ago] ('1828ebf556514c5192c1443a51289871',)
2025-05-11 08:00:45,264 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:00:45,264 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:00:45,264 - sqlalchemy.engine.Engine - INFO - [cached since 0.00492s ago] ('3e9d3e662d8d428695ea7fd7e5d14688',)
2025-05-11 08:00:45,264 - sqlalchemy.engine.Engine - INFO - [cached since 0.00492s ago] ('3e9d3e662d8d428695ea7fd7e5d14688',)
2025-05-11 08:00:45,265 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:00:45,265 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:00:45,265 - sqlalchemy.engine.Engine - INFO - [cached since 0.00626s ago] ('4b0d28a2649f49e494a6594b8ae78f40',)
2025-05-11 08:00:45,265 - sqlalchemy.engine.Engine - INFO - [cached since 0.00626s ago] ('4b0d28a2649f49e494a6594b8ae78f40',)
2025-05-11 08:00:45,268 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:00:45,268 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:00:45,268 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/1 (unordered)] ('26dc8f3ea1834bca8cbd12d5c6db2a9e', None, 'John Doe', 'homeroom_teacher', None, 'd9c2e3da370146f7a2e2b4f36083470a', '2025-05-11 08:00:45.268560', '2025-05-11 08:00:45.268564', 'afe9fb94ba92409ca2e7cf5bda9f3fed', None, 'Jane Smith', 'subject_teacher', None, 'd9c2e3da370146f7a2e2b4f36083470a', '2025-05-11 08:00:45.268571', '2025-05-11 08:00:45.268574', 'e54660923688456a8ae930904c98a125', None, 'Bob Johnson', 'subject_teacher', None, 'd9c2e3da370146f7a2e2b4f36083470a', '2025-05-11 08:00:45.268579', '2025-05-11 08:00:45.268582')
2025-05-11 08:00:45,268 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/1 (unordered)] ('26dc8f3ea1834bca8cbd12d5c6db2a9e', None, 'John Doe', 'homeroom_teacher', None, 'd9c2e3da370146f7a2e2b4f36083470a', '2025-05-11 08:00:45.268560', '2025-05-11 08:00:45.268564', 'afe9fb94ba92409ca2e7cf5bda9f3fed', None, 'Jane Smith', 'subject_teacher', None, 'd9c2e3da370146f7a2e2b4f36083470a', '2025-05-11 08:00:45.268571', '2025-05-11 08:00:45.268574', 'e54660923688456a8ae930904c98a125', None, 'Bob Johnson', 'subject_teacher', None, 'd9c2e3da370146f7a2e2b4f36083470a', '2025-05-11 08:00:45.268579', '2025-05-11 08:00:45.268582')
2025-05-11 08:00:45,270 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 08:00:45,270 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 08:00:45,270 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] [('26dc8f3ea1834bca8cbd12d5c6db2a9e', '166a32a743ce4ac0be071c95946bc508'), ('afe9fb94ba92409ca2e7cf5bda9f3fed', '1828ebf556514c5192c1443a51289871'), ('afe9fb94ba92409ca2e7cf5bda9f3fed', '3e9d3e662d8d428695ea7fd7e5d14688'), ('26dc8f3ea1834bca8cbd12d5c6db2a9e', '476a1e13f4be44c491505e06c8a5a393'), ('e54660923688456a8ae930904c98a125', '4b0d28a2649f49e494a6594b8ae78f40')]
2025-05-11 08:00:45,270 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] [('26dc8f3ea1834bca8cbd12d5c6db2a9e', '166a32a743ce4ac0be071c95946bc508'), ('afe9fb94ba92409ca2e7cf5bda9f3fed', '1828ebf556514c5192c1443a51289871'), ('afe9fb94ba92409ca2e7cf5bda9f3fed', '3e9d3e662d8d428695ea7fd7e5d14688'), ('26dc8f3ea1834bca8cbd12d5c6db2a9e', '476a1e13f4be44c491505e06c8a5a393'), ('e54660923688456a8ae930904c98a125', '4b0d28a2649f49e494a6594b8ae78f40')]
2025-05-11 08:00:45,272 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:00:45,272 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:00:45,277 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:00:45,277 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:00:45,278 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:00:45,278 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:00:45,278 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('26dc8f3ea1834bca8cbd12d5c6db2a9e',)
2025-05-11 08:00:45,278 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('26dc8f3ea1834bca8cbd12d5c6db2a9e',)
2025-05-11 08:00:45,280 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:00:45,280 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:00:45,280 - sqlalchemy.engine.Engine - INFO - [cached since 0.001844s ago] ('afe9fb94ba92409ca2e7cf5bda9f3fed',)
2025-05-11 08:00:45,280 - sqlalchemy.engine.Engine - INFO - [cached since 0.001844s ago] ('afe9fb94ba92409ca2e7cf5bda9f3fed',)
2025-05-11 08:00:45,281 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:00:45,281 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:00:45,281 - sqlalchemy.engine.Engine - INFO - [cached since 0.003401s ago] ('e54660923688456a8ae930904c98a125',)
2025-05-11 08:00:45,281 - sqlalchemy.engine.Engine - INFO - [cached since 0.003401s ago] ('e54660923688456a8ae930904c98a125',)
2025-05-11 08:00:45,284 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 08:00:45,284 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 08:00:45,284 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('3a14bf5b6df84382a6415543b32ab5b1', '2025-05-11 08:00:45.284483', '26dc8f3ea1834bca8cbd12d5c6db2a9e')
2025-05-11 08:00:45,284 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('3a14bf5b6df84382a6415543b32ab5b1', '2025-05-11 08:00:45.284483', '26dc8f3ea1834bca8cbd12d5c6db2a9e')
2025-05-11 08:00:45,285 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:00:45,285 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:00:45,289 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:00:45,289 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:00:45,290 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:00:45,290 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:00:45,290 - sqlalchemy.engine.Engine - INFO - [cached since 0.01184s ago] ('26dc8f3ea1834bca8cbd12d5c6db2a9e',)
2025-05-11 08:00:45,290 - sqlalchemy.engine.Engine - INFO - [cached since 0.01184s ago] ('26dc8f3ea1834bca8cbd12d5c6db2a9e',)
2025-05-11 08:00:45,291 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 08:00:45,291 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 08:00:45,291 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 08:00:45,291 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 08:00:45,402 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 08:00:45,402 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 08:01:30,582 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:01:30,582 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:01:30,582 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 08:01:30,582 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 08:01:30,582 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:01:30,582 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:01:30,584 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 08:01:30,584 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 08:01:30,584 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:01:30,584 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:01:30,585 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 08:01:30,585 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 08:01:30,585 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:01:30,585 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:01:30,586 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 08:01:30,586 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 08:01:30,586 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:01:30,586 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:01:30,587 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 08:01:30,587 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 08:01:30,588 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:01:30,588 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:01:30,588 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 08:01:30,588 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 08:01:30,589 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:01:30,589 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:01:30,589 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 08:01:30,589 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 08:01:30,589 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:01:30,589 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:01:30,590 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 08:01:30,590 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 08:01:30,590 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:01:30,590 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:01:30,591 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 08:01:30,591 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 08:01:30,591 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:01:30,591 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:01:30,592 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:01:30,592 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:01:30,592 - fastapi_app - INFO - Database models initialized
2025-05-11 08:01:30,592 - fastapi_app - INFO - Database models initialized
2025-05-11 08:01:30,592 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 08:01:30,592 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 08:01:30,613 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:01:30,613 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:01:30,615 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:01:30,615 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:01:30,615 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('3244dfb23d3848108c8c0a2be16dd617', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 08:01:30.615312', '2025-05-11 08:01:30.615318')
2025-05-11 08:01:30,615 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('3244dfb23d3848108c8c0a2be16dd617', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 08:01:30.615312', '2025-05-11 08:01:30.615318')
2025-05-11 08:01:30,616 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:01:30,616 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:01:30,621 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:01:30,621 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:01:30,623 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 08:01:30,623 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 08:01:30,623 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('3244dfb23d3848108c8c0a2be16dd617',)
2025-05-11 08:01:30,623 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('3244dfb23d3848108c8c0a2be16dd617',)
2025-05-11 08:01:30,625 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 08:01:30,625 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 08:01:30,626 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('3c5e1f9b532442a0b4494f1f15eeeb10', '9A', 2024, '3244dfb23d3848108c8c0a2be16dd617', '2025-05-11 08:01:30.625817', '2025-05-11 08:01:30.625824')
2025-05-11 08:01:30,626 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('3c5e1f9b532442a0b4494f1f15eeeb10', '9A', 2024, '3244dfb23d3848108c8c0a2be16dd617', '2025-05-11 08:01:30.625817', '2025-05-11 08:01:30.625824')
2025-05-11 08:01:30,627 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:01:30,627 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:01:30,631 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:01:30,631 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:01:30,632 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 08:01:30,632 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 08:01:30,632 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('3c5e1f9b532442a0b4494f1f15eeeb10',)
2025-05-11 08:01:30,632 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('3c5e1f9b532442a0b4494f1f15eeeb10',)
2025-05-11 08:01:30,635 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 08:01:30,635 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 08:01:30,635 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s (insertmanyvalues) 1/1 (unordered)] ('2feb449193e342e7b1c1027cf74161c8', 'Mathematics', '3244dfb23d3848108c8c0a2be16dd617', '3c5e1f9b532442a0b4494f1f15eeeb10', '2025-05-11 08:01:30.635433', '2025-05-11 08:01:30.635439', '041315a00211427e84599a96ab086a0e', 'Physics', '3244dfb23d3848108c8c0a2be16dd617', '3c5e1f9b532442a0b4494f1f15eeeb10', '2025-05-11 08:01:30.635445', '2025-05-11 08:01:30.635447', '51ff8a682c6446c1b1aaf14ab8185dc7', 'Chemistry', '3244dfb23d3848108c8c0a2be16dd617', '3c5e1f9b532442a0b4494f1f15eeeb10', '2025-05-11 08:01:30.635453', '2025-05-11 08:01:30.635472', '65244351721e482dba8ececdf4d7cded', 'Biology', '3244dfb23d3848108c8c0a2be16dd617', '3c5e1f9b532442a0b4494f1f15eeeb10', '2025-05-11 08:01:30.635480', '2025-05-11 08:01:30.635483', 'b991de169be54e3ea7453f6f6cb0463c', 'English', '3244dfb23d3848108c8c0a2be16dd617', '3c5e1f9b532442a0b4494f1f15eeeb10', '2025-05-11 08:01:30.635490', '2025-05-11 08:01:30.635493')
2025-05-11 08:01:30,635 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s (insertmanyvalues) 1/1 (unordered)] ('2feb449193e342e7b1c1027cf74161c8', 'Mathematics', '3244dfb23d3848108c8c0a2be16dd617', '3c5e1f9b532442a0b4494f1f15eeeb10', '2025-05-11 08:01:30.635433', '2025-05-11 08:01:30.635439', '041315a00211427e84599a96ab086a0e', 'Physics', '3244dfb23d3848108c8c0a2be16dd617', '3c5e1f9b532442a0b4494f1f15eeeb10', '2025-05-11 08:01:30.635445', '2025-05-11 08:01:30.635447', '51ff8a682c6446c1b1aaf14ab8185dc7', 'Chemistry', '3244dfb23d3848108c8c0a2be16dd617', '3c5e1f9b532442a0b4494f1f15eeeb10', '2025-05-11 08:01:30.635453', '2025-05-11 08:01:30.635472', '65244351721e482dba8ececdf4d7cded', 'Biology', '3244dfb23d3848108c8c0a2be16dd617', '3c5e1f9b532442a0b4494f1f15eeeb10', '2025-05-11 08:01:30.635480', '2025-05-11 08:01:30.635483', 'b991de169be54e3ea7453f6f6cb0463c', 'English', '3244dfb23d3848108c8c0a2be16dd617', '3c5e1f9b532442a0b4494f1f15eeeb10', '2025-05-11 08:01:30.635490', '2025-05-11 08:01:30.635493')
2025-05-11 08:01:30,637 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:01:30,637 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:01:30,640 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:01:30,640 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:01:30,642 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:01:30,642 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:01:30,642 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('2feb449193e342e7b1c1027cf74161c8',)
2025-05-11 08:01:30,642 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('2feb449193e342e7b1c1027cf74161c8',)
2025-05-11 08:01:30,643 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:01:30,643 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:01:30,643 - sqlalchemy.engine.Engine - INFO - [cached since 0.001653s ago] ('041315a00211427e84599a96ab086a0e',)
2025-05-11 08:01:30,643 - sqlalchemy.engine.Engine - INFO - [cached since 0.001653s ago] ('041315a00211427e84599a96ab086a0e',)
2025-05-11 08:01:30,645 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:01:30,645 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:01:30,645 - sqlalchemy.engine.Engine - INFO - [cached since 0.00362s ago] ('51ff8a682c6446c1b1aaf14ab8185dc7',)
2025-05-11 08:01:30,645 - sqlalchemy.engine.Engine - INFO - [cached since 0.00362s ago] ('51ff8a682c6446c1b1aaf14ab8185dc7',)
2025-05-11 08:01:30,647 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:01:30,647 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:01:30,647 - sqlalchemy.engine.Engine - INFO - [cached since 0.00574s ago] ('65244351721e482dba8ececdf4d7cded',)
2025-05-11 08:01:30,647 - sqlalchemy.engine.Engine - INFO - [cached since 0.00574s ago] ('65244351721e482dba8ececdf4d7cded',)
2025-05-11 08:01:30,651 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:01:30,651 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:01:30,651 - sqlalchemy.engine.Engine - INFO - [cached since 0.009622s ago] ('b991de169be54e3ea7453f6f6cb0463c',)
2025-05-11 08:01:30,651 - sqlalchemy.engine.Engine - INFO - [cached since 0.009622s ago] ('b991de169be54e3ea7453f6f6cb0463c',)
2025-05-11 08:01:30,655 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:01:30,655 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:01:30,655 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s (insertmanyvalues) 1/1 (unordered)] ('1fad16768f8c41518671db649cf56376', None, 'John Doe', 'homeroom_teacher', None, '3244dfb23d3848108c8c0a2be16dd617', '2025-05-11 08:01:30.654920', '2025-05-11 08:01:30.654924', 'ed079ac3750c43f48629322e6689b75e', None, 'Jane Smith', 'subject_teacher', None, '3244dfb23d3848108c8c0a2be16dd617', '2025-05-11 08:01:30.654931', '2025-05-11 08:01:30.654933', '6b35cc87cc7846abadb2f4ee191eeb7a', None, 'Bob Johnson', 'subject_teacher', None, '3244dfb23d3848108c8c0a2be16dd617', '2025-05-11 08:01:30.654938', '2025-05-11 08:01:30.654940')
2025-05-11 08:01:30,655 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s (insertmanyvalues) 1/1 (unordered)] ('1fad16768f8c41518671db649cf56376', None, 'John Doe', 'homeroom_teacher', None, '3244dfb23d3848108c8c0a2be16dd617', '2025-05-11 08:01:30.654920', '2025-05-11 08:01:30.654924', 'ed079ac3750c43f48629322e6689b75e', None, 'Jane Smith', 'subject_teacher', None, '3244dfb23d3848108c8c0a2be16dd617', '2025-05-11 08:01:30.654931', '2025-05-11 08:01:30.654933', '6b35cc87cc7846abadb2f4ee191eeb7a', None, 'Bob Johnson', 'subject_teacher', None, '3244dfb23d3848108c8c0a2be16dd617', '2025-05-11 08:01:30.654938', '2025-05-11 08:01:30.654940')
2025-05-11 08:01:30,656 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 08:01:30,656 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 08:01:30,656 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] [('ed079ac3750c43f48629322e6689b75e', '51ff8a682c6446c1b1aaf14ab8185dc7'), ('ed079ac3750c43f48629322e6689b75e', '65244351721e482dba8ececdf4d7cded'), ('1fad16768f8c41518671db649cf56376', '2feb449193e342e7b1c1027cf74161c8'), ('6b35cc87cc7846abadb2f4ee191eeb7a', 'b991de169be54e3ea7453f6f6cb0463c'), ('1fad16768f8c41518671db649cf56376', '041315a00211427e84599a96ab086a0e')]
2025-05-11 08:01:30,656 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] [('ed079ac3750c43f48629322e6689b75e', '51ff8a682c6446c1b1aaf14ab8185dc7'), ('ed079ac3750c43f48629322e6689b75e', '65244351721e482dba8ececdf4d7cded'), ('1fad16768f8c41518671db649cf56376', '2feb449193e342e7b1c1027cf74161c8'), ('6b35cc87cc7846abadb2f4ee191eeb7a', 'b991de169be54e3ea7453f6f6cb0463c'), ('1fad16768f8c41518671db649cf56376', '041315a00211427e84599a96ab086a0e')]
2025-05-11 08:01:30,657 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:01:30,657 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:01:30,662 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:01:30,662 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:01:30,664 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:01:30,664 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:01:30,664 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('1fad16768f8c41518671db649cf56376',)
2025-05-11 08:01:30,664 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('1fad16768f8c41518671db649cf56376',)
2025-05-11 08:01:30,665 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:01:30,665 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:01:30,666 - sqlalchemy.engine.Engine - INFO - [cached since 0.002064s ago] ('ed079ac3750c43f48629322e6689b75e',)
2025-05-11 08:01:30,666 - sqlalchemy.engine.Engine - INFO - [cached since 0.002064s ago] ('ed079ac3750c43f48629322e6689b75e',)
2025-05-11 08:01:30,667 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:01:30,667 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:01:30,667 - sqlalchemy.engine.Engine - INFO - [cached since 0.00358s ago] ('6b35cc87cc7846abadb2f4ee191eeb7a',)
2025-05-11 08:01:30,667 - sqlalchemy.engine.Engine - INFO - [cached since 0.00358s ago] ('6b35cc87cc7846abadb2f4ee191eeb7a',)
2025-05-11 08:01:30,670 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 08:01:30,670 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 08:01:30,670 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('3c5e1f9b532442a0b4494f1f15eeeb10', '2025-05-11 08:01:30.670130', '1fad16768f8c41518671db649cf56376')
2025-05-11 08:01:30,670 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('3c5e1f9b532442a0b4494f1f15eeeb10', '2025-05-11 08:01:30.670130', '1fad16768f8c41518671db649cf56376')
2025-05-11 08:01:30,671 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:01:30,671 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:01:30,675 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:01:30,675 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:01:30,676 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:01:30,676 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:01:30,676 - sqlalchemy.engine.Engine - INFO - [cached since 0.01232s ago] ('1fad16768f8c41518671db649cf56376',)
2025-05-11 08:01:30,676 - sqlalchemy.engine.Engine - INFO - [cached since 0.01232s ago] ('1fad16768f8c41518671db649cf56376',)
2025-05-11 08:01:30,677 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 08:01:30,677 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 08:01:30,677 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 08:01:30,677 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 08:01:30,761 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 08:01:30,761 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 08:02:21,742 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:02:21,742 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:02:21,742 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 08:02:21,742 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 08:02:21,742 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:02:21,742 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:02:21,744 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 08:02:21,744 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 08:02:21,744 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:02:21,744 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:02:21,745 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 08:02:21,745 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 08:02:21,745 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:02:21,745 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:02:21,745 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 08:02:21,745 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 08:02:21,746 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:02:21,746 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:02:21,746 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 08:02:21,746 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 08:02:21,746 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:02:21,746 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:02:21,747 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 08:02:21,747 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 08:02:21,747 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:02:21,747 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:02:21,748 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 08:02:21,748 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 08:02:21,748 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:02:21,748 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:02:21,749 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 08:02:21,749 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 08:02:21,749 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:02:21,749 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:02:21,750 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 08:02:21,750 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 08:02:21,750 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:02:21,750 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:02:21,751 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:02:21,751 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:02:21,751 - fastapi_app - INFO - Database models initialized
2025-05-11 08:02:21,751 - fastapi_app - INFO - Database models initialized
2025-05-11 08:02:21,752 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 08:02:21,752 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 08:02:21,774 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:02:21,774 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:02:21,775 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:02:21,775 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:02:21,776 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ('0c837afb7105423ea3865a886665d0ad', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 08:02:21.775890', '2025-05-11 08:02:21.775895')
2025-05-11 08:02:21,776 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ('0c837afb7105423ea3865a886665d0ad', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 08:02:21.775890', '2025-05-11 08:02:21.775895')
2025-05-11 08:02:21,777 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:02:21,777 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:02:21,783 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:02:21,783 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:02:21,785 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 08:02:21,785 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 08:02:21,785 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('0c837afb7105423ea3865a886665d0ad',)
2025-05-11 08:02:21,785 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('0c837afb7105423ea3865a886665d0ad',)
2025-05-11 08:02:21,787 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 08:02:21,787 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 08:02:21,788 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('ee7dc01980884dc2b1cd9d48e3f42e2b', '9A', 2024, '0c837afb7105423ea3865a886665d0ad', '2025-05-11 08:02:21.787878', '2025-05-11 08:02:21.787883')
2025-05-11 08:02:21,788 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('ee7dc01980884dc2b1cd9d48e3f42e2b', '9A', 2024, '0c837afb7105423ea3865a886665d0ad', '2025-05-11 08:02:21.787878', '2025-05-11 08:02:21.787883')
2025-05-11 08:02:21,789 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:02:21,789 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:02:21,793 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:02:21,793 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:02:21,794 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 08:02:21,794 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 08:02:21,795 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('ee7dc01980884dc2b1cd9d48e3f42e2b',)
2025-05-11 08:02:21,795 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('ee7dc01980884dc2b1cd9d48e3f42e2b',)
2025-05-11 08:02:21,798 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 08:02:21,798 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 08:02:21,798 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/1 (unordered)] ('c4d2f058a71242fcb09aa7fe76a454db', 'Mathematics', '0c837afb7105423ea3865a886665d0ad', 'ee7dc01980884dc2b1cd9d48e3f42e2b', '2025-05-11 08:02:21.797865', '2025-05-11 08:02:21.797870', '4debb33e14f347e59fb2ea6a8a105d18', 'Physics', '0c837afb7105423ea3865a886665d0ad', 'ee7dc01980884dc2b1cd9d48e3f42e2b', '2025-05-11 08:02:21.797877', '2025-05-11 08:02:21.797880', '64f922de53954f34888109ae2c815602', 'Chemistry', '0c837afb7105423ea3865a886665d0ad', 'ee7dc01980884dc2b1cd9d48e3f42e2b', '2025-05-11 08:02:21.797886', '2025-05-11 08:02:21.797888', 'a396b4c748394169afb6f3aa9fadb1f3', 'Biology', '0c837afb7105423ea3865a886665d0ad', 'ee7dc01980884dc2b1cd9d48e3f42e2b', '2025-05-11 08:02:21.797894', '2025-05-11 08:02:21.797896', '600c64d208834587a2ad19776a45dd2c', 'English', '0c837afb7105423ea3865a886665d0ad', 'ee7dc01980884dc2b1cd9d48e3f42e2b', '2025-05-11 08:02:21.797902', '2025-05-11 08:02:21.797904')
2025-05-11 08:02:21,798 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s (insertmanyvalues) 1/1 (unordered)] ('c4d2f058a71242fcb09aa7fe76a454db', 'Mathematics', '0c837afb7105423ea3865a886665d0ad', 'ee7dc01980884dc2b1cd9d48e3f42e2b', '2025-05-11 08:02:21.797865', '2025-05-11 08:02:21.797870', '4debb33e14f347e59fb2ea6a8a105d18', 'Physics', '0c837afb7105423ea3865a886665d0ad', 'ee7dc01980884dc2b1cd9d48e3f42e2b', '2025-05-11 08:02:21.797877', '2025-05-11 08:02:21.797880', '64f922de53954f34888109ae2c815602', 'Chemistry', '0c837afb7105423ea3865a886665d0ad', 'ee7dc01980884dc2b1cd9d48e3f42e2b', '2025-05-11 08:02:21.797886', '2025-05-11 08:02:21.797888', 'a396b4c748394169afb6f3aa9fadb1f3', 'Biology', '0c837afb7105423ea3865a886665d0ad', 'ee7dc01980884dc2b1cd9d48e3f42e2b', '2025-05-11 08:02:21.797894', '2025-05-11 08:02:21.797896', '600c64d208834587a2ad19776a45dd2c', 'English', '0c837afb7105423ea3865a886665d0ad', 'ee7dc01980884dc2b1cd9d48e3f42e2b', '2025-05-11 08:02:21.797902', '2025-05-11 08:02:21.797904')
2025-05-11 08:02:21,800 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:02:21,800 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:02:21,804 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:02:21,804 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:02:21,805 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:02:21,805 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:02:21,805 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('c4d2f058a71242fcb09aa7fe76a454db',)
2025-05-11 08:02:21,805 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('c4d2f058a71242fcb09aa7fe76a454db',)
2025-05-11 08:02:21,807 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:02:21,807 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:02:21,807 - sqlalchemy.engine.Engine - INFO - [cached since 0.001683s ago] ('4debb33e14f347e59fb2ea6a8a105d18',)
2025-05-11 08:02:21,807 - sqlalchemy.engine.Engine - INFO - [cached since 0.001683s ago] ('4debb33e14f347e59fb2ea6a8a105d18',)
2025-05-11 08:02:21,808 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:02:21,808 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:02:21,808 - sqlalchemy.engine.Engine - INFO - [cached since 0.002873s ago] ('64f922de53954f34888109ae2c815602',)
2025-05-11 08:02:21,808 - sqlalchemy.engine.Engine - INFO - [cached since 0.002873s ago] ('64f922de53954f34888109ae2c815602',)
2025-05-11 08:02:21,809 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:02:21,809 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:02:21,809 - sqlalchemy.engine.Engine - INFO - [cached since 0.004158s ago] ('a396b4c748394169afb6f3aa9fadb1f3',)
2025-05-11 08:02:21,809 - sqlalchemy.engine.Engine - INFO - [cached since 0.004158s ago] ('a396b4c748394169afb6f3aa9fadb1f3',)
2025-05-11 08:02:21,810 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:02:21,810 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:02:21,810 - sqlalchemy.engine.Engine - INFO - [cached since 0.005332s ago] ('600c64d208834587a2ad19776a45dd2c',)
2025-05-11 08:02:21,810 - sqlalchemy.engine.Engine - INFO - [cached since 0.005332s ago] ('600c64d208834587a2ad19776a45dd2c',)
2025-05-11 08:02:21,813 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:02:21,813 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:02:21,813 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s (insertmanyvalues) 1/1 (unordered)] ('6982c1ce2eb04661873e05f5c991fcfb', None, 'John Doe', 'homeroom_teacher', None, '0c837afb7105423ea3865a886665d0ad', '2025-05-11 08:02:21.813566', '2025-05-11 08:02:21.813572', '64d329cbc76346739fd149d791d7a555', None, 'Jane Smith', 'subject_teacher', None, '0c837afb7105423ea3865a886665d0ad', '2025-05-11 08:02:21.813580', '2025-05-11 08:02:21.813582', '4a0918f46c0a43c3982b082c2aefae28', None, 'Bob Johnson', 'subject_teacher', None, '0c837afb7105423ea3865a886665d0ad', '2025-05-11 08:02:21.813589', '2025-05-11 08:02:21.813592')
2025-05-11 08:02:21,813 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s (insertmanyvalues) 1/1 (unordered)] ('6982c1ce2eb04661873e05f5c991fcfb', None, 'John Doe', 'homeroom_teacher', None, '0c837afb7105423ea3865a886665d0ad', '2025-05-11 08:02:21.813566', '2025-05-11 08:02:21.813572', '64d329cbc76346739fd149d791d7a555', None, 'Jane Smith', 'subject_teacher', None, '0c837afb7105423ea3865a886665d0ad', '2025-05-11 08:02:21.813580', '2025-05-11 08:02:21.813582', '4a0918f46c0a43c3982b082c2aefae28', None, 'Bob Johnson', 'subject_teacher', None, '0c837afb7105423ea3865a886665d0ad', '2025-05-11 08:02:21.813589', '2025-05-11 08:02:21.813592')
2025-05-11 08:02:21,815 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 08:02:21,815 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 08:02:21,815 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] [('6982c1ce2eb04661873e05f5c991fcfb', '4debb33e14f347e59fb2ea6a8a105d18'), ('64d329cbc76346739fd149d791d7a555', '64f922de53954f34888109ae2c815602'), ('64d329cbc76346739fd149d791d7a555', 'a396b4c748394169afb6f3aa9fadb1f3'), ('6982c1ce2eb04661873e05f5c991fcfb', 'c4d2f058a71242fcb09aa7fe76a454db'), ('4a0918f46c0a43c3982b082c2aefae28', '600c64d208834587a2ad19776a45dd2c')]
2025-05-11 08:02:21,815 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] [('6982c1ce2eb04661873e05f5c991fcfb', '4debb33e14f347e59fb2ea6a8a105d18'), ('64d329cbc76346739fd149d791d7a555', '64f922de53954f34888109ae2c815602'), ('64d329cbc76346739fd149d791d7a555', 'a396b4c748394169afb6f3aa9fadb1f3'), ('6982c1ce2eb04661873e05f5c991fcfb', 'c4d2f058a71242fcb09aa7fe76a454db'), ('4a0918f46c0a43c3982b082c2aefae28', '600c64d208834587a2ad19776a45dd2c')]
2025-05-11 08:02:21,816 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:02:21,816 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:02:21,821 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:02:21,821 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:02:21,822 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:02:21,822 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:02:21,822 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('6982c1ce2eb04661873e05f5c991fcfb',)
2025-05-11 08:02:21,822 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('6982c1ce2eb04661873e05f5c991fcfb',)
2025-05-11 08:02:21,823 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:02:21,823 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:02:21,824 - sqlalchemy.engine.Engine - INFO - [cached since 0.001922s ago] ('64d329cbc76346739fd149d791d7a555',)
2025-05-11 08:02:21,824 - sqlalchemy.engine.Engine - INFO - [cached since 0.001922s ago] ('64d329cbc76346739fd149d791d7a555',)
2025-05-11 08:02:21,825 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:02:21,825 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:02:21,825 - sqlalchemy.engine.Engine - INFO - [cached since 0.003249s ago] ('4a0918f46c0a43c3982b082c2aefae28',)
2025-05-11 08:02:21,825 - sqlalchemy.engine.Engine - INFO - [cached since 0.003249s ago] ('4a0918f46c0a43c3982b082c2aefae28',)
2025-05-11 08:02:21,827 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 08:02:21,827 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 08:02:21,827 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('ee7dc01980884dc2b1cd9d48e3f42e2b', '2025-05-11 08:02:21.827603', '6982c1ce2eb04661873e05f5c991fcfb')
2025-05-11 08:02:21,827 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('ee7dc01980884dc2b1cd9d48e3f42e2b', '2025-05-11 08:02:21.827603', '6982c1ce2eb04661873e05f5c991fcfb')
2025-05-11 08:02:21,828 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:02:21,828 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:02:21,833 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:02:21,833 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:02:21,833 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:02:21,833 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:02:21,834 - sqlalchemy.engine.Engine - INFO - [cached since 0.01199s ago] ('6982c1ce2eb04661873e05f5c991fcfb',)
2025-05-11 08:02:21,834 - sqlalchemy.engine.Engine - INFO - [cached since 0.01199s ago] ('6982c1ce2eb04661873e05f5c991fcfb',)
2025-05-11 08:02:21,834 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 08:02:21,834 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 08:02:21,835 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 08:02:21,835 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 08:02:21,924 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 08:02:21,924 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 08:03:08,021 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:03:08,021 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:03:08,024 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ? AND user.role = ?
2025-05-11 08:03:08,024 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ? AND user.role = ?
2025-05-11 08:03:08,024 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('6f080a36a47a4e8b92274b83e4272f43', 'student')
2025-05-11 08:03:08,024 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('6f080a36a47a4e8b92274b83e4272f43', 'student')
2025-05-11 08:03:08,029 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 08:03:08,029 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 08:04:41,103 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:04:41,103 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:04:41,104 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 08:04:41,104 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 08:04:41,104 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:04:41,104 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:04:41,105 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 08:04:41,105 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 08:04:41,105 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:04:41,105 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:04:41,106 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 08:04:41,106 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 08:04:41,106 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:04:41,106 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:04:41,107 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 08:04:41,107 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 08:04:41,107 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:04:41,107 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:04:41,109 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 08:04:41,109 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 08:04:41,109 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:04:41,109 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:04:41,110 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 08:04:41,110 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 08:04:41,110 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:04:41,110 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:04:41,111 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 08:04:41,111 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 08:04:41,111 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:04:41,111 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:04:41,112 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 08:04:41,112 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 08:04:41,112 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:04:41,112 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:04:41,114 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 08:04:41,114 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 08:04:41,114 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:04:41,114 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:04:41,115 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:04:41,115 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:04:41,115 - fastapi_app - INFO - Database models initialized
2025-05-11 08:04:41,115 - fastapi_app - INFO - Database models initialized
2025-05-11 08:04:41,115 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 08:04:41,115 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 08:04:41,149 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:04:41,149 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:04:41,151 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:04:41,151 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:04:41,151 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('2d277e7fa6384bf3a557ad8e87a92f43', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 08:04:41.151244', '2025-05-11 08:04:41.151249')
2025-05-11 08:04:41,151 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('2d277e7fa6384bf3a557ad8e87a92f43', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 08:04:41.151244', '2025-05-11 08:04:41.151249')
2025-05-11 08:04:41,154 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:04:41,154 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:04:41,160 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:04:41,160 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:04:41,165 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 08:04:41,165 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 08:04:41,165 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('2d277e7fa6384bf3a557ad8e87a92f43',)
2025-05-11 08:04:41,165 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('2d277e7fa6384bf3a557ad8e87a92f43',)
2025-05-11 08:04:41,169 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 08:04:41,169 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 08:04:41,169 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] ('bbf7b5e0d6c74ca09ad4d9ee30661ee8', '9A', 2024, '2d277e7fa6384bf3a557ad8e87a92f43', '2025-05-11 08:04:41.169052', '2025-05-11 08:04:41.169060')
2025-05-11 08:04:41,169 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] ('bbf7b5e0d6c74ca09ad4d9ee30661ee8', '9A', 2024, '2d277e7fa6384bf3a557ad8e87a92f43', '2025-05-11 08:04:41.169052', '2025-05-11 08:04:41.169060')
2025-05-11 08:04:41,172 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:04:41,172 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:04:41,178 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:04:41,178 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:04:41,180 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 08:04:41,180 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 08:04:41,180 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('bbf7b5e0d6c74ca09ad4d9ee30661ee8',)
2025-05-11 08:04:41,180 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('bbf7b5e0d6c74ca09ad4d9ee30661ee8',)
2025-05-11 08:04:41,186 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 08:04:41,186 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 08:04:41,186 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s (insertmanyvalues) 1/1 (unordered)] ('dea725d4822748178826e1d21f65a273', 'Mathematics', '2d277e7fa6384bf3a557ad8e87a92f43', 'bbf7b5e0d6c74ca09ad4d9ee30661ee8', '2025-05-11 08:04:41.186192', '2025-05-11 08:04:41.186198', '66b9800e0cd5499aa96746d25cd94920', 'Physics', '2d277e7fa6384bf3a557ad8e87a92f43', 'bbf7b5e0d6c74ca09ad4d9ee30661ee8', '2025-05-11 08:04:41.186207', '2025-05-11 08:04:41.186211', '97e1d2a8f383477eb9131875c30b69fe', 'Chemistry', '2d277e7fa6384bf3a557ad8e87a92f43', 'bbf7b5e0d6c74ca09ad4d9ee30661ee8', '2025-05-11 08:04:41.186218', '2025-05-11 08:04:41.186221', 'c0357bd32347475ab9acb5cd89d4af0a', 'Biology', '2d277e7fa6384bf3a557ad8e87a92f43', 'bbf7b5e0d6c74ca09ad4d9ee30661ee8', '2025-05-11 08:04:41.186228', '2025-05-11 08:04:41.186231', '5cd4e2c8de6f46cb9730eb58ce2d539c', 'English', '2d277e7fa6384bf3a557ad8e87a92f43', 'bbf7b5e0d6c74ca09ad4d9ee30661ee8', '2025-05-11 08:04:41.186236', '2025-05-11 08:04:41.186238')
2025-05-11 08:04:41,186 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s (insertmanyvalues) 1/1 (unordered)] ('dea725d4822748178826e1d21f65a273', 'Mathematics', '2d277e7fa6384bf3a557ad8e87a92f43', 'bbf7b5e0d6c74ca09ad4d9ee30661ee8', '2025-05-11 08:04:41.186192', '2025-05-11 08:04:41.186198', '66b9800e0cd5499aa96746d25cd94920', 'Physics', '2d277e7fa6384bf3a557ad8e87a92f43', 'bbf7b5e0d6c74ca09ad4d9ee30661ee8', '2025-05-11 08:04:41.186207', '2025-05-11 08:04:41.186211', '97e1d2a8f383477eb9131875c30b69fe', 'Chemistry', '2d277e7fa6384bf3a557ad8e87a92f43', 'bbf7b5e0d6c74ca09ad4d9ee30661ee8', '2025-05-11 08:04:41.186218', '2025-05-11 08:04:41.186221', 'c0357bd32347475ab9acb5cd89d4af0a', 'Biology', '2d277e7fa6384bf3a557ad8e87a92f43', 'bbf7b5e0d6c74ca09ad4d9ee30661ee8', '2025-05-11 08:04:41.186228', '2025-05-11 08:04:41.186231', '5cd4e2c8de6f46cb9730eb58ce2d539c', 'English', '2d277e7fa6384bf3a557ad8e87a92f43', 'bbf7b5e0d6c74ca09ad4d9ee30661ee8', '2025-05-11 08:04:41.186236', '2025-05-11 08:04:41.186238')
2025-05-11 08:04:41,189 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:04:41,189 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:04:41,197 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:04:41,197 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:04:41,199 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:04:41,199 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:04:41,199 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('dea725d4822748178826e1d21f65a273',)
2025-05-11 08:04:41,199 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('dea725d4822748178826e1d21f65a273',)
2025-05-11 08:04:41,204 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:04:41,204 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:04:41,205 - sqlalchemy.engine.Engine - INFO - [cached since 0.005898s ago] ('66b9800e0cd5499aa96746d25cd94920',)
2025-05-11 08:04:41,205 - sqlalchemy.engine.Engine - INFO - [cached since 0.005898s ago] ('66b9800e0cd5499aa96746d25cd94920',)
2025-05-11 08:04:41,209 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:04:41,209 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:04:41,209 - sqlalchemy.engine.Engine - INFO - [cached since 0.01051s ago] ('97e1d2a8f383477eb9131875c30b69fe',)
2025-05-11 08:04:41,209 - sqlalchemy.engine.Engine - INFO - [cached since 0.01051s ago] ('97e1d2a8f383477eb9131875c30b69fe',)
2025-05-11 08:04:41,212 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:04:41,212 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:04:41,212 - sqlalchemy.engine.Engine - INFO - [cached since 0.01346s ago] ('c0357bd32347475ab9acb5cd89d4af0a',)
2025-05-11 08:04:41,212 - sqlalchemy.engine.Engine - INFO - [cached since 0.01346s ago] ('c0357bd32347475ab9acb5cd89d4af0a',)
2025-05-11 08:04:41,215 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:04:41,215 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:04:41,215 - sqlalchemy.engine.Engine - INFO - [cached since 0.0161s ago] ('5cd4e2c8de6f46cb9730eb58ce2d539c',)
2025-05-11 08:04:41,215 - sqlalchemy.engine.Engine - INFO - [cached since 0.0161s ago] ('5cd4e2c8de6f46cb9730eb58ce2d539c',)
2025-05-11 08:04:41,220 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:04:41,220 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:04:41,220 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s (insertmanyvalues) 1/1 (unordered)] ('6478d39e1db449d7af5a30e94f84b63d', None, 'John Doe', 'homeroom_teacher', None, '2d277e7fa6384bf3a557ad8e87a92f43', '2025-05-11 08:04:41.220169', '2025-05-11 08:04:41.220179', '8a03ab4a704349fb8fc7fa62e3141d96', None, 'Jane Smith', 'subject_teacher', None, '2d277e7fa6384bf3a557ad8e87a92f43', '2025-05-11 08:04:41.220185', '2025-05-11 08:04:41.220187', '8aad92ae0b9f4b37aba11b415d308f44', None, 'Bob Johnson', 'subject_teacher', None, '2d277e7fa6384bf3a557ad8e87a92f43', '2025-05-11 08:04:41.220193', '2025-05-11 08:04:41.220195')
2025-05-11 08:04:41,220 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s (insertmanyvalues) 1/1 (unordered)] ('6478d39e1db449d7af5a30e94f84b63d', None, 'John Doe', 'homeroom_teacher', None, '2d277e7fa6384bf3a557ad8e87a92f43', '2025-05-11 08:04:41.220169', '2025-05-11 08:04:41.220179', '8a03ab4a704349fb8fc7fa62e3141d96', None, 'Jane Smith', 'subject_teacher', None, '2d277e7fa6384bf3a557ad8e87a92f43', '2025-05-11 08:04:41.220185', '2025-05-11 08:04:41.220187', '8aad92ae0b9f4b37aba11b415d308f44', None, 'Bob Johnson', 'subject_teacher', None, '2d277e7fa6384bf3a557ad8e87a92f43', '2025-05-11 08:04:41.220193', '2025-05-11 08:04:41.220195')
2025-05-11 08:04:41,223 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 08:04:41,223 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 08:04:41,224 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] [('8a03ab4a704349fb8fc7fa62e3141d96', 'c0357bd32347475ab9acb5cd89d4af0a'), ('6478d39e1db449d7af5a30e94f84b63d', 'dea725d4822748178826e1d21f65a273'), ('8aad92ae0b9f4b37aba11b415d308f44', '5cd4e2c8de6f46cb9730eb58ce2d539c'), ('6478d39e1db449d7af5a30e94f84b63d', '66b9800e0cd5499aa96746d25cd94920'), ('8a03ab4a704349fb8fc7fa62e3141d96', '97e1d2a8f383477eb9131875c30b69fe')]
2025-05-11 08:04:41,224 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] [('8a03ab4a704349fb8fc7fa62e3141d96', 'c0357bd32347475ab9acb5cd89d4af0a'), ('6478d39e1db449d7af5a30e94f84b63d', 'dea725d4822748178826e1d21f65a273'), ('8aad92ae0b9f4b37aba11b415d308f44', '5cd4e2c8de6f46cb9730eb58ce2d539c'), ('6478d39e1db449d7af5a30e94f84b63d', '66b9800e0cd5499aa96746d25cd94920'), ('8a03ab4a704349fb8fc7fa62e3141d96', '97e1d2a8f383477eb9131875c30b69fe')]
2025-05-11 08:04:41,226 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:04:41,226 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:04:41,232 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:04:41,232 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:04:41,234 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:04:41,234 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:04:41,234 - sqlalchemy.engine.Engine - INFO - [generated in 0.00063s] ('6478d39e1db449d7af5a30e94f84b63d',)
2025-05-11 08:04:41,234 - sqlalchemy.engine.Engine - INFO - [generated in 0.00063s] ('6478d39e1db449d7af5a30e94f84b63d',)
2025-05-11 08:04:41,236 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:04:41,236 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:04:41,237 - sqlalchemy.engine.Engine - INFO - [cached since 0.002975s ago] ('8a03ab4a704349fb8fc7fa62e3141d96',)
2025-05-11 08:04:41,237 - sqlalchemy.engine.Engine - INFO - [cached since 0.002975s ago] ('8a03ab4a704349fb8fc7fa62e3141d96',)
2025-05-11 08:04:41,239 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:04:41,239 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:04:41,240 - sqlalchemy.engine.Engine - INFO - [cached since 0.006054s ago] ('8aad92ae0b9f4b37aba11b415d308f44',)
2025-05-11 08:04:41,240 - sqlalchemy.engine.Engine - INFO - [cached since 0.006054s ago] ('8aad92ae0b9f4b37aba11b415d308f44',)
2025-05-11 08:04:41,244 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 08:04:41,244 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 08:04:41,244 - sqlalchemy.engine.Engine - INFO - [generated in 0.00065s] ('bbf7b5e0d6c74ca09ad4d9ee30661ee8', '2025-05-11 08:04:41.244131', '6478d39e1db449d7af5a30e94f84b63d')
2025-05-11 08:04:41,244 - sqlalchemy.engine.Engine - INFO - [generated in 0.00065s] ('bbf7b5e0d6c74ca09ad4d9ee30661ee8', '2025-05-11 08:04:41.244131', '6478d39e1db449d7af5a30e94f84b63d')
2025-05-11 08:04:41,247 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:04:41,247 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:04:41,251 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:04:41,251 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:04:41,252 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:04:41,252 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:04:41,253 - sqlalchemy.engine.Engine - INFO - [cached since 0.01872s ago] ('6478d39e1db449d7af5a30e94f84b63d',)
2025-05-11 08:04:41,253 - sqlalchemy.engine.Engine - INFO - [cached since 0.01872s ago] ('6478d39e1db449d7af5a30e94f84b63d',)
2025-05-11 08:04:41,254 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 08:04:41,254 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 08:04:41,254 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 08:04:41,254 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 08:04:41,413 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 08:04:41,413 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 08:05:52,892 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:05:52,892 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:05:52,893 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 08:05:52,893 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 08:05:52,893 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:05:52,893 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:05:52,894 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 08:05:52,894 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 08:05:52,895 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:05:52,895 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:05:52,896 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 08:05:52,896 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 08:05:52,896 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:05:52,896 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:05:52,897 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 08:05:52,897 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 08:05:52,897 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:05:52,897 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:05:52,898 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 08:05:52,898 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 08:05:52,899 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:05:52,899 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:05:52,900 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 08:05:52,900 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 08:05:52,900 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:05:52,900 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:05:52,901 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 08:05:52,901 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 08:05:52,901 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:05:52,901 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:05:52,902 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 08:05:52,902 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 08:05:52,902 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:05:52,902 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:05:52,903 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 08:05:52,903 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 08:05:52,903 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:05:52,903 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:05:52,905 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:05:52,905 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:05:52,906 - fastapi_app - INFO - Database models initialized
2025-05-11 08:05:52,906 - fastapi_app - INFO - Database models initialized
2025-05-11 08:05:52,906 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 08:05:52,906 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 08:05:52,944 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:05:52,944 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:05:52,947 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:05:52,947 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:05:52,947 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('a50753ba76384a828d43ab3f460c2d46', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 08:05:52.947189', '2025-05-11 08:05:52.947196')
2025-05-11 08:05:52,947 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('a50753ba76384a828d43ab3f460c2d46', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 08:05:52.947189', '2025-05-11 08:05:52.947196')
2025-05-11 08:05:52,949 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:05:52,949 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:05:52,953 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:05:52,953 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:05:52,956 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 08:05:52,956 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 08:05:52,956 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('a50753ba76384a828d43ab3f460c2d46',)
2025-05-11 08:05:52,956 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('a50753ba76384a828d43ab3f460c2d46',)
2025-05-11 08:05:52,960 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 08:05:52,960 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 08:05:52,960 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('b38e4ee77cd748bbb0d4d752e89af707', '9A', 2024, 'a50753ba76384a828d43ab3f460c2d46', '2025-05-11 08:05:52.960190', '2025-05-11 08:05:52.960196')
2025-05-11 08:05:52,960 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('b38e4ee77cd748bbb0d4d752e89af707', '9A', 2024, 'a50753ba76384a828d43ab3f460c2d46', '2025-05-11 08:05:52.960190', '2025-05-11 08:05:52.960196')
2025-05-11 08:05:52,961 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:05:52,961 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:05:52,966 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:05:52,966 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:05:52,968 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 08:05:52,968 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 08:05:52,969 - sqlalchemy.engine.Engine - INFO - [generated in 0.00064s] ('b38e4ee77cd748bbb0d4d752e89af707',)
2025-05-11 08:05:52,969 - sqlalchemy.engine.Engine - INFO - [generated in 0.00064s] ('b38e4ee77cd748bbb0d4d752e89af707',)
2025-05-11 08:05:52,973 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 08:05:52,973 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 08:05:52,974 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s (insertmanyvalues) 1/1 (unordered)] ('54f3d16d8c9f44bc83af91aab4e86876', 'Mathematics', 'a50753ba76384a828d43ab3f460c2d46', 'b38e4ee77cd748bbb0d4d752e89af707', '2025-05-11 08:05:52.973596', '2025-05-11 08:05:52.973605', '123bc10225714d0898ddd19a14313aae', 'Physics', 'a50753ba76384a828d43ab3f460c2d46', 'b38e4ee77cd748bbb0d4d752e89af707', '2025-05-11 08:05:52.973612', '2025-05-11 08:05:52.973615', '8dfd42d3f8d94bcba8c9d048f8df94a9', 'Chemistry', 'a50753ba76384a828d43ab3f460c2d46', 'b38e4ee77cd748bbb0d4d752e89af707', '2025-05-11 08:05:52.973622', '2025-05-11 08:05:52.973625', '16f22dd715b04d4cadbd75dfbbcd3946', 'Biology', 'a50753ba76384a828d43ab3f460c2d46', 'b38e4ee77cd748bbb0d4d752e89af707', '2025-05-11 08:05:52.973631', '2025-05-11 08:05:52.973635', '4e229b3dbc19403997990a95cca561b7', 'English', 'a50753ba76384a828d43ab3f460c2d46', 'b38e4ee77cd748bbb0d4d752e89af707', '2025-05-11 08:05:52.973640', '2025-05-11 08:05:52.973643')
2025-05-11 08:05:52,974 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s (insertmanyvalues) 1/1 (unordered)] ('54f3d16d8c9f44bc83af91aab4e86876', 'Mathematics', 'a50753ba76384a828d43ab3f460c2d46', 'b38e4ee77cd748bbb0d4d752e89af707', '2025-05-11 08:05:52.973596', '2025-05-11 08:05:52.973605', '123bc10225714d0898ddd19a14313aae', 'Physics', 'a50753ba76384a828d43ab3f460c2d46', 'b38e4ee77cd748bbb0d4d752e89af707', '2025-05-11 08:05:52.973612', '2025-05-11 08:05:52.973615', '8dfd42d3f8d94bcba8c9d048f8df94a9', 'Chemistry', 'a50753ba76384a828d43ab3f460c2d46', 'b38e4ee77cd748bbb0d4d752e89af707', '2025-05-11 08:05:52.973622', '2025-05-11 08:05:52.973625', '16f22dd715b04d4cadbd75dfbbcd3946', 'Biology', 'a50753ba76384a828d43ab3f460c2d46', 'b38e4ee77cd748bbb0d4d752e89af707', '2025-05-11 08:05:52.973631', '2025-05-11 08:05:52.973635', '4e229b3dbc19403997990a95cca561b7', 'English', 'a50753ba76384a828d43ab3f460c2d46', 'b38e4ee77cd748bbb0d4d752e89af707', '2025-05-11 08:05:52.973640', '2025-05-11 08:05:52.973643')
2025-05-11 08:05:52,975 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:05:52,975 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:05:52,980 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:05:52,980 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:05:52,982 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:05:52,982 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:05:52,982 - sqlalchemy.engine.Engine - INFO - [generated in 0.00066s] ('54f3d16d8c9f44bc83af91aab4e86876',)
2025-05-11 08:05:52,982 - sqlalchemy.engine.Engine - INFO - [generated in 0.00066s] ('54f3d16d8c9f44bc83af91aab4e86876',)
2025-05-11 08:05:52,984 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:05:52,984 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:05:52,984 - sqlalchemy.engine.Engine - INFO - [cached since 0.003073s ago] ('123bc10225714d0898ddd19a14313aae',)
2025-05-11 08:05:52,984 - sqlalchemy.engine.Engine - INFO - [cached since 0.003073s ago] ('123bc10225714d0898ddd19a14313aae',)
2025-05-11 08:05:52,986 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:05:52,986 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:05:52,986 - sqlalchemy.engine.Engine - INFO - [cached since 0.004647s ago] ('8dfd42d3f8d94bcba8c9d048f8df94a9',)
2025-05-11 08:05:52,986 - sqlalchemy.engine.Engine - INFO - [cached since 0.004647s ago] ('8dfd42d3f8d94bcba8c9d048f8df94a9',)
2025-05-11 08:05:52,988 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:05:52,988 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:05:52,988 - sqlalchemy.engine.Engine - INFO - [cached since 0.006672s ago] ('16f22dd715b04d4cadbd75dfbbcd3946',)
2025-05-11 08:05:52,988 - sqlalchemy.engine.Engine - INFO - [cached since 0.006672s ago] ('16f22dd715b04d4cadbd75dfbbcd3946',)
2025-05-11 08:05:52,991 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:05:52,991 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:05:52,991 - sqlalchemy.engine.Engine - INFO - [cached since 0.009641s ago] ('4e229b3dbc19403997990a95cca561b7',)
2025-05-11 08:05:52,991 - sqlalchemy.engine.Engine - INFO - [cached since 0.009641s ago] ('4e229b3dbc19403997990a95cca561b7',)
2025-05-11 08:05:52,996 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:05:52,996 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:05:52,997 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s (insertmanyvalues) 1/1 (unordered)] ('f8941b5b7edb42b79a5cbde47b5aef9b', None, 'John Doe', 'homeroom_teacher', None, 'a50753ba76384a828d43ab3f460c2d46', '2025-05-11 08:05:52.996684', '2025-05-11 08:05:52.996690', '281836c987144e779f375f5c28e7c617', None, 'Jane Smith', 'subject_teacher', None, 'a50753ba76384a828d43ab3f460c2d46', '2025-05-11 08:05:52.996698', '2025-05-11 08:05:52.996702', 'fee5f4eae6254e2898f1be8a9f98079f', None, 'Bob Johnson', 'subject_teacher', None, 'a50753ba76384a828d43ab3f460c2d46', '2025-05-11 08:05:52.996726', '2025-05-11 08:05:52.996729')
2025-05-11 08:05:52,997 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s (insertmanyvalues) 1/1 (unordered)] ('f8941b5b7edb42b79a5cbde47b5aef9b', None, 'John Doe', 'homeroom_teacher', None, 'a50753ba76384a828d43ab3f460c2d46', '2025-05-11 08:05:52.996684', '2025-05-11 08:05:52.996690', '281836c987144e779f375f5c28e7c617', None, 'Jane Smith', 'subject_teacher', None, 'a50753ba76384a828d43ab3f460c2d46', '2025-05-11 08:05:52.996698', '2025-05-11 08:05:52.996702', 'fee5f4eae6254e2898f1be8a9f98079f', None, 'Bob Johnson', 'subject_teacher', None, 'a50753ba76384a828d43ab3f460c2d46', '2025-05-11 08:05:52.996726', '2025-05-11 08:05:52.996729')
2025-05-11 08:05:52,999 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 08:05:52,999 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 08:05:53,000 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] [('281836c987144e779f375f5c28e7c617', '16f22dd715b04d4cadbd75dfbbcd3946'), ('f8941b5b7edb42b79a5cbde47b5aef9b', '54f3d16d8c9f44bc83af91aab4e86876'), ('fee5f4eae6254e2898f1be8a9f98079f', '4e229b3dbc19403997990a95cca561b7'), ('f8941b5b7edb42b79a5cbde47b5aef9b', '123bc10225714d0898ddd19a14313aae'), ('281836c987144e779f375f5c28e7c617', '8dfd42d3f8d94bcba8c9d048f8df94a9')]
2025-05-11 08:05:53,000 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] [('281836c987144e779f375f5c28e7c617', '16f22dd715b04d4cadbd75dfbbcd3946'), ('f8941b5b7edb42b79a5cbde47b5aef9b', '54f3d16d8c9f44bc83af91aab4e86876'), ('fee5f4eae6254e2898f1be8a9f98079f', '4e229b3dbc19403997990a95cca561b7'), ('f8941b5b7edb42b79a5cbde47b5aef9b', '123bc10225714d0898ddd19a14313aae'), ('281836c987144e779f375f5c28e7c617', '8dfd42d3f8d94bcba8c9d048f8df94a9')]
2025-05-11 08:05:53,001 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:05:53,001 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:05:53,005 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:05:53,005 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:05:53,006 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:05:53,006 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:05:53,007 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('f8941b5b7edb42b79a5cbde47b5aef9b',)
2025-05-11 08:05:53,007 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('f8941b5b7edb42b79a5cbde47b5aef9b',)
2025-05-11 08:05:53,009 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:05:53,009 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:05:53,009 - sqlalchemy.engine.Engine - INFO - [cached since 0.002849s ago] ('281836c987144e779f375f5c28e7c617',)
2025-05-11 08:05:53,009 - sqlalchemy.engine.Engine - INFO - [cached since 0.002849s ago] ('281836c987144e779f375f5c28e7c617',)
2025-05-11 08:05:53,012 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:05:53,012 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:05:53,013 - sqlalchemy.engine.Engine - INFO - [cached since 0.006228s ago] ('fee5f4eae6254e2898f1be8a9f98079f',)
2025-05-11 08:05:53,013 - sqlalchemy.engine.Engine - INFO - [cached since 0.006228s ago] ('fee5f4eae6254e2898f1be8a9f98079f',)
2025-05-11 08:05:53,016 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 08:05:53,016 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 08:05:53,016 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('b38e4ee77cd748bbb0d4d752e89af707', '2025-05-11 08:05:53.016051', 'f8941b5b7edb42b79a5cbde47b5aef9b')
2025-05-11 08:05:53,016 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('b38e4ee77cd748bbb0d4d752e89af707', '2025-05-11 08:05:53.016051', 'f8941b5b7edb42b79a5cbde47b5aef9b')
2025-05-11 08:05:53,017 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:05:53,017 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:05:53,021 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:05:53,021 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:05:53,022 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:05:53,022 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:05:53,022 - sqlalchemy.engine.Engine - INFO - [cached since 0.01573s ago] ('f8941b5b7edb42b79a5cbde47b5aef9b',)
2025-05-11 08:05:53,022 - sqlalchemy.engine.Engine - INFO - [cached since 0.01573s ago] ('f8941b5b7edb42b79a5cbde47b5aef9b',)
2025-05-11 08:05:53,024 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 08:05:53,024 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 08:05:53,024 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 08:05:53,024 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 08:05:53,136 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 08:05:53,136 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 08:06:01,301 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:01,301 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:01,302 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 08:06:01,302 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 08:06:01,302 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:01,302 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:01,304 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 08:06:01,304 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 08:06:01,304 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:01,304 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:01,305 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 08:06:01,305 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 08:06:01,305 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:01,305 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:01,306 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 08:06:01,306 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 08:06:01,306 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:01,306 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:01,307 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 08:06:01,307 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 08:06:01,307 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:01,307 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:01,308 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 08:06:01,308 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 08:06:01,308 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:01,308 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:01,309 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 08:06:01,309 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 08:06:01,309 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:01,309 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:01,310 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 08:06:01,310 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 08:06:01,310 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:01,310 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:01,311 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 08:06:01,311 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 08:06:01,311 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:01,311 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:01,312 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:01,312 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:01,313 - fastapi_app - INFO - Database models initialized
2025-05-11 08:06:01,313 - fastapi_app - INFO - Database models initialized
2025-05-11 08:06:01,313 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 08:06:01,313 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 08:06:01,336 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:01,336 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:01,338 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:06:01,338 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:06:01,338 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('6c0f56d35df44a6e8d6dd5a6deb7c0b7', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 08:06:01.338184', '2025-05-11 08:06:01.338188')
2025-05-11 08:06:01,338 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('6c0f56d35df44a6e8d6dd5a6deb7c0b7', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 08:06:01.338184', '2025-05-11 08:06:01.338188')
2025-05-11 08:06:01,339 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:01,339 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:01,345 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:01,345 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:01,348 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 08:06:01,348 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 08:06:01,349 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('6c0f56d35df44a6e8d6dd5a6deb7c0b7',)
2025-05-11 08:06:01,349 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('6c0f56d35df44a6e8d6dd5a6deb7c0b7',)
2025-05-11 08:06:01,351 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 08:06:01,351 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 08:06:01,352 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('10876a9465e7442aa942726ab166988f', '9A', 2024, '6c0f56d35df44a6e8d6dd5a6deb7c0b7', '2025-05-11 08:06:01.351923', '2025-05-11 08:06:01.351928')
2025-05-11 08:06:01,352 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('10876a9465e7442aa942726ab166988f', '9A', 2024, '6c0f56d35df44a6e8d6dd5a6deb7c0b7', '2025-05-11 08:06:01.351923', '2025-05-11 08:06:01.351928')
2025-05-11 08:06:01,353 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:01,353 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:01,357 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:01,357 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:01,358 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 08:06:01,358 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 08:06:01,358 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('10876a9465e7442aa942726ab166988f',)
2025-05-11 08:06:01,358 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('10876a9465e7442aa942726ab166988f',)
2025-05-11 08:06:01,362 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 08:06:01,362 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 08:06:01,362 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/1 (unordered)] ('8ddefb962c1e402992c0a2de5f8115bc', 'Mathematics', '6c0f56d35df44a6e8d6dd5a6deb7c0b7', '10876a9465e7442aa942726ab166988f', '2025-05-11 08:06:01.361951', '2025-05-11 08:06:01.361955', '5bc1dfeef83146a9913ed65304908e9a', 'Physics', '6c0f56d35df44a6e8d6dd5a6deb7c0b7', '10876a9465e7442aa942726ab166988f', '2025-05-11 08:06:01.361961', '2025-05-11 08:06:01.361963', 'ddde6a8caac94a7e83a6c504c58f6327', 'Chemistry', '6c0f56d35df44a6e8d6dd5a6deb7c0b7', '10876a9465e7442aa942726ab166988f', '2025-05-11 08:06:01.361969', '2025-05-11 08:06:01.361971', '5bb5a83c68604eb7abea1fbeff838564', 'Biology', '6c0f56d35df44a6e8d6dd5a6deb7c0b7', '10876a9465e7442aa942726ab166988f', '2025-05-11 08:06:01.361976', '2025-05-11 08:06:01.361979', 'd9e204013dd343608b3ff864c24c0d52', 'English', '6c0f56d35df44a6e8d6dd5a6deb7c0b7', '10876a9465e7442aa942726ab166988f', '2025-05-11 08:06:01.361984', '2025-05-11 08:06:01.361987')
2025-05-11 08:06:01,362 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/1 (unordered)] ('8ddefb962c1e402992c0a2de5f8115bc', 'Mathematics', '6c0f56d35df44a6e8d6dd5a6deb7c0b7', '10876a9465e7442aa942726ab166988f', '2025-05-11 08:06:01.361951', '2025-05-11 08:06:01.361955', '5bc1dfeef83146a9913ed65304908e9a', 'Physics', '6c0f56d35df44a6e8d6dd5a6deb7c0b7', '10876a9465e7442aa942726ab166988f', '2025-05-11 08:06:01.361961', '2025-05-11 08:06:01.361963', 'ddde6a8caac94a7e83a6c504c58f6327', 'Chemistry', '6c0f56d35df44a6e8d6dd5a6deb7c0b7', '10876a9465e7442aa942726ab166988f', '2025-05-11 08:06:01.361969', '2025-05-11 08:06:01.361971', '5bb5a83c68604eb7abea1fbeff838564', 'Biology', '6c0f56d35df44a6e8d6dd5a6deb7c0b7', '10876a9465e7442aa942726ab166988f', '2025-05-11 08:06:01.361976', '2025-05-11 08:06:01.361979', 'd9e204013dd343608b3ff864c24c0d52', 'English', '6c0f56d35df44a6e8d6dd5a6deb7c0b7', '10876a9465e7442aa942726ab166988f', '2025-05-11 08:06:01.361984', '2025-05-11 08:06:01.361987')
2025-05-11 08:06:01,363 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:01,363 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:01,367 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:01,367 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:01,369 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:01,369 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:01,369 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('8ddefb962c1e402992c0a2de5f8115bc',)
2025-05-11 08:06:01,369 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('8ddefb962c1e402992c0a2de5f8115bc',)
2025-05-11 08:06:01,370 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:01,370 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:01,371 - sqlalchemy.engine.Engine - INFO - [cached since 0.002152s ago] ('5bc1dfeef83146a9913ed65304908e9a',)
2025-05-11 08:06:01,371 - sqlalchemy.engine.Engine - INFO - [cached since 0.002152s ago] ('5bc1dfeef83146a9913ed65304908e9a',)
2025-05-11 08:06:01,372 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:01,372 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:01,372 - sqlalchemy.engine.Engine - INFO - [cached since 0.003958s ago] ('ddde6a8caac94a7e83a6c504c58f6327',)
2025-05-11 08:06:01,372 - sqlalchemy.engine.Engine - INFO - [cached since 0.003958s ago] ('ddde6a8caac94a7e83a6c504c58f6327',)
2025-05-11 08:06:01,374 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:01,374 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:01,374 - sqlalchemy.engine.Engine - INFO - [cached since 0.005448s ago] ('5bb5a83c68604eb7abea1fbeff838564',)
2025-05-11 08:06:01,374 - sqlalchemy.engine.Engine - INFO - [cached since 0.005448s ago] ('5bb5a83c68604eb7abea1fbeff838564',)
2025-05-11 08:06:01,375 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:01,375 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:01,375 - sqlalchemy.engine.Engine - INFO - [cached since 0.006917s ago] ('d9e204013dd343608b3ff864c24c0d52',)
2025-05-11 08:06:01,375 - sqlalchemy.engine.Engine - INFO - [cached since 0.006917s ago] ('d9e204013dd343608b3ff864c24c0d52',)
2025-05-11 08:06:01,379 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:06:01,379 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:06:01,379 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s (insertmanyvalues) 1/1 (unordered)] ('fed85a18bf1d47a7af00fcb5857250e9', None, 'John Doe', 'homeroom_teacher', None, '6c0f56d35df44a6e8d6dd5a6deb7c0b7', '2025-05-11 08:06:01.379356', '2025-05-11 08:06:01.379362', '1fbf763ee1cc4d5698c6dd574455c19c', None, 'Jane Smith', 'subject_teacher', None, '6c0f56d35df44a6e8d6dd5a6deb7c0b7', '2025-05-11 08:06:01.379372', '2025-05-11 08:06:01.379374', 'b40cb8bafa8b4ded899eee7b74c7fdbd', None, 'Bob Johnson', 'subject_teacher', None, '6c0f56d35df44a6e8d6dd5a6deb7c0b7', '2025-05-11 08:06:01.379382', '2025-05-11 08:06:01.379384')
2025-05-11 08:06:01,379 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s (insertmanyvalues) 1/1 (unordered)] ('fed85a18bf1d47a7af00fcb5857250e9', None, 'John Doe', 'homeroom_teacher', None, '6c0f56d35df44a6e8d6dd5a6deb7c0b7', '2025-05-11 08:06:01.379356', '2025-05-11 08:06:01.379362', '1fbf763ee1cc4d5698c6dd574455c19c', None, 'Jane Smith', 'subject_teacher', None, '6c0f56d35df44a6e8d6dd5a6deb7c0b7', '2025-05-11 08:06:01.379372', '2025-05-11 08:06:01.379374', 'b40cb8bafa8b4ded899eee7b74c7fdbd', None, 'Bob Johnson', 'subject_teacher', None, '6c0f56d35df44a6e8d6dd5a6deb7c0b7', '2025-05-11 08:06:01.379382', '2025-05-11 08:06:01.379384')
2025-05-11 08:06:01,381 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 08:06:01,381 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 08:06:01,381 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] [('1fbf763ee1cc4d5698c6dd574455c19c', '5bb5a83c68604eb7abea1fbeff838564'), ('fed85a18bf1d47a7af00fcb5857250e9', '8ddefb962c1e402992c0a2de5f8115bc'), ('b40cb8bafa8b4ded899eee7b74c7fdbd', 'd9e204013dd343608b3ff864c24c0d52'), ('fed85a18bf1d47a7af00fcb5857250e9', '5bc1dfeef83146a9913ed65304908e9a'), ('1fbf763ee1cc4d5698c6dd574455c19c', 'ddde6a8caac94a7e83a6c504c58f6327')]
2025-05-11 08:06:01,381 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] [('1fbf763ee1cc4d5698c6dd574455c19c', '5bb5a83c68604eb7abea1fbeff838564'), ('fed85a18bf1d47a7af00fcb5857250e9', '8ddefb962c1e402992c0a2de5f8115bc'), ('b40cb8bafa8b4ded899eee7b74c7fdbd', 'd9e204013dd343608b3ff864c24c0d52'), ('fed85a18bf1d47a7af00fcb5857250e9', '5bc1dfeef83146a9913ed65304908e9a'), ('1fbf763ee1cc4d5698c6dd574455c19c', 'ddde6a8caac94a7e83a6c504c58f6327')]
2025-05-11 08:06:01,383 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:01,383 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:01,387 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:01,387 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:01,388 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:01,388 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:01,389 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('fed85a18bf1d47a7af00fcb5857250e9',)
2025-05-11 08:06:01,389 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('fed85a18bf1d47a7af00fcb5857250e9',)
2025-05-11 08:06:01,390 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:01,390 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:01,390 - sqlalchemy.engine.Engine - INFO - [cached since 0.001968s ago] ('1fbf763ee1cc4d5698c6dd574455c19c',)
2025-05-11 08:06:01,390 - sqlalchemy.engine.Engine - INFO - [cached since 0.001968s ago] ('1fbf763ee1cc4d5698c6dd574455c19c',)
2025-05-11 08:06:01,392 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:01,392 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:01,392 - sqlalchemy.engine.Engine - INFO - [cached since 0.003497s ago] ('b40cb8bafa8b4ded899eee7b74c7fdbd',)
2025-05-11 08:06:01,392 - sqlalchemy.engine.Engine - INFO - [cached since 0.003497s ago] ('b40cb8bafa8b4ded899eee7b74c7fdbd',)
2025-05-11 08:06:01,395 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 08:06:01,395 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 08:06:01,395 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('10876a9465e7442aa942726ab166988f', '2025-05-11 08:06:01.395054', 'fed85a18bf1d47a7af00fcb5857250e9')
2025-05-11 08:06:01,395 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('10876a9465e7442aa942726ab166988f', '2025-05-11 08:06:01.395054', 'fed85a18bf1d47a7af00fcb5857250e9')
2025-05-11 08:06:01,396 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:01,396 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:01,401 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:01,401 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:01,401 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:01,401 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:01,402 - sqlalchemy.engine.Engine - INFO - [cached since 0.01309s ago] ('fed85a18bf1d47a7af00fcb5857250e9',)
2025-05-11 08:06:01,402 - sqlalchemy.engine.Engine - INFO - [cached since 0.01309s ago] ('fed85a18bf1d47a7af00fcb5857250e9',)
2025-05-11 08:06:01,403 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 08:06:01,403 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 08:06:01,403 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 08:06:01,403 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 08:06:01,542 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 08:06:01,542 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 08:06:47,581 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:47,581 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:47,582 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 08:06:47,582 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 08:06:47,582 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:47,582 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:47,583 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 08:06:47,583 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 08:06:47,583 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:47,583 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:47,584 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 08:06:47,584 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 08:06:47,585 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:47,585 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:47,586 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 08:06:47,586 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 08:06:47,586 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:47,586 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:47,587 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 08:06:47,587 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 08:06:47,588 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:47,588 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:47,588 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 08:06:47,588 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 08:06:47,589 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:47,589 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:47,589 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 08:06:47,589 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 08:06:47,590 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:47,590 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:47,590 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 08:06:47,590 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 08:06:47,591 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:47,591 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:47,591 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 08:06:47,591 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 08:06:47,592 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:47,592 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:47,592 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:47,592 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:47,593 - fastapi_app - INFO - Database models initialized
2025-05-11 08:06:47,593 - fastapi_app - INFO - Database models initialized
2025-05-11 08:06:47,593 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 08:06:47,593 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 08:06:47,624 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:47,624 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:47,627 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:06:47,627 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:06:47,627 - sqlalchemy.engine.Engine - INFO - [generated in 0.00078s] ('7f470fa2433f4cf78d91f4c304ad5d99', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 08:06:47.627449', '2025-05-11 08:06:47.627480')
2025-05-11 08:06:47,627 - sqlalchemy.engine.Engine - INFO - [generated in 0.00078s] ('7f470fa2433f4cf78d91f4c304ad5d99', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 08:06:47.627449', '2025-05-11 08:06:47.627480')
2025-05-11 08:06:47,630 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:47,630 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:47,638 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:47,638 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:47,641 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 08:06:47,641 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 08:06:47,641 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('7f470fa2433f4cf78d91f4c304ad5d99',)
2025-05-11 08:06:47,641 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('7f470fa2433f4cf78d91f4c304ad5d99',)
2025-05-11 08:06:47,644 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 08:06:47,644 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 08:06:47,644 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('a0acbbe34418495b817a464699152d95', '9A', 2024, '7f470fa2433f4cf78d91f4c304ad5d99', '2025-05-11 08:06:47.643926', '2025-05-11 08:06:47.643931')
2025-05-11 08:06:47,644 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('a0acbbe34418495b817a464699152d95', '9A', 2024, '7f470fa2433f4cf78d91f4c304ad5d99', '2025-05-11 08:06:47.643926', '2025-05-11 08:06:47.643931')
2025-05-11 08:06:47,645 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:47,645 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:47,650 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:47,650 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:47,652 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 08:06:47,652 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 08:06:47,652 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ('a0acbbe34418495b817a464699152d95',)
2025-05-11 08:06:47,652 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ('a0acbbe34418495b817a464699152d95',)
2025-05-11 08:06:47,657 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 08:06:47,657 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 08:06:47,658 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s (insertmanyvalues) 1/1 (unordered)] ('157d81d5876f4bd28dd1d8e26df3dd87', 'Mathematics', '7f470fa2433f4cf78d91f4c304ad5d99', 'a0acbbe34418495b817a464699152d95', '2025-05-11 08:06:47.657445', '2025-05-11 08:06:47.657454', 'c9d4c394839c4145a6a5505a276bab07', 'Physics', '7f470fa2433f4cf78d91f4c304ad5d99', 'a0acbbe34418495b817a464699152d95', '2025-05-11 08:06:47.657486', '2025-05-11 08:06:47.657489', '8649d250890947cabf5b1c02856fc54d', 'Chemistry', '7f470fa2433f4cf78d91f4c304ad5d99', 'a0acbbe34418495b817a464699152d95', '2025-05-11 08:06:47.657496', '2025-05-11 08:06:47.657499', '76693ed78ab649b480028986f0cd661b', 'Biology', '7f470fa2433f4cf78d91f4c304ad5d99', 'a0acbbe34418495b817a464699152d95', '2025-05-11 08:06:47.657506', '2025-05-11 08:06:47.657508', '58ffe66dcc994149adda4e58326155ba', 'English', '7f470fa2433f4cf78d91f4c304ad5d99', 'a0acbbe34418495b817a464699152d95', '2025-05-11 08:06:47.657513', '2025-05-11 08:06:47.657515')
2025-05-11 08:06:47,658 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s (insertmanyvalues) 1/1 (unordered)] ('157d81d5876f4bd28dd1d8e26df3dd87', 'Mathematics', '7f470fa2433f4cf78d91f4c304ad5d99', 'a0acbbe34418495b817a464699152d95', '2025-05-11 08:06:47.657445', '2025-05-11 08:06:47.657454', 'c9d4c394839c4145a6a5505a276bab07', 'Physics', '7f470fa2433f4cf78d91f4c304ad5d99', 'a0acbbe34418495b817a464699152d95', '2025-05-11 08:06:47.657486', '2025-05-11 08:06:47.657489', '8649d250890947cabf5b1c02856fc54d', 'Chemistry', '7f470fa2433f4cf78d91f4c304ad5d99', 'a0acbbe34418495b817a464699152d95', '2025-05-11 08:06:47.657496', '2025-05-11 08:06:47.657499', '76693ed78ab649b480028986f0cd661b', 'Biology', '7f470fa2433f4cf78d91f4c304ad5d99', 'a0acbbe34418495b817a464699152d95', '2025-05-11 08:06:47.657506', '2025-05-11 08:06:47.657508', '58ffe66dcc994149adda4e58326155ba', 'English', '7f470fa2433f4cf78d91f4c304ad5d99', 'a0acbbe34418495b817a464699152d95', '2025-05-11 08:06:47.657513', '2025-05-11 08:06:47.657515')
2025-05-11 08:06:47,660 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:47,660 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:47,665 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:47,665 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:47,666 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:47,666 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:47,666 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('157d81d5876f4bd28dd1d8e26df3dd87',)
2025-05-11 08:06:47,666 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('157d81d5876f4bd28dd1d8e26df3dd87',)
2025-05-11 08:06:47,668 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:47,668 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:47,669 - sqlalchemy.engine.Engine - INFO - [cached since 0.002759s ago] ('c9d4c394839c4145a6a5505a276bab07',)
2025-05-11 08:06:47,669 - sqlalchemy.engine.Engine - INFO - [cached since 0.002759s ago] ('c9d4c394839c4145a6a5505a276bab07',)
2025-05-11 08:06:47,670 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:47,670 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:47,671 - sqlalchemy.engine.Engine - INFO - [cached since 0.004835s ago] ('8649d250890947cabf5b1c02856fc54d',)
2025-05-11 08:06:47,671 - sqlalchemy.engine.Engine - INFO - [cached since 0.004835s ago] ('8649d250890947cabf5b1c02856fc54d',)
2025-05-11 08:06:47,673 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:47,673 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:47,673 - sqlalchemy.engine.Engine - INFO - [cached since 0.007139s ago] ('76693ed78ab649b480028986f0cd661b',)
2025-05-11 08:06:47,673 - sqlalchemy.engine.Engine - INFO - [cached since 0.007139s ago] ('76693ed78ab649b480028986f0cd661b',)
2025-05-11 08:06:47,676 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:47,676 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:47,676 - sqlalchemy.engine.Engine - INFO - [cached since 0.009851s ago] ('58ffe66dcc994149adda4e58326155ba',)
2025-05-11 08:06:47,676 - sqlalchemy.engine.Engine - INFO - [cached since 0.009851s ago] ('58ffe66dcc994149adda4e58326155ba',)
2025-05-11 08:06:47,679 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:06:47,679 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:06:47,680 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s (insertmanyvalues) 1/1 (unordered)] ('11262ecde8d448c29f16f7fc0030b5b5', None, 'John Doe', 'homeroom_teacher', None, '7f470fa2433f4cf78d91f4c304ad5d99', '2025-05-11 08:06:47.679707', '2025-05-11 08:06:47.679715', '68563e353b154f85a9903f0d2d841ecc', None, 'Jane Smith', 'subject_teacher', None, '7f470fa2433f4cf78d91f4c304ad5d99', '2025-05-11 08:06:47.679722', '2025-05-11 08:06:47.679724', 'a1d2275a78124c3bbde55ffea86f5c54', None, 'Bob Johnson', 'subject_teacher', None, '7f470fa2433f4cf78d91f4c304ad5d99', '2025-05-11 08:06:47.679730', '2025-05-11 08:06:47.679732')
2025-05-11 08:06:47,680 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s (insertmanyvalues) 1/1 (unordered)] ('11262ecde8d448c29f16f7fc0030b5b5', None, 'John Doe', 'homeroom_teacher', None, '7f470fa2433f4cf78d91f4c304ad5d99', '2025-05-11 08:06:47.679707', '2025-05-11 08:06:47.679715', '68563e353b154f85a9903f0d2d841ecc', None, 'Jane Smith', 'subject_teacher', None, '7f470fa2433f4cf78d91f4c304ad5d99', '2025-05-11 08:06:47.679722', '2025-05-11 08:06:47.679724', 'a1d2275a78124c3bbde55ffea86f5c54', None, 'Bob Johnson', 'subject_teacher', None, '7f470fa2433f4cf78d91f4c304ad5d99', '2025-05-11 08:06:47.679730', '2025-05-11 08:06:47.679732')
2025-05-11 08:06:47,682 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 08:06:47,682 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 08:06:47,682 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] [('11262ecde8d448c29f16f7fc0030b5b5', 'c9d4c394839c4145a6a5505a276bab07'), ('68563e353b154f85a9903f0d2d841ecc', '8649d250890947cabf5b1c02856fc54d'), ('68563e353b154f85a9903f0d2d841ecc', '76693ed78ab649b480028986f0cd661b'), ('11262ecde8d448c29f16f7fc0030b5b5', '157d81d5876f4bd28dd1d8e26df3dd87'), ('a1d2275a78124c3bbde55ffea86f5c54', '58ffe66dcc994149adda4e58326155ba')]
2025-05-11 08:06:47,682 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] [('11262ecde8d448c29f16f7fc0030b5b5', 'c9d4c394839c4145a6a5505a276bab07'), ('68563e353b154f85a9903f0d2d841ecc', '8649d250890947cabf5b1c02856fc54d'), ('68563e353b154f85a9903f0d2d841ecc', '76693ed78ab649b480028986f0cd661b'), ('11262ecde8d448c29f16f7fc0030b5b5', '157d81d5876f4bd28dd1d8e26df3dd87'), ('a1d2275a78124c3bbde55ffea86f5c54', '58ffe66dcc994149adda4e58326155ba')]
2025-05-11 08:06:47,684 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:47,684 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:47,691 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:47,691 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:47,693 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:47,693 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:47,693 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ('11262ecde8d448c29f16f7fc0030b5b5',)
2025-05-11 08:06:47,693 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ('11262ecde8d448c29f16f7fc0030b5b5',)
2025-05-11 08:06:47,695 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:47,695 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:47,696 - sqlalchemy.engine.Engine - INFO - [cached since 0.003151s ago] ('68563e353b154f85a9903f0d2d841ecc',)
2025-05-11 08:06:47,696 - sqlalchemy.engine.Engine - INFO - [cached since 0.003151s ago] ('68563e353b154f85a9903f0d2d841ecc',)
2025-05-11 08:06:47,698 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:47,698 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:47,699 - sqlalchemy.engine.Engine - INFO - [cached since 0.006013s ago] ('a1d2275a78124c3bbde55ffea86f5c54',)
2025-05-11 08:06:47,699 - sqlalchemy.engine.Engine - INFO - [cached since 0.006013s ago] ('a1d2275a78124c3bbde55ffea86f5c54',)
2025-05-11 08:06:47,702 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 08:06:47,702 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 08:06:47,702 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] ('a0acbbe34418495b817a464699152d95', '2025-05-11 08:06:47.702222', '11262ecde8d448c29f16f7fc0030b5b5')
2025-05-11 08:06:47,702 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] ('a0acbbe34418495b817a464699152d95', '2025-05-11 08:06:47.702222', '11262ecde8d448c29f16f7fc0030b5b5')
2025-05-11 08:06:47,704 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:47,704 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:47,710 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:47,710 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:47,711 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:47,711 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:47,711 - sqlalchemy.engine.Engine - INFO - [cached since 0.01825s ago] ('11262ecde8d448c29f16f7fc0030b5b5',)
2025-05-11 08:06:47,711 - sqlalchemy.engine.Engine - INFO - [cached since 0.01825s ago] ('11262ecde8d448c29f16f7fc0030b5b5',)
2025-05-11 08:06:47,712 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 08:06:47,712 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 08:06:47,713 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 08:06:47,713 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 08:06:47,841 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 08:06:47,841 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 08:06:55,444 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:55,444 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:55,445 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 08:06:55,445 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 08:06:55,445 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:55,445 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:55,446 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 08:06:55,446 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 08:06:55,446 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:55,446 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:55,448 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 08:06:55,448 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 08:06:55,448 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:55,448 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:55,449 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 08:06:55,449 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 08:06:55,449 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:55,449 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:55,449 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 08:06:55,449 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 08:06:55,450 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:55,450 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:55,450 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 08:06:55,450 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 08:06:55,450 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:55,450 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:55,451 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 08:06:55,451 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 08:06:55,451 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:55,451 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:55,452 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 08:06:55,452 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 08:06:55,452 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:55,452 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:55,452 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 08:06:55,452 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 08:06:55,453 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:55,453 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:06:55,454 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:55,454 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:55,454 - fastapi_app - INFO - Database models initialized
2025-05-11 08:06:55,454 - fastapi_app - INFO - Database models initialized
2025-05-11 08:06:55,455 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 08:06:55,455 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 08:06:55,489 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:55,489 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:55,491 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:06:55,491 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:06:55,491 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('00bcf288241a4ae2bd41dcb303b59e91', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 08:06:55.491260', '2025-05-11 08:06:55.491266')
2025-05-11 08:06:55,491 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('00bcf288241a4ae2bd41dcb303b59e91', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 08:06:55.491260', '2025-05-11 08:06:55.491266')
2025-05-11 08:06:55,492 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:55,492 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:55,500 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:55,500 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:55,502 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 08:06:55,502 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 08:06:55,502 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('00bcf288241a4ae2bd41dcb303b59e91',)
2025-05-11 08:06:55,502 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('00bcf288241a4ae2bd41dcb303b59e91',)
2025-05-11 08:06:55,505 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 08:06:55,505 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 08:06:55,505 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] ('627b93b257814f828c8b439a8a7cd6c5', '9A', 2024, '00bcf288241a4ae2bd41dcb303b59e91', '2025-05-11 08:06:55.505112', '2025-05-11 08:06:55.505117')
2025-05-11 08:06:55,505 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] ('627b93b257814f828c8b439a8a7cd6c5', '9A', 2024, '00bcf288241a4ae2bd41dcb303b59e91', '2025-05-11 08:06:55.505112', '2025-05-11 08:06:55.505117')
2025-05-11 08:06:55,507 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:55,507 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:55,511 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:55,511 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:55,512 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 08:06:55,512 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 08:06:55,512 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('627b93b257814f828c8b439a8a7cd6c5',)
2025-05-11 08:06:55,512 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('627b93b257814f828c8b439a8a7cd6c5',)
2025-05-11 08:06:55,516 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 08:06:55,516 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 08:06:55,516 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/1 (unordered)] ('8127359867274590b4b9fa1b59c90f00', 'Mathematics', '00bcf288241a4ae2bd41dcb303b59e91', '627b93b257814f828c8b439a8a7cd6c5', '2025-05-11 08:06:55.515956', '2025-05-11 08:06:55.515961', '5318c0d7d4c34e86a6a2686bfbabc8d7', 'Physics', '00bcf288241a4ae2bd41dcb303b59e91', '627b93b257814f828c8b439a8a7cd6c5', '2025-05-11 08:06:55.515967', '2025-05-11 08:06:55.515969', 'dc1519c57c3044649e540a11732c2b41', 'Chemistry', '00bcf288241a4ae2bd41dcb303b59e91', '627b93b257814f828c8b439a8a7cd6c5', '2025-05-11 08:06:55.515976', '2025-05-11 08:06:55.515978', 'f90907f03157433ca999e3682f45f63b', 'Biology', '00bcf288241a4ae2bd41dcb303b59e91', '627b93b257814f828c8b439a8a7cd6c5', '2025-05-11 08:06:55.515983', '2025-05-11 08:06:55.515985', 'fd7cf7490b8c4ae5b2608c2720eab98b', 'English', '00bcf288241a4ae2bd41dcb303b59e91', '627b93b257814f828c8b439a8a7cd6c5', '2025-05-11 08:06:55.515991', '2025-05-11 08:06:55.515992')
2025-05-11 08:06:55,516 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s (insertmanyvalues) 1/1 (unordered)] ('8127359867274590b4b9fa1b59c90f00', 'Mathematics', '00bcf288241a4ae2bd41dcb303b59e91', '627b93b257814f828c8b439a8a7cd6c5', '2025-05-11 08:06:55.515956', '2025-05-11 08:06:55.515961', '5318c0d7d4c34e86a6a2686bfbabc8d7', 'Physics', '00bcf288241a4ae2bd41dcb303b59e91', '627b93b257814f828c8b439a8a7cd6c5', '2025-05-11 08:06:55.515967', '2025-05-11 08:06:55.515969', 'dc1519c57c3044649e540a11732c2b41', 'Chemistry', '00bcf288241a4ae2bd41dcb303b59e91', '627b93b257814f828c8b439a8a7cd6c5', '2025-05-11 08:06:55.515976', '2025-05-11 08:06:55.515978', 'f90907f03157433ca999e3682f45f63b', 'Biology', '00bcf288241a4ae2bd41dcb303b59e91', '627b93b257814f828c8b439a8a7cd6c5', '2025-05-11 08:06:55.515983', '2025-05-11 08:06:55.515985', 'fd7cf7490b8c4ae5b2608c2720eab98b', 'English', '00bcf288241a4ae2bd41dcb303b59e91', '627b93b257814f828c8b439a8a7cd6c5', '2025-05-11 08:06:55.515991', '2025-05-11 08:06:55.515992')
2025-05-11 08:06:55,518 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:55,518 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:55,522 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:55,522 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:55,523 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:55,523 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:55,523 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('8127359867274590b4b9fa1b59c90f00',)
2025-05-11 08:06:55,523 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('8127359867274590b4b9fa1b59c90f00',)
2025-05-11 08:06:55,526 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:55,526 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:55,526 - sqlalchemy.engine.Engine - INFO - [cached since 0.003431s ago] ('5318c0d7d4c34e86a6a2686bfbabc8d7',)
2025-05-11 08:06:55,526 - sqlalchemy.engine.Engine - INFO - [cached since 0.003431s ago] ('5318c0d7d4c34e86a6a2686bfbabc8d7',)
2025-05-11 08:06:55,528 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:55,528 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:55,528 - sqlalchemy.engine.Engine - INFO - [cached since 0.005509s ago] ('dc1519c57c3044649e540a11732c2b41',)
2025-05-11 08:06:55,528 - sqlalchemy.engine.Engine - INFO - [cached since 0.005509s ago] ('dc1519c57c3044649e540a11732c2b41',)
2025-05-11 08:06:55,530 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:55,530 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:55,530 - sqlalchemy.engine.Engine - INFO - [cached since 0.007344s ago] ('f90907f03157433ca999e3682f45f63b',)
2025-05-11 08:06:55,530 - sqlalchemy.engine.Engine - INFO - [cached since 0.007344s ago] ('f90907f03157433ca999e3682f45f63b',)
2025-05-11 08:06:55,532 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:55,532 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:06:55,532 - sqlalchemy.engine.Engine - INFO - [cached since 0.00941s ago] ('fd7cf7490b8c4ae5b2608c2720eab98b',)
2025-05-11 08:06:55,532 - sqlalchemy.engine.Engine - INFO - [cached since 0.00941s ago] ('fd7cf7490b8c4ae5b2608c2720eab98b',)
2025-05-11 08:06:55,536 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:06:55,536 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:06:55,537 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s (insertmanyvalues) 1/1 (unordered)] ('4559b2a2873743229f3a95c4f4b39992', None, 'John Doe', 'homeroom_teacher', None, '00bcf288241a4ae2bd41dcb303b59e91', '2025-05-11 08:06:55.536660', '2025-05-11 08:06:55.536665', 'bdcda201cafb429fb5356b5cbe64dbfa', None, 'Jane Smith', 'subject_teacher', None, '00bcf288241a4ae2bd41dcb303b59e91', '2025-05-11 08:06:55.536674', '2025-05-11 08:06:55.536678', '3248d63b24e34154a9cad2dc17d63104', None, 'Bob Johnson', 'subject_teacher', None, '00bcf288241a4ae2bd41dcb303b59e91', '2025-05-11 08:06:55.536687', '2025-05-11 08:06:55.536689')
2025-05-11 08:06:55,537 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s (insertmanyvalues) 1/1 (unordered)] ('4559b2a2873743229f3a95c4f4b39992', None, 'John Doe', 'homeroom_teacher', None, '00bcf288241a4ae2bd41dcb303b59e91', '2025-05-11 08:06:55.536660', '2025-05-11 08:06:55.536665', 'bdcda201cafb429fb5356b5cbe64dbfa', None, 'Jane Smith', 'subject_teacher', None, '00bcf288241a4ae2bd41dcb303b59e91', '2025-05-11 08:06:55.536674', '2025-05-11 08:06:55.536678', '3248d63b24e34154a9cad2dc17d63104', None, 'Bob Johnson', 'subject_teacher', None, '00bcf288241a4ae2bd41dcb303b59e91', '2025-05-11 08:06:55.536687', '2025-05-11 08:06:55.536689')
2025-05-11 08:06:55,539 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 08:06:55,539 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 08:06:55,539 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] [('bdcda201cafb429fb5356b5cbe64dbfa', 'dc1519c57c3044649e540a11732c2b41'), ('bdcda201cafb429fb5356b5cbe64dbfa', 'f90907f03157433ca999e3682f45f63b'), ('4559b2a2873743229f3a95c4f4b39992', '8127359867274590b4b9fa1b59c90f00'), ('3248d63b24e34154a9cad2dc17d63104', 'fd7cf7490b8c4ae5b2608c2720eab98b'), ('4559b2a2873743229f3a95c4f4b39992', '5318c0d7d4c34e86a6a2686bfbabc8d7')]
2025-05-11 08:06:55,539 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] [('bdcda201cafb429fb5356b5cbe64dbfa', 'dc1519c57c3044649e540a11732c2b41'), ('bdcda201cafb429fb5356b5cbe64dbfa', 'f90907f03157433ca999e3682f45f63b'), ('4559b2a2873743229f3a95c4f4b39992', '8127359867274590b4b9fa1b59c90f00'), ('3248d63b24e34154a9cad2dc17d63104', 'fd7cf7490b8c4ae5b2608c2720eab98b'), ('4559b2a2873743229f3a95c4f4b39992', '5318c0d7d4c34e86a6a2686bfbabc8d7')]
2025-05-11 08:06:55,540 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:55,540 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:55,545 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:55,545 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:55,546 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:55,546 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:55,546 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('4559b2a2873743229f3a95c4f4b39992',)
2025-05-11 08:06:55,546 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('4559b2a2873743229f3a95c4f4b39992',)
2025-05-11 08:06:55,548 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:55,548 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:55,548 - sqlalchemy.engine.Engine - INFO - [cached since 0.002446s ago] ('bdcda201cafb429fb5356b5cbe64dbfa',)
2025-05-11 08:06:55,548 - sqlalchemy.engine.Engine - INFO - [cached since 0.002446s ago] ('bdcda201cafb429fb5356b5cbe64dbfa',)
2025-05-11 08:06:55,550 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:55,550 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:55,550 - sqlalchemy.engine.Engine - INFO - [cached since 0.004249s ago] ('3248d63b24e34154a9cad2dc17d63104',)
2025-05-11 08:06:55,550 - sqlalchemy.engine.Engine - INFO - [cached since 0.004249s ago] ('3248d63b24e34154a9cad2dc17d63104',)
2025-05-11 08:06:55,552 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 08:06:55,552 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 08:06:55,552 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('627b93b257814f828c8b439a8a7cd6c5', '2025-05-11 08:06:55.552394', '4559b2a2873743229f3a95c4f4b39992')
2025-05-11 08:06:55,552 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('627b93b257814f828c8b439a8a7cd6c5', '2025-05-11 08:06:55.552394', '4559b2a2873743229f3a95c4f4b39992')
2025-05-11 08:06:55,553 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:55,553 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:06:55,558 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:55,558 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:06:55,558 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:55,558 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:06:55,558 - sqlalchemy.engine.Engine - INFO - [cached since 0.01271s ago] ('4559b2a2873743229f3a95c4f4b39992',)
2025-05-11 08:06:55,558 - sqlalchemy.engine.Engine - INFO - [cached since 0.01271s ago] ('4559b2a2873743229f3a95c4f4b39992',)
2025-05-11 08:06:55,559 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 08:06:55,559 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 08:06:55,560 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 08:06:55,560 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 08:06:55,658 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 08:06:55,658 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 08:11:26,696 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:26,696 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:26,696 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 08:11:26,696 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 08:11:26,696 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:26,696 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:26,698 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 08:11:26,698 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 08:11:26,698 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:26,698 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:26,699 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 08:11:26,699 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 08:11:26,699 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:26,699 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:26,700 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 08:11:26,700 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 08:11:26,700 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:26,700 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:26,701 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 08:11:26,701 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 08:11:26,701 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:26,701 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:26,702 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 08:11:26,702 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 08:11:26,702 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:26,702 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:26,703 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 08:11:26,703 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 08:11:26,703 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:26,703 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:26,704 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 08:11:26,704 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 08:11:26,704 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:26,704 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:26,705 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 08:11:26,705 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 08:11:26,706 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:26,706 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:26,707 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:26,707 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:26,708 - fastapi_app - INFO - Database models initialized
2025-05-11 08:11:26,708 - fastapi_app - INFO - Database models initialized
2025-05-11 08:11:26,708 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 08:11:26,708 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 08:11:26,744 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:26,744 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:26,746 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:11:26,746 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:11:26,747 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('4e5b25224ae24d33a84d84f306323be2', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 08:11:26.746721', '2025-05-11 08:11:26.746727')
2025-05-11 08:11:26,747 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('4e5b25224ae24d33a84d84f306323be2', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 08:11:26.746721', '2025-05-11 08:11:26.746727')
2025-05-11 08:11:26,748 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:26,748 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:26,755 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:26,755 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:26,757 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 08:11:26,757 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 08:11:26,758 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('4e5b25224ae24d33a84d84f306323be2',)
2025-05-11 08:11:26,758 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('4e5b25224ae24d33a84d84f306323be2',)
2025-05-11 08:11:26,760 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 08:11:26,760 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 08:11:26,760 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ('d5a2bf4267234ab5bc96846c04e350e9', '9A', 2024, '4e5b25224ae24d33a84d84f306323be2', '2025-05-11 08:11:26.760416', '2025-05-11 08:11:26.760420')
2025-05-11 08:11:26,760 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ('d5a2bf4267234ab5bc96846c04e350e9', '9A', 2024, '4e5b25224ae24d33a84d84f306323be2', '2025-05-11 08:11:26.760416', '2025-05-11 08:11:26.760420')
2025-05-11 08:11:26,762 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:26,762 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:26,766 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:26,766 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:26,767 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 08:11:26,767 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 08:11:26,768 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('d5a2bf4267234ab5bc96846c04e350e9',)
2025-05-11 08:11:26,768 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('d5a2bf4267234ab5bc96846c04e350e9',)
2025-05-11 08:11:26,771 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 08:11:26,771 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 08:11:26,771 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s (insertmanyvalues) 1/1 (unordered)] ('97035bf86f714367adbba4249b4477ec', 'Mathematics', '4e5b25224ae24d33a84d84f306323be2', 'd5a2bf4267234ab5bc96846c04e350e9', '2025-05-11 08:11:26.771305', '2025-05-11 08:11:26.771311', 'b2c778450e374ba889fb52cda39e3040', 'Physics', '4e5b25224ae24d33a84d84f306323be2', 'd5a2bf4267234ab5bc96846c04e350e9', '2025-05-11 08:11:26.771320', '2025-05-11 08:11:26.771323', 'f54b007e0da444758f386ed8abd13b09', 'Chemistry', '4e5b25224ae24d33a84d84f306323be2', 'd5a2bf4267234ab5bc96846c04e350e9', '2025-05-11 08:11:26.771331', '2025-05-11 08:11:26.771333', 'a5298a7a150f4f63ae9d3dc845a7840a', 'Biology', '4e5b25224ae24d33a84d84f306323be2', 'd5a2bf4267234ab5bc96846c04e350e9', '2025-05-11 08:11:26.771341', '2025-05-11 08:11:26.771344', '12250a5418224a32bd0db2c43228a1e8', 'English', '4e5b25224ae24d33a84d84f306323be2', 'd5a2bf4267234ab5bc96846c04e350e9', '2025-05-11 08:11:26.771351', '2025-05-11 08:11:26.771353')
2025-05-11 08:11:26,771 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s (insertmanyvalues) 1/1 (unordered)] ('97035bf86f714367adbba4249b4477ec', 'Mathematics', '4e5b25224ae24d33a84d84f306323be2', 'd5a2bf4267234ab5bc96846c04e350e9', '2025-05-11 08:11:26.771305', '2025-05-11 08:11:26.771311', 'b2c778450e374ba889fb52cda39e3040', 'Physics', '4e5b25224ae24d33a84d84f306323be2', 'd5a2bf4267234ab5bc96846c04e350e9', '2025-05-11 08:11:26.771320', '2025-05-11 08:11:26.771323', 'f54b007e0da444758f386ed8abd13b09', 'Chemistry', '4e5b25224ae24d33a84d84f306323be2', 'd5a2bf4267234ab5bc96846c04e350e9', '2025-05-11 08:11:26.771331', '2025-05-11 08:11:26.771333', 'a5298a7a150f4f63ae9d3dc845a7840a', 'Biology', '4e5b25224ae24d33a84d84f306323be2', 'd5a2bf4267234ab5bc96846c04e350e9', '2025-05-11 08:11:26.771341', '2025-05-11 08:11:26.771344', '12250a5418224a32bd0db2c43228a1e8', 'English', '4e5b25224ae24d33a84d84f306323be2', 'd5a2bf4267234ab5bc96846c04e350e9', '2025-05-11 08:11:26.771351', '2025-05-11 08:11:26.771353')
2025-05-11 08:11:26,773 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:26,773 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:26,778 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:26,778 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:26,779 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:11:26,779 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:11:26,780 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('97035bf86f714367adbba4249b4477ec',)
2025-05-11 08:11:26,780 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('97035bf86f714367adbba4249b4477ec',)
2025-05-11 08:11:26,783 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:11:26,783 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:11:26,783 - sqlalchemy.engine.Engine - INFO - [cached since 0.003778s ago] ('b2c778450e374ba889fb52cda39e3040',)
2025-05-11 08:11:26,783 - sqlalchemy.engine.Engine - INFO - [cached since 0.003778s ago] ('b2c778450e374ba889fb52cda39e3040',)
2025-05-11 08:11:26,788 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:11:26,788 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:11:26,788 - sqlalchemy.engine.Engine - INFO - [cached since 0.00876s ago] ('f54b007e0da444758f386ed8abd13b09',)
2025-05-11 08:11:26,788 - sqlalchemy.engine.Engine - INFO - [cached since 0.00876s ago] ('f54b007e0da444758f386ed8abd13b09',)
2025-05-11 08:11:26,795 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:11:26,795 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:11:26,796 - sqlalchemy.engine.Engine - INFO - [cached since 0.01644s ago] ('a5298a7a150f4f63ae9d3dc845a7840a',)
2025-05-11 08:11:26,796 - sqlalchemy.engine.Engine - INFO - [cached since 0.01644s ago] ('a5298a7a150f4f63ae9d3dc845a7840a',)
2025-05-11 08:11:26,801 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:11:26,801 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:11:26,802 - sqlalchemy.engine.Engine - INFO - [cached since 0.02227s ago] ('12250a5418224a32bd0db2c43228a1e8',)
2025-05-11 08:11:26,802 - sqlalchemy.engine.Engine - INFO - [cached since 0.02227s ago] ('12250a5418224a32bd0db2c43228a1e8',)
2025-05-11 08:11:26,809 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:11:26,809 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:11:26,809 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s (insertmanyvalues) 1/1 (unordered)] ('98df454c9c484d2aaaec03dfeb34ad03', None, 'John Doe', 'homeroom_teacher', None, '4e5b25224ae24d33a84d84f306323be2', '2025-05-11 08:11:26.808549', '2025-05-11 08:11:26.808555', 'bc2f2cc8dacc400b928e8cd58ab61144', None, 'Jane Smith', 'subject_teacher', None, '4e5b25224ae24d33a84d84f306323be2', '2025-05-11 08:11:26.808564', '2025-05-11 08:11:26.808566', 'ccf64e8d5cbc4d25ab2a34111f8c7ad3', None, 'Bob Johnson', 'subject_teacher', None, '4e5b25224ae24d33a84d84f306323be2', '2025-05-11 08:11:26.808571', '2025-05-11 08:11:26.808574')
2025-05-11 08:11:26,809 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s (insertmanyvalues) 1/1 (unordered)] ('98df454c9c484d2aaaec03dfeb34ad03', None, 'John Doe', 'homeroom_teacher', None, '4e5b25224ae24d33a84d84f306323be2', '2025-05-11 08:11:26.808549', '2025-05-11 08:11:26.808555', 'bc2f2cc8dacc400b928e8cd58ab61144', None, 'Jane Smith', 'subject_teacher', None, '4e5b25224ae24d33a84d84f306323be2', '2025-05-11 08:11:26.808564', '2025-05-11 08:11:26.808566', 'ccf64e8d5cbc4d25ab2a34111f8c7ad3', None, 'Bob Johnson', 'subject_teacher', None, '4e5b25224ae24d33a84d84f306323be2', '2025-05-11 08:11:26.808571', '2025-05-11 08:11:26.808574')
2025-05-11 08:11:26,815 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 08:11:26,815 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 08:11:26,815 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] [('bc2f2cc8dacc400b928e8cd58ab61144', 'f54b007e0da444758f386ed8abd13b09'), ('bc2f2cc8dacc400b928e8cd58ab61144', 'a5298a7a150f4f63ae9d3dc845a7840a'), ('98df454c9c484d2aaaec03dfeb34ad03', '97035bf86f714367adbba4249b4477ec'), ('ccf64e8d5cbc4d25ab2a34111f8c7ad3', '12250a5418224a32bd0db2c43228a1e8'), ('98df454c9c484d2aaaec03dfeb34ad03', 'b2c778450e374ba889fb52cda39e3040')]
2025-05-11 08:11:26,815 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] [('bc2f2cc8dacc400b928e8cd58ab61144', 'f54b007e0da444758f386ed8abd13b09'), ('bc2f2cc8dacc400b928e8cd58ab61144', 'a5298a7a150f4f63ae9d3dc845a7840a'), ('98df454c9c484d2aaaec03dfeb34ad03', '97035bf86f714367adbba4249b4477ec'), ('ccf64e8d5cbc4d25ab2a34111f8c7ad3', '12250a5418224a32bd0db2c43228a1e8'), ('98df454c9c484d2aaaec03dfeb34ad03', 'b2c778450e374ba889fb52cda39e3040')]
2025-05-11 08:11:26,819 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:26,819 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:26,826 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:26,826 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:26,828 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:11:26,828 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:11:26,829 - sqlalchemy.engine.Engine - INFO - [generated in 0.00093s] ('98df454c9c484d2aaaec03dfeb34ad03',)
2025-05-11 08:11:26,829 - sqlalchemy.engine.Engine - INFO - [generated in 0.00093s] ('98df454c9c484d2aaaec03dfeb34ad03',)
2025-05-11 08:11:26,832 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:11:26,832 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:11:26,833 - sqlalchemy.engine.Engine - INFO - [cached since 0.004558s ago] ('bc2f2cc8dacc400b928e8cd58ab61144',)
2025-05-11 08:11:26,833 - sqlalchemy.engine.Engine - INFO - [cached since 0.004558s ago] ('bc2f2cc8dacc400b928e8cd58ab61144',)
2025-05-11 08:11:26,834 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:11:26,834 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:11:26,834 - sqlalchemy.engine.Engine - INFO - [cached since 0.005887s ago] ('ccf64e8d5cbc4d25ab2a34111f8c7ad3',)
2025-05-11 08:11:26,834 - sqlalchemy.engine.Engine - INFO - [cached since 0.005887s ago] ('ccf64e8d5cbc4d25ab2a34111f8c7ad3',)
2025-05-11 08:11:26,837 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 08:11:26,837 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 08:11:26,838 - sqlalchemy.engine.Engine - INFO - [generated in 0.00109s] ('d5a2bf4267234ab5bc96846c04e350e9', '2025-05-11 08:11:26.837293', '98df454c9c484d2aaaec03dfeb34ad03')
2025-05-11 08:11:26,838 - sqlalchemy.engine.Engine - INFO - [generated in 0.00109s] ('d5a2bf4267234ab5bc96846c04e350e9', '2025-05-11 08:11:26.837293', '98df454c9c484d2aaaec03dfeb34ad03')
2025-05-11 08:11:26,840 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:26,840 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:26,845 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:26,845 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:26,845 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:11:26,845 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:11:26,846 - sqlalchemy.engine.Engine - INFO - [cached since 0.01763s ago] ('98df454c9c484d2aaaec03dfeb34ad03',)
2025-05-11 08:11:26,846 - sqlalchemy.engine.Engine - INFO - [cached since 0.01763s ago] ('98df454c9c484d2aaaec03dfeb34ad03',)
2025-05-11 08:11:26,847 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 08:11:26,847 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 08:11:26,847 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 08:11:26,847 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 08:11:26,952 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 08:11:26,952 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 08:11:33,117 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:33,117 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:33,118 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 08:11:33,118 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-11 08:11:33,118 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:33,118 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:33,119 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 08:11:33,119 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-11 08:11:33,119 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:33,119 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:33,120 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 08:11:33,120 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-11 08:11:33,120 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:33,120 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:33,121 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 08:11:33,121 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-11 08:11:33,121 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:33,121 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:33,122 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 08:11:33,122 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-11 08:11:33,122 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:33,122 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:33,122 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 08:11:33,122 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-11 08:11:33,123 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:33,123 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:33,123 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 08:11:33,123 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-11 08:11:33,124 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:33,124 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:33,124 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 08:11:33,124 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-11 08:11:33,125 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:33,125 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:33,125 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 08:11:33,125 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-11 08:11:33,125 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:33,125 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-11 08:11:33,126 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:33,126 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:33,127 - fastapi_app - INFO - Database models initialized
2025-05-11 08:11:33,127 - fastapi_app - INFO - Database models initialized
2025-05-11 08:11:33,128 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 08:11:33,128 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-11 08:11:33,161 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:33,161 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:33,163 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:11:33,163 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:11:33,163 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ('4b18a083629e4a31a0986d426f932b52', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 08:11:33.163564', '2025-05-11 08:11:33.163570')
2025-05-11 08:11:33,163 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ('4b18a083629e4a31a0986d426f932b52', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-11 08:11:33.163564', '2025-05-11 08:11:33.163570')
2025-05-11 08:11:33,166 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:33,166 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:33,171 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:33,171 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:33,174 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 08:11:33,174 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-11 08:11:33,174 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('4b18a083629e4a31a0986d426f932b52',)
2025-05-11 08:11:33,174 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('4b18a083629e4a31a0986d426f932b52',)
2025-05-11 08:11:33,176 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 08:11:33,176 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-11 08:11:33,177 - sqlalchemy.engine.Engine - INFO - [generated in 0.00066s] ('7ca15cbd2a95436b8e704373bf0beb12', '9A', 2024, '4b18a083629e4a31a0986d426f932b52', '2025-05-11 08:11:33.176639', '2025-05-11 08:11:33.176645')
2025-05-11 08:11:33,177 - sqlalchemy.engine.Engine - INFO - [generated in 0.00066s] ('7ca15cbd2a95436b8e704373bf0beb12', '9A', 2024, '4b18a083629e4a31a0986d426f932b52', '2025-05-11 08:11:33.176639', '2025-05-11 08:11:33.176645')
2025-05-11 08:11:33,179 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:33,179 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:33,183 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:33,183 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:33,185 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 08:11:33,185 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-11 08:11:33,185 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('7ca15cbd2a95436b8e704373bf0beb12',)
2025-05-11 08:11:33,185 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('7ca15cbd2a95436b8e704373bf0beb12',)
2025-05-11 08:11:33,188 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 08:11:33,188 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-11 08:11:33,189 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s (insertmanyvalues) 1/1 (unordered)] ('1b746b8055c14c0fa97e4cea675f5280', 'Mathematics', '4b18a083629e4a31a0986d426f932b52', '7ca15cbd2a95436b8e704373bf0beb12', '2025-05-11 08:11:33.188583', '2025-05-11 08:11:33.188590', '67f8e684830d4dc8951cb5779ca5dae4', 'Physics', '4b18a083629e4a31a0986d426f932b52', '7ca15cbd2a95436b8e704373bf0beb12', '2025-05-11 08:11:33.188596', '2025-05-11 08:11:33.188598', 'a80920f4119145b9a9e49798619d2243', 'Chemistry', '4b18a083629e4a31a0986d426f932b52', '7ca15cbd2a95436b8e704373bf0beb12', '2025-05-11 08:11:33.188605', '2025-05-11 08:11:33.188607', '8464ddb934d5441bb7fef7128ee1e194', 'Biology', '4b18a083629e4a31a0986d426f932b52', '7ca15cbd2a95436b8e704373bf0beb12', '2025-05-11 08:11:33.188613', '2025-05-11 08:11:33.188616', '41b191ecb93447739328f4a62b1337e7', 'English', '4b18a083629e4a31a0986d426f932b52', '7ca15cbd2a95436b8e704373bf0beb12', '2025-05-11 08:11:33.188620', '2025-05-11 08:11:33.188623')
2025-05-11 08:11:33,189 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s (insertmanyvalues) 1/1 (unordered)] ('1b746b8055c14c0fa97e4cea675f5280', 'Mathematics', '4b18a083629e4a31a0986d426f932b52', '7ca15cbd2a95436b8e704373bf0beb12', '2025-05-11 08:11:33.188583', '2025-05-11 08:11:33.188590', '67f8e684830d4dc8951cb5779ca5dae4', 'Physics', '4b18a083629e4a31a0986d426f932b52', '7ca15cbd2a95436b8e704373bf0beb12', '2025-05-11 08:11:33.188596', '2025-05-11 08:11:33.188598', 'a80920f4119145b9a9e49798619d2243', 'Chemistry', '4b18a083629e4a31a0986d426f932b52', '7ca15cbd2a95436b8e704373bf0beb12', '2025-05-11 08:11:33.188605', '2025-05-11 08:11:33.188607', '8464ddb934d5441bb7fef7128ee1e194', 'Biology', '4b18a083629e4a31a0986d426f932b52', '7ca15cbd2a95436b8e704373bf0beb12', '2025-05-11 08:11:33.188613', '2025-05-11 08:11:33.188616', '41b191ecb93447739328f4a62b1337e7', 'English', '4b18a083629e4a31a0986d426f932b52', '7ca15cbd2a95436b8e704373bf0beb12', '2025-05-11 08:11:33.188620', '2025-05-11 08:11:33.188623')
2025-05-11 08:11:33,191 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:33,191 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:33,195 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:33,195 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:33,196 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:11:33,196 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:11:33,197 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('1b746b8055c14c0fa97e4cea675f5280',)
2025-05-11 08:11:33,197 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('1b746b8055c14c0fa97e4cea675f5280',)
2025-05-11 08:11:33,198 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:11:33,198 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:11:33,199 - sqlalchemy.engine.Engine - INFO - [cached since 0.002418s ago] ('67f8e684830d4dc8951cb5779ca5dae4',)
2025-05-11 08:11:33,199 - sqlalchemy.engine.Engine - INFO - [cached since 0.002418s ago] ('67f8e684830d4dc8951cb5779ca5dae4',)
2025-05-11 08:11:33,201 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:11:33,201 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:11:33,201 - sqlalchemy.engine.Engine - INFO - [cached since 0.004595s ago] ('a80920f4119145b9a9e49798619d2243',)
2025-05-11 08:11:33,201 - sqlalchemy.engine.Engine - INFO - [cached since 0.004595s ago] ('a80920f4119145b9a9e49798619d2243',)
2025-05-11 08:11:33,202 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:11:33,202 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:11:33,202 - sqlalchemy.engine.Engine - INFO - [cached since 0.005825s ago] ('8464ddb934d5441bb7fef7128ee1e194',)
2025-05-11 08:11:33,202 - sqlalchemy.engine.Engine - INFO - [cached since 0.005825s ago] ('8464ddb934d5441bb7fef7128ee1e194',)
2025-05-11 08:11:33,204 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:11:33,204 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-11 08:11:33,204 - sqlalchemy.engine.Engine - INFO - [cached since 0.007877s ago] ('41b191ecb93447739328f4a62b1337e7',)
2025-05-11 08:11:33,204 - sqlalchemy.engine.Engine - INFO - [cached since 0.007877s ago] ('41b191ecb93447739328f4a62b1337e7',)
2025-05-11 08:11:33,208 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:11:33,208 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-11 08:11:33,208 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s (insertmanyvalues) 1/1 (unordered)] ('07853ffcdc5f4997a8d583785e6f7d23', None, 'John Doe', 'homeroom_teacher', None, '4b18a083629e4a31a0986d426f932b52', '2025-05-11 08:11:33.207973', '2025-05-11 08:11:33.207977', 'ea6efb0222cf43f69badae45a6802b89', None, 'Jane Smith', 'subject_teacher', None, '4b18a083629e4a31a0986d426f932b52', '2025-05-11 08:11:33.207985', '2025-05-11 08:11:33.207988', 'dcdc60a454604d01865cd4908e23548b', None, 'Bob Johnson', 'subject_teacher', None, '4b18a083629e4a31a0986d426f932b52', '2025-05-11 08:11:33.207994', '2025-05-11 08:11:33.207997')
2025-05-11 08:11:33,208 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s (insertmanyvalues) 1/1 (unordered)] ('07853ffcdc5f4997a8d583785e6f7d23', None, 'John Doe', 'homeroom_teacher', None, '4b18a083629e4a31a0986d426f932b52', '2025-05-11 08:11:33.207973', '2025-05-11 08:11:33.207977', 'ea6efb0222cf43f69badae45a6802b89', None, 'Jane Smith', 'subject_teacher', None, '4b18a083629e4a31a0986d426f932b52', '2025-05-11 08:11:33.207985', '2025-05-11 08:11:33.207988', 'dcdc60a454604d01865cd4908e23548b', None, 'Bob Johnson', 'subject_teacher', None, '4b18a083629e4a31a0986d426f932b52', '2025-05-11 08:11:33.207994', '2025-05-11 08:11:33.207997')
2025-05-11 08:11:33,210 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 08:11:33,210 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-11 08:11:33,210 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] [('07853ffcdc5f4997a8d583785e6f7d23', '67f8e684830d4dc8951cb5779ca5dae4'), ('ea6efb0222cf43f69badae45a6802b89', 'a80920f4119145b9a9e49798619d2243'), ('ea6efb0222cf43f69badae45a6802b89', '8464ddb934d5441bb7fef7128ee1e194'), ('07853ffcdc5f4997a8d583785e6f7d23', '1b746b8055c14c0fa97e4cea675f5280'), ('dcdc60a454604d01865cd4908e23548b', '41b191ecb93447739328f4a62b1337e7')]
2025-05-11 08:11:33,210 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] [('07853ffcdc5f4997a8d583785e6f7d23', '67f8e684830d4dc8951cb5779ca5dae4'), ('ea6efb0222cf43f69badae45a6802b89', 'a80920f4119145b9a9e49798619d2243'), ('ea6efb0222cf43f69badae45a6802b89', '8464ddb934d5441bb7fef7128ee1e194'), ('07853ffcdc5f4997a8d583785e6f7d23', '1b746b8055c14c0fa97e4cea675f5280'), ('dcdc60a454604d01865cd4908e23548b', '41b191ecb93447739328f4a62b1337e7')]
2025-05-11 08:11:33,212 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:33,212 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:33,218 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:33,218 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:33,220 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:11:33,220 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:11:33,220 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('07853ffcdc5f4997a8d583785e6f7d23',)
2025-05-11 08:11:33,220 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('07853ffcdc5f4997a8d583785e6f7d23',)
2025-05-11 08:11:33,222 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:11:33,222 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:11:33,222 - sqlalchemy.engine.Engine - INFO - [cached since 0.002382s ago] ('ea6efb0222cf43f69badae45a6802b89',)
2025-05-11 08:11:33,222 - sqlalchemy.engine.Engine - INFO - [cached since 0.002382s ago] ('ea6efb0222cf43f69badae45a6802b89',)
2025-05-11 08:11:33,223 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:11:33,223 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:11:33,223 - sqlalchemy.engine.Engine - INFO - [cached since 0.003873s ago] ('dcdc60a454604d01865cd4908e23548b',)
2025-05-11 08:11:33,223 - sqlalchemy.engine.Engine - INFO - [cached since 0.003873s ago] ('dcdc60a454604d01865cd4908e23548b',)
2025-05-11 08:11:33,226 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 08:11:33,226 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-11 08:11:33,227 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('7ca15cbd2a95436b8e704373bf0beb12', '2025-05-11 08:11:33.226884', '07853ffcdc5f4997a8d583785e6f7d23')
2025-05-11 08:11:33,227 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('7ca15cbd2a95436b8e704373bf0beb12', '2025-05-11 08:11:33.226884', '07853ffcdc5f4997a8d583785e6f7d23')
2025-05-11 08:11:33,228 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:33,228 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-11 08:11:33,233 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:33,233 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-11 08:11:33,233 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:11:33,233 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-11 08:11:33,233 - sqlalchemy.engine.Engine - INFO - [cached since 0.01389s ago] ('07853ffcdc5f4997a8d583785e6f7d23',)
2025-05-11 08:11:33,233 - sqlalchemy.engine.Engine - INFO - [cached since 0.01389s ago] ('07853ffcdc5f4997a8d583785e6f7d23',)
2025-05-11 08:11:33,234 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 08:11:33,234 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-11 08:11:33,234 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 08:11:33,234 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-11 08:11:33,382 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-11 08:11:33,382 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
2025-05-12 10:12:43,348 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-12 10:12:43,350 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("teacher_subject")
2025-05-12 10:12:43,350 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-12 10:12:43,351 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("parent_child")
2025-05-12 10:12:43,351 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-12 10:12:43,352 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user_class")
2025-05-12 10:12:43,352 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-12 10:12:43,352 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("user")
2025-05-12 10:12:43,352 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-12 10:12:43,353 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("school")
2025-05-12 10:12:43,353 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-12 10:12:43,353 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("subject")
2025-05-12 10:12:43,353 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-12 10:12:43,354 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("class")
2025-05-12 10:12:43,354 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-12 10:12:43,354 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("grade")
2025-05-12 10:12:43,354 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-12 10:12:43,355 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("attendance")
2025-05-12 10:12:43,355 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-05-12 10:12:43,356 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-12 10:12:43,356 - fastapi_app - INFO - Database models initialized
2025-05-12 10:12:43,356 - tg_bot.setup.auto_init - INFO - Starting auto-initialization
2025-05-12 10:12:43,376 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-12 10:12:43,378 - sqlalchemy.engine.Engine - INFO - INSERT INTO school (uuid, name, address, phone, email, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-05-12 10:12:43,378 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('257c57f3274844b88b25b67a345e1db8', 'Demo School', '123 Demo Street', '+1234567890', 'demo@school.com', '2025-05-12 10:12:43.377963', '2025-05-12 10:12:43.377967')
2025-05-12 10:12:43,380 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-12 10:12:43,385 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-12 10:12:43,388 - sqlalchemy.engine.Engine - INFO - SELECT school.uuid, school.name, school.address, school.phone, school.email, school.created_at, school.updated_at 
FROM school 
WHERE school.uuid = ?
2025-05-12 10:12:43,388 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('257c57f3274844b88b25b67a345e1db8',)
2025-05-12 10:12:43,390 - sqlalchemy.engine.Engine - INFO - INSERT INTO class (uuid, name, start_year, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)
2025-05-12 10:12:43,390 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('df6cf62a171144c8b5edd1c8b78d8231', '9A', 2024, '257c57f3274844b88b25b67a345e1db8', '2025-05-12 10:12:43.390351', '2025-05-12 10:12:43.390354')
2025-05-12 10:12:43,391 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-12 10:12:43,395 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-12 10:12:43,397 - sqlalchemy.engine.Engine - INFO - SELECT class.uuid, class.name, class.start_year, class.school_uuid, class.created_at, class.updated_at 
FROM class 
WHERE class.uuid = ?
2025-05-12 10:12:43,397 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('df6cf62a171144c8b5edd1c8b78d8231',)
2025-05-12 10:12:43,399 - sqlalchemy.engine.Engine - INFO - INSERT INTO subject (uuid, name, school_uuid, class_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?)
2025-05-12 10:12:43,400 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s (insertmanyvalues) 1/1 (unordered)] ('75d9e3788de041609a7ca2f776b21d0d', 'Mathematics', '257c57f3274844b88b25b67a345e1db8', 'df6cf62a171144c8b5edd1c8b78d8231', '2025-05-12 10:12:43.399692', '2025-05-12 10:12:43.399696', '50863971153041d38e200e14fac915ad', 'Physics', '257c57f3274844b88b25b67a345e1db8', 'df6cf62a171144c8b5edd1c8b78d8231', '2025-05-12 10:12:43.399701', '2025-05-12 10:12:43.399702', 'b257988d6696488ea84718167c976bbe', 'Chemistry', '257c57f3274844b88b25b67a345e1db8', 'df6cf62a171144c8b5edd1c8b78d8231', '2025-05-12 10:12:43.399707', '2025-05-12 10:12:43.399708', '7a19b4e5377e45ba83d0286ff0947d42', 'Biology', '257c57f3274844b88b25b67a345e1db8', 'df6cf62a171144c8b5edd1c8b78d8231', '2025-05-12 10:12:43.399712', '2025-05-12 10:12:43.399713', '2c083825fa2149fa8e3cb0a644aa5bf8', 'English', '257c57f3274844b88b25b67a345e1db8', 'df6cf62a171144c8b5edd1c8b78d8231', '2025-05-12 10:12:43.399717', '2025-05-12 10:12:43.399718')
2025-05-12 10:12:43,401 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-12 10:12:43,405 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-12 10:12:43,406 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-12 10:12:43,406 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('75d9e3788de041609a7ca2f776b21d0d',)
2025-05-12 10:12:43,407 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-12 10:12:43,407 - sqlalchemy.engine.Engine - INFO - [cached since 0.001489s ago] ('50863971153041d38e200e14fac915ad',)
2025-05-12 10:12:43,408 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-12 10:12:43,408 - sqlalchemy.engine.Engine - INFO - [cached since 0.002549s ago] ('b257988d6696488ea84718167c976bbe',)
2025-05-12 10:12:43,409 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-12 10:12:43,409 - sqlalchemy.engine.Engine - INFO - [cached since 0.003544s ago] ('7a19b4e5377e45ba83d0286ff0947d42',)
2025-05-12 10:12:43,410 - sqlalchemy.engine.Engine - INFO - SELECT subject.uuid, subject.name, subject.school_uuid, subject.class_uuid, subject.created_at, subject.updated_at 
FROM subject 
WHERE subject.uuid = ?
2025-05-12 10:12:43,411 - sqlalchemy.engine.Engine - INFO - [cached since 0.004611s ago] ('2c083825fa2149fa8e3cb0a644aa5bf8',)
2025-05-12 10:12:43,413 - sqlalchemy.engine.Engine - INFO - INSERT INTO user (uuid, chat_id, name, role, managed_class_uuid, school_uuid, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?, ?)
2025-05-12 10:12:43,413 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s (insertmanyvalues) 1/1 (unordered)] ('58795571553a4dd8ac6ff00717afa573', None, 'John Doe', 'homeroom_teacher', None, '257c57f3274844b88b25b67a345e1db8', '2025-05-12 10:12:43.413402', '2025-05-12 10:12:43.413405', 'aa59c905e617427c92bcf4cfcd8eb847', None, 'Jane Smith', 'subject_teacher', None, '257c57f3274844b88b25b67a345e1db8', '2025-05-12 10:12:43.413410', '2025-05-12 10:12:43.413411', 'e7cfd75864f24574b4384db52b1c6de9', None, 'Bob Johnson', 'subject_teacher', None, '257c57f3274844b88b25b67a345e1db8', '2025-05-12 10:12:43.413415', '2025-05-12 10:12:43.413416')
2025-05-12 10:12:43,415 - sqlalchemy.engine.Engine - INFO - INSERT INTO teacher_subject (teacher_uuid, subject_uuid) VALUES (?, ?)
2025-05-12 10:12:43,415 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] [('58795571553a4dd8ac6ff00717afa573', '50863971153041d38e200e14fac915ad'), ('aa59c905e617427c92bcf4cfcd8eb847', 'b257988d6696488ea84718167c976bbe'), ('aa59c905e617427c92bcf4cfcd8eb847', '7a19b4e5377e45ba83d0286ff0947d42'), ('58795571553a4dd8ac6ff00717afa573', '75d9e3788de041609a7ca2f776b21d0d'), ('e7cfd75864f24574b4384db52b1c6de9', '2c083825fa2149fa8e3cb0a644aa5bf8')]
2025-05-12 10:12:43,416 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-12 10:12:43,420 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-12 10:12:43,421 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-12 10:12:43,422 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] ('58795571553a4dd8ac6ff00717afa573',)
2025-05-12 10:12:43,423 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-12 10:12:43,423 - sqlalchemy.engine.Engine - INFO - [cached since 0.001747s ago] ('aa59c905e617427c92bcf4cfcd8eb847',)
2025-05-12 10:12:43,424 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-12 10:12:43,424 - sqlalchemy.engine.Engine - INFO - [cached since 0.002881s ago] ('e7cfd75864f24574b4384db52b1c6de9',)
2025-05-12 10:12:43,426 - sqlalchemy.engine.Engine - INFO - UPDATE user SET managed_class_uuid=?, updated_at=? WHERE user.uuid = ?
2025-05-12 10:12:43,426 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('df6cf62a171144c8b5edd1c8b78d8231', '2025-05-12 10:12:43.426366', '58795571553a4dd8ac6ff00717afa573')
2025-05-12 10:12:43,427 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-05-12 10:12:43,430 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-05-12 10:12:43,430 - sqlalchemy.engine.Engine - INFO - SELECT user.uuid, user.chat_id, user.name, user.role, user.managed_class_uuid, user.school_uuid, user.created_at, user.updated_at 
FROM user 
WHERE user.uuid = ?
2025-05-12 10:12:43,430 - sqlalchemy.engine.Engine - INFO - [cached since 0.00918s ago] ('58795571553a4dd8ac6ff00717afa573',)
2025-05-12 10:12:43,432 - tg_bot.setup.auto_init - INFO - Auto-initialization completed successfully
2025-05-12 10:12:43,432 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-05-12 10:12:43,523 - root - INFO - Initializing hidden router for webhooks: /webhook. (/usr/src/app/app/routers/webhook.py)
